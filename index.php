<!--
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡴⠖⠛⠓⠲⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣏⣀⣀⣀⣀⠀⠘⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡿⠋⠉⠀⠈⠉⠻⣄⢹⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢧⣀⣀⡀⢀⣀⣤⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣿⣉⠉⣉⢉⣠⣾⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⣿⣿⣿⣿⣿⡿⠛⠳⣆⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⡠⠴⢿⣿⠋⠉⣹⠻⢿⣿⣿⣤⣴⣿⡆⠀⠀⠀⠀⠀⠀⠀
⠀⡀⠀⠀⢀⣀⣠⡾⠛⠋⠀⢀⡞⠀⠀⠀⠛⠀⠀⢹⡟⠻⣿⣿⣧⣄⡀⠀⣶⣤⣤⠀
⢠⣿⣷⣿⣿⠟⣛⣇⠀⠀⠀⣈⡷⣄⡀⠀⠀⠀⣠⣾⡟⠉⠉⠉⠉⢉⣿⣿⣿⣿⣿⡆
⢸⣿⣿⣿⠛⠁⠈⠙⢷⣦⠀⠀⠀⠀⠀⠈⢉⠋⢁⣼⣏⣡⣤⣤⢐⣺⣿⣿⣿⣿⠟⠁
⠀⠙⠿⣿⣷⢤⣀⡀⢸⢿⠀⠀⠀⠀⠒⣄⠈⢡⣾⣉⡤⠚⣩⢴⣿⣿⣿⣿⠿⠋⠀⠀
⠀⠀⠀⠙⢿⣷⣈⡙⠻⢿⣧⠀⠀⠀⠀⠸⡀⠈⠻⣯⡴⠋⣠⣾⡿⠟⠋⠁⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠙⢷⣿⢶⣤⣿⠈⠁⠀⠀⠀⠳⡄⠀⠙⢻⣿⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠽⣿⣽⣿⡀⠀⠀⠀⠀⠀⠿⣤⣴⣿⣿⣿⣦⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣷⡄⠀⠀⢀⣤⣾⣿⣿⡿⠛⠛⠻⣷⡀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⣿⣶⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠘⣷⡀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⡇⣸⣿⡿⢻⡇⠀⠀⠀⠀⢹⡇⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⠿⠀⠈⠻⣷⣿⣿⡇⠈⠁⠀⠀⠀⢀⣾⡇⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⢠⡟⠁⠀⠀⠀⠀⣿⣿⣿⣷⠀⠀⢀⣤⣶⣿⣿⠇⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⣠⣿⡰⠀⠀⠀⣠⣾⣿⣿⣿⣿⣷⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀

Eat ass, smoke grass, sled fast
-->

<html>
    <head>
        <title>Hype Quotes</title>
        <link rel="icon" type="image/x-icon" href="/favicon.webp">

        <style>.vh,dialog,v-h{position:absolute}blockquote address,blockquote cite,blockquote dfn,blockquote em,blockquote i,blockquote var,optgroup::before,q address,q cite,q dfn,q em,q i,q var{font-style:normal}.container,main{max-inline-size:var(--eff-line-length)}blockquote,q{font-style:italic}.bg,.box,.chip,.missing-card,.navbar,[role=tabpanel],aside,chip,details,header[is=nav-bar],missing-card{background:var(--colorful-bg)}.list-of-links a,nav a{text-decoration:none}.color,nav a{color:var(--accent)}table,time{font-variant-numeric:tabular-nums}caption,th{text-align:start}*,::after,::before{box-sizing:border-box;background-repeat:no-repeat}::after,::before{text-decoration:inherit;vertical-align:inherit}:root{cursor:default;overflow-wrap:break-word;-webkit-tap-highlight-color:transparent;text-size-adjust:none;-webkit-text-size-adjust:none}abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}audio,canvas,iframe,img,svg,video{vertical-align:middle}svg:not([fill]){fill:currentColor}table{border-collapse:collapse;border-color:currentColor;text-indent:0}.f-col>*,.f-row>*,body,button,input,select,textarea{margin:0}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}fieldset{border:1px solid #a0a0a0}progress{vertical-align:baseline}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{block-size:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}sub,sup{line-height:1}blockquote,html,pre{line-height:var(--rhythm)}dialog{background-color:#fff;border:solid;color:#000;block-size:-moz-fit-content;block-size:fit-content;inline-inset:0;margin:auto;padding:1em;inline-size:-moz-fit-content;inline-size:fit-content}dialog:not([open]){display:none}[hidden],datalist{display:none!important}.basicgrid,.f-col,.f-row,.f-switch{display:flex;gap:var(--gap)}:focus-visible{outline:.2em solid var(--accent);z-index:32}body:focus-visible,html:focus-visible,iframe:focus-visible{outline:0}:target{outline:.2em solid var(--fg);z-index:32}details>summary:first-of-type{display:list-item}[aria-busy=true]{cursor:progress}[aria-disabled=true],[disabled]{cursor:not-allowed}.info{--colorful-bg:var(--info-bg);--accent:var(--info-fg)}.ok{--colorful-bg:var(--ok-bg);--accent:var(--ok-fg)}.warn{--colorful-bg:var(--warn-bg);--accent:var(--warn-fg)}.bad{--colorful-bg:var(--bad-bg);--accent:var(--bad-fg)}.sub-title,blockquote,figcaption,optgroup::before,sub-title{color:var(--muted-fg)}.border{border-color:var(--accent)}.airy{--density:3}.autodensity,.dense{--density:1}.crowded{--density:.5}@media (min-width:768px){.autodensity{--density:2}}@media (min-width:1024px){.autodensity{--density:3}}.f-row{flex-direction:row}.f-col{flex-direction:column}.f-switch{flex-flow:row wrap;--col-width:15ch /* see ./layout.css */}.f-switch>*{margin:0;flex-basis:calc((var(--col-width) - 100%) * 999);flex-grow:1}.justify-content\:start{justify-content:start}.justify-content\:end{justify-content:end}.justify-content\:baseline{justify-content:baseline}.justify-content\:center{justify-content:center}.justify-content\:stretch{justify-content:stretch}.align-items\:start{align-items:start}.align-items\:end{align-items:end}.align-items\:baseline{align-items:baseline}.align-items\:center{align-items:center}.align-items\:stretch{align-items:stretch}.align-self\:start{align-self:start}.align-self\:end{align-self:end}.align-self\:baseline{align-self:baseline}.align-self\:center{align-self:center}.align-self\:stretch{align-self:stretch}.col-0,.grow-0{flex-grow:0}.grow-1{flex-grow:1}.grow-2{flex-grow:2}.grow-3{flex-grow:3}.grow-4{flex-grow:4}.grow-5{flex-grow:5}.grow-6{flex-grow:6}.grow-7{flex-grow:7}.grow-8{flex-grow:8}.grow-9{flex-grow:9}.grow-10{flex-grow:10}.grow-11{flex-grow:11}.grow-12{flex-grow:12}.vh,v-h{clip:rect(0 0 0 0);clip-path:inset(50%);block-size:1px;overflow:hidden;white-space:nowrap;inline-size:1px}.navbar,header[is=nav-bar],pre{overflow-x:auto;scrollbar-width:thin}.reset{all:initial}.basicgrid{flex-flow:row wrap;--col-width:15ch}.basicgrid>*{flex-grow:1;flex-shrink:1;flex-basis:var(--col-width);margin:0;min-width:1px}.colwidth-l{--col-width:35ch}.colwidth-m{--col-width:24ch}.colwidth-s{--col-width:15ch}.minwidth-l{min-width:35ch}.minwidth-m{min-width:24ch}.minwidth-s{min-width:15ch}.maxwidth-l{max-width:35ch}.maxwidth-m{max-width:24ch}.maxwidth-s{max-width:15ch}.col-1{flex-grow:1;flex-basis:calc(1 * var(--col-width))}.col-2{flex-grow:2;flex-basis:calc(2 * var(--col-width))}.col-3{flex-grow:3;flex-basis:calc(3 * var(--col-width))}.col-4{flex-grow:4;flex-basis:calc(4 * var(--col-width))}.col-5{flex-grow:5;flex-basis:calc(5 * var(--col-width))}.col-6{flex-grow:6;flex-basis:calc(6 * var(--col-width))}.col-7{flex-grow:7;flex-basis:calc(7 * var(--col-width))}.col-8{flex-grow:8;flex-basis:calc(8 * var(--col-width))}.col-9{flex-grow:9;flex-basis:calc(9 * var(--col-width))}.col-10{flex-grow:10;flex-basis:calc(10 * var(--col-width))}.col-11{flex-grow:11;flex-basis:calc(11 * var(--col-width))}.col-12{flex-grow:12;flex-basis:calc(12 * var(--col-width))}.col-inf{flex-grow:1000000}.textcolumns{--col-width:30ch;column-width:var(--col-width);column-gap:var(--gap);margin-block:var(--gap)}.textcolumns :first-child{margin-block-start:0!important}.textcenter{text-align:center}.container{margin-inline:auto}.fullbleed{position:relative;width:100vw;left:50%;transform:translateX(-50vw);border-radius:0;border-inline:none}.pad{padding-inline:var(--gap)}.margin{margin:var(--gap)}.table{display:table;width:100%;margin:0}.row,.rows>*{display:table-row}.row:not(:last-child)>*,.rows>:not(:last-child)>*{margin-bottom:var(--gap)}.row>:not([specificity-hack]),.rows>*>:not([specificity-hack]){display:table-cell;vertical-align:top}.row>*+:not([specificity-hack]),:is(.rows > *)>*+:not([specificity-hack]){margin-inline-start:var(--gap);display:inline-block}.fixed{position:fixed}.sticky{position:sticky}.\^,.top{top:0}.\>,.right{right:0}.\_,.bottom{bottom:0}.\<,.left{left:0}.float\<{float:left}.float\>{float:right}.allcaps,all-caps{text-transform:uppercase;letter-spacing:.1rem}.h1,.h2,h1,h2{text-transform:none;letter-spacing:0}.monospace,code,kbd,samp{font-family:var(--mono-font)}.box,.missing-card,aside,missing-card{margin:var(--gap) 0;padding:var(--gap);border-radius:calc(var(--rhythm)/ 4);border:1px solid var(--accent)}blockquote,dl,figcaption,p{margin-block:var(--gap)}:is(.box,missing-card,.missing-card)>:first-child:first-child:first-child:first-child,:is(.box,missing-card,.missing-card)>:first-child>:first-child:first-child:first-child,:is(.box,missing-card,.missing-card)>:first-child>:first-child>:first-child:first-child,:is(.box,missing-card,.missing-card)>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}:is(.box,missing-card,.missing-card)>:last-child:last-child:last-child:last-child,:is(.box,missing-card,.missing-card)>:last-child>:last-child:last-child:last-child,:is(.box,missing-card,.missing-card)>:last-child>:last-child>:last-child:last-child,:is(.box,missing-card,.missing-card)>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}.breadcrumbs[aria-label] ol,.breadcrumbs[aria-label] ul{list-style:none;padding-inline-start:0}.breadcrumbs[aria-label] li{display:inline}:is(.breadcrumbs[aria-label] li)+li::before{content:' / '/'';content:' / ';display:inline}.breadcrumbs[aria-label] [aria-current=page],dt{font-weight:700}.chip,chip{border:1px solid var(--accent);border-radius:calc(var(--rhythm)/ 2);padding-inline:calc(var(--rhythm)/ 2)}.navbar,header[is=nav-bar]{margin:0;padding:0 var(--rhythm);border-block-end:1px solid var(--accent);display:flex;flex-flow:row;gap:calc(2 * var(--rhythm))}[role=tab][role=tab],kbd kbd{background:var(--interactive-bg)}:is(.navbar,header[is=nav-bar]) :first-child{margin-inline-start:auto}:is(.navbar,header[is=nav-bar]) :last-child{margin-inline-end:auto}[role=tabpanel],details,fieldset,pre{margin:var(--gap) 0}:is(.navbar,header[is=nav-bar]) *{flex-shrink:0}:is(.navbar,header[is=nav-bar]) nav ul[role=list]{padding-inline-start:0;display:flex;flex-flow:row;gap:var(--rhythm)}[role=tabpanel],details,fieldset,figure{padding:var(--gap)}:is(.navbar,header[is=nav-bar]) nav ul[role=list] *{flex-shrink:0}:is(.navbar,header[is=nav-bar]) a{font-weight:700;text-decoration:none}.sub-title,sub-title{display:block;font-weight:400}ins,samp{color:var(--ok-fg)}del,s{color:var(--bad-fg)}[role=tablist]{display:flex;gap:.5ch;scrollbar-width:thin}[role=tab][role=tab]{all:initial;font-family:inherit;padding:0 calc(var(--rhythm)/ 4);margin:0;min-height:var(--rhythm);border:solid var(--accent);border-width:1px 1px 0;border-block-end-color:transparent;border-start-start-radius:.4em;border-start-end-radius:.4em}[role=tab][role=tab]:active,[role=tab][role=tab][aria-selected=true]{transform:none;bottom:-1px;position:relative;background:var(--colorful-bg);border-block-end:1px solid var(--colorful-bg)}[role=tabpanel]{border-radius:calc(var(--rhythm)/ 4);border:1px solid var(--accent);margin-block-start:0;border-start-start-radius:0;border-start-end-radius:0;z-index:1}[role=tabpanel]>:first-child:first-child:first-child:first-child,[role=tabpanel]>:first-child>:first-child:first-child:first-child,[role=tabpanel]>:first-child>:first-child>:first-child:first-child,[role=tabpanel]>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}[role=tabpanel]>:last-child:last-child:last-child:last-child,[role=tabpanel]>:last-child>:last-child:last-child:last-child,[role=tabpanel]>:last-child>:last-child>:last-child:last-child,[role=tabpanel]>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}.tool-bar,tool-bar{display:flex;flex-flow:row wrap;gap:calc(var(--gap)/ 2)}audio,embed,iframe,img,object,video{max-inline-size:100%;inline-size:max-content;block-size:auto}input{display:block}label input:not([specificity-hack]){display:inline;padding-block:0}button,input::file-selector-button,input[type=button],input[type=reset],input[type=submit]{display:inline-block;padding:0 calc(var(--rhythm)/ 4);vertical-align:top;font-size:.8rem;line-height:1.125em;font-family:var(--main-font);min-height:var(--rhythm);background:var(--interactive-bg);border:1px solid var(--accent);box-sizing:border-box;border-radius:.2em;box-shadow:0 .1em .2em var(--shadow)}:is(button,input[type=submit],input[type=reset],input[type=button],input::file-selector-button):focus-visible,:is(button,input[type=submit],input[type=reset],input[type=button],input::file-selector-button):hover{background:var(--colorful-bg)}:is(button,input[type=submit],input[type=reset],input[type=button],input::file-selector-button):active{box-shadow:none;background-color:var(--accent);color:var(--bg)}[aria-expanded=true]:is(button,input[type=submit],input[type=reset],input[type=button],input::file-selector-button),[aria-pressed=true]:is(button,input[type=submit],input[type=reset],input[type=button],input::file-selector-button){box-shadow:0 .05em var(--accent);transform:translateY(.05em);background:var(--pressed-interactive-bg)}input:not([type]),input[type=date],input[type=datetime-local],input[type=datetime],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select,textarea{padding:calc(var(--rhythm)/ 4);font-size:1rem;line-height:inherit;font-family:var(--main-font);background:var(--bg);border:1px solid var(--faded-fg);border-radius:.2em;vertical-align:top}:is(input:not([type]),input[type=text],input[type=search],input[type=tel],input[type=url],input[type=email],input[type=password],input[type=date],input[type=month],input[type=week],input[type=time],input[type=datetime],input[type=datetime-local],input[type=number],select,textarea):focus-visible{border:1px solid var(--accent)}:is(input:not([type]),input[type=text],input[type=search],input[type=tel],input[type=url],input[type=email],input[type=password],input[type=date],input[type=month],input[type=week],input[type=time],input[type=datetime],input[type=datetime-local],input[type=number],select,textarea)::placeholder{color:var(--muted-fg);opacity:1;text-align:end}input[type=range]{width:100%;padding:calc(var(--gap)/ 4)}input[type=color]{padding:0;margin:0;height:calc(1.5 * var(--rhythm));border:none;background:0 0}input[type=file]{padding:calc(var(--gap)/ 4) 0;font-size:inherit;line-height:calc(var(--rhythm) / 2)}input[type=file]::file-selector-button{margin-block:.1em 0;margin-inline-end:1ch}select[multiple],td,th{vertical-align:top}label[for]{display:block;padding-block:calc(var(--gap)/ 4)}fieldset{position:relative;width:100%;border-radius:.2em;border:1px solid var(--faded-fg)}fieldset>:first-child:first-child:first-child:first-child,fieldset>:first-child>:first-child:first-child:first-child,fieldset>:first-child>:first-child>:first-child:first-child,fieldset>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}fieldset>:last-child:last-child:last-child:last-child,fieldset>:last-child>:last-child:last-child:last-child,fieldset>:last-child>:last-child>:last-child:last-child,fieldset>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}fieldset>legend+*{margin-block-start:0}hr{color:inherit;flex-grow:0;border-inline-start:1px solid var(--accent);block-size:auto;border-block-start:1px solid var(--accent);border-block-end:none;border-inline-end:none}pre{font-family:var(--mono-font);font-size:.9em;tab-size:2;scrollbar-color:var(--accent) transparent}blockquote{margin-inline:0 var(--gap);padding-inline:var(--gap) 0;font-size:1.1em;border-inline-start:1px solid var(--faded-fg)}blockquote footer{text-align:right;text-align:end}ol,ul{padding-inline-start:var(--rhythm)}ol[role=list],ul[role=list]{padding-inline-start:0;list-style:none}ul{list-style:square}ol{list-style:decimal}dd{margin-inline-start:var(--rhythm)}figure{max-width:100%;margin-inline:0;border:1px solid var(--faded-fg);border-radius:calc(var(--rhythm)/ 4)}figure>:first-child:first-child:first-child:first-child,figure>:first-child>:first-child:first-child:first-child,figure>:first-child>:first-child>:first-child:first-child,figure>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}figure>:last-child:last-child:last-child:last-child,figure>:last-child>:last-child:last-child:last-child,figure>:last-child>:last-child>:last-child:last-child,figure>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}main{margin:auto}a{color:var(--link-fg,var(--accent))}a:hover{text-decoration:underline}span>small:only-child{display:block;float:inline-end;clear:inline-end;--sidenote-width:20ch;max-inline-size:var(--sidenote-width);padding-inline:1.5ch 1ch;margin-inline-end:calc(1em - var(--sidenote-width));margin-block-end:var(--rhythm);background:var(--bg);border:1px solid transparent;transition:transform .1s ease-in-out}span>small:only-child:focus-within,span>small:only-child:hover{border:1px solid var(--faded-fg);border-radius:.2em;transform:translateX(calc(0 - var(--sidenote-width) + min(var(--gutter-width),var(--sidenote-width))))}kbd kbd{display:inline-block;padding:0 .3em;font-size:.8em;line-height:1.1em;border:1px outset var(--faded-fg);border-block-end-width:3px;border-radius:.3em}sub{vertical-align:bottom}sup{vertical-align:top}mark{background:var(--warn-bg);color:var(--warn-fg)}ins{background:var(--ok-bg)}del{background:var(--bad-bg)}details{border-radius:calc(var(--rhythm)/ 4);border:1px solid var(--accent);padding-block-start:0}details>:first-child:first-child:first-child:first-child,details>:first-child>:first-child:first-child:first-child,details>:first-child>:first-child>:first-child:first-child,details>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}details>:last-child:last-child:last-child:last-child,details>:last-child>:last-child:last-child:last-child,details>:last-child>:last-child>:last-child:last-child,details>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}details:not([open]){padding-block-end:0}summary{margin:calc(0px - var(--gap));margin-bottom:0;padding-inline:var(--gap);font-weight:700;background:var(--accent);color:var(--bg);border-radius:inherit;cursor:pointer}summary:active,summary:focus-visible{background:var(--muted-accent);border-color:var(--muted-accent)}details[open] summary{border-block-end:1px solid var(--accent);border-end-end-radius:0;border-end-start-radius:0}html{font-family:var(--main-font);font-size:120%}footer,header,section{margin-block:calc(2 * var(--gap))}aside>:first-child:first-child:first-child:first-child,aside>:first-child>:first-child:first-child:first-child,aside>:first-child>:first-child>:first-child:first-child,aside>:first-child>:first-child>:first-child>:first-child{margin-block-start:0}aside>:last-child:last-child:last-child:last-child,aside>:last-child>:last-child:last-child:last-child,aside>:last-child>:last-child>:last-child:last-child,aside>:last-child>:last-child>:last-child>:last-child{margin-block-end:0}aside h1,aside h2,aside h3,aside h4,aside h5,aside h6{font-size:1em;text-transform:none;letter-spacing:none}h1,h2,h3,h4,h5,h6{margin-block-end:var(--gap);font-family:var(--display-font);margin-block-start:calc(2 * var(--gap))}.h4,.h5,.h6,h1+h2,h1:first-child,h2+h3,h2:first-child,h3+h4,h3:first-child,h4,h4+h5,h4:first-child,h5,h5+h6,h5:first-child,h6,h6:first-child{margin-block-start:var(--gap)}.h1,h1{font-size:2em;line-height:calc(2 * var(--rhythm))}.h2,h2{font-size:1.6em;line-height:calc(1.5 * var(--rhythm))}.h3,.h4,.h5,.h6,h3,h4,h5,h6{line-height:calc(1 * var(--rhythm))}.h3,h3{font-size:1.17em;text-transform:uppercase;letter-spacing:.02em}.h4,.h5,.h6,h4,h5,h6{font-size:1em;text-transform:none;letter-spacing:0}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{outline:0}h1:target::before,h2:target::before,h3:target::before,h4:target::before,h5:target::before,h6:target::before{content:'❧';display:inline-block;width:0;transform:translateX(-1.5ch);font-size:2em;vertical-align:bottom;color:var(--accent)}header{border-block-end:1px solid var(--faded-fg)}footer{border-block-start:1px solid var(--faded-fg)}body>footer,body>header{padding:var(--rhythm) var(--gutter-width)}address{--density:0}table{font:inherit}caption{font-style:italic}tbody{border-block:1px solid var(--fg)}td:not(:last-child),th:not(:last-child){padding-inline-end:var(--rhythm)}:root{--fg:#000;--muted-fg:#3e3e3e;--faded-fg:#8b8b8b;--info-fg:#00386d;--ok-fg:#004825;--bad-fg:#830014;--warn-fg:#463d00;--bg:#fff;--colorful-bg:#d7fff7;--interactive-bg:#e2e2e2;--info-bg:#d4e0ff;--ok-bg:#5dffa2;--bad-bg:#ffddd8;--warn-bg:#ffe53e;--shadow:#777;--accent:#007f5f;--muted-accent:#42ffc6;--rhythm:1.4rem;--line-length:40rem;--main-font:'Inter',-apple-system,system-ui,sans-serif;--display-font:var(--main-font);--mono-font:'M Plus Code Latin',monospace,monospace;--density:1;--eff-line-length:/* Effective line length for prose. */ min(
			calc( 100vw - (2 * var(--rhythm)) ),
			var(--line-length)
		);--gutter-width:/* Width of spaces at each side of page content. */ calc(
			(
				100vw                      /* Viewport width */
				- var(--eff-line-length)
			) / 2)}*{--gap:calc(var(--rhythm) * var(--density));accent-color:var(--accent)}</style>
        <script>(function(e,t){if(typeof define==="function"&&define.amd){define([],t)}else{e.htmx=t()}})(typeof self!=="undefined"?self:this,function(){return function(){"use strict";var U={onLoad:t,process:ct,on:M,off:D,trigger:$,ajax:er,find:C,findAll:R,closest:H,values:function(e,t){var r=Mt(e,t||"post");return r.values},remove:O,addClass:L,removeClass:q,toggleClass:A,takeClass:T,defineExtension:or,removeExtension:ar,logAll:E,logger:null,config:{historyEnabled:true,historyCacheSize:10,refreshOnHistoryMiss:false,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:true,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:true,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:false,timeout:0,wsReconnectDelay:"full-jitter",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:false,scrollBehavior:"smooth",defaultFocusScroll:false},parseInterval:v,_:e,createEventSource:function(e){return new EventSource(e,{withCredentials:true})},createWebSocket:function(e){return new WebSocket(e,[])},version:"1.7.0"};var r={bodyContains:Y,filterValues:jt,hasAttribute:s,getAttributeValue:V,getClosestMatch:h,getExpressionVars:Gt,getHeaders:Xt,getInputValues:Mt,getInternalData:_,getSwapSpecification:Ut,getTriggerSpecs:ke,getTarget:ne,makeFragment:g,mergeObjects:Q,makeSettleInfo:zt,oobSwap:B,selectAndSwap:we,settleImmediately:Ct,shouldCancel:Pe,triggerEvent:$,triggerErrorEvent:J,withExtensions:gt};var n=["get","post","put","delete","patch"];var i=n.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", ");function v(e){if(e==undefined){return undefined}if(e.slice(-2)=="ms"){return parseFloat(e.slice(0,-2))||undefined}if(e.slice(-1)=="s"){return parseFloat(e.slice(0,-1))*1e3||undefined}return parseFloat(e)||undefined}function f(e,t){return e.getAttribute&&e.getAttribute(t)}function s(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function V(e,t){return f(e,t)||f(e,"data-"+t)}function u(e){return e.parentElement}function z(){return document}function h(e,t){if(t(e)){return e}else if(u(e)){return h(u(e),t)}else{return null}}function o(e,t,r){var n=V(t,r);var i=V(t,"hx-disinherit");if(e!==t&&i&&(i==="*"||i.split(" ").indexOf(r)>=0)){return"unset"}else{return n}}function G(t,r){var n=null;h(t,function(e){return n=o(t,e,r)});if(n!=="unset"){return n}}function d(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function a(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var r=t.exec(e);if(r){return r[1].toLowerCase()}else{return""}}function l(e,t){var r=new DOMParser;var n=r.parseFromString(e,"text/html");var i=n.body;while(t>0){t--;i=i.firstChild}if(i==null){i=z().createDocumentFragment()}return i}function g(e){if(U.config.useTemplateFragments){var t=l("<body><template>"+e+"</template></body>",0);return t.querySelector("template").content}else{var r=a(e);switch(r){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return l("<table>"+e+"</table>",1);case"col":return l("<table><colgroup>"+e+"</colgroup></table>",2);case"tr":return l("<table><tbody>"+e+"</tbody></table>",2);case"td":case"th":return l("<table><tbody><tr>"+e+"</tr></tbody></table>",3);case"script":return l("<div>"+e+"</div>",1);default:return l(e,0)}}}function K(e){if(e){e()}}function p(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function m(e){return p(e,"Function")}function x(e){return p(e,"Object")}function _(e){var t="htmx-internal-data";var r=e[t];if(!r){r=e[t]={}}return r}function y(e){var t=[];if(e){for(var r=0;r<e.length;r++){t.push(e[r])}}return t}function W(e,t){if(e){for(var r=0;r<e.length;r++){t(e[r])}}}function b(e){var t=e.getBoundingClientRect();var r=t.top;var n=t.bottom;return r<window.innerHeight&&n>=0}function Y(e){if(e.getRootNode()instanceof ShadowRoot){return z().body.contains(e.getRootNode().host)}else{return z().body.contains(e)}}function w(e){return e.trim().split(/\s+/)}function Q(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}function S(e){try{return JSON.parse(e)}catch(e){pt(e);return null}}function e(e){return Jt(z().body,function(){return eval(e)})}function t(t){var e=U.on("htmx:load",function(e){t(e.detail.elt)});return e}function E(){U.logger=function(e,t,r){if(console){console.log(t,e,r)}}}function C(e,t){if(t){return e.querySelector(t)}else{return C(z(),e)}}function R(e,t){if(t){return e.querySelectorAll(t)}else{return R(z(),e)}}function O(e,t){e=k(e);if(t){setTimeout(function(){O(e)},t)}else{e.parentElement.removeChild(e)}}function L(e,t,r){e=k(e);if(r){setTimeout(function(){L(e,t)},r)}else{e.classList&&e.classList.add(t)}}function q(e,t,r){e=k(e);if(r){setTimeout(function(){q(e,t)},r)}else{if(e.classList){e.classList.remove(t);if(e.classList.length===0){e.removeAttribute("class")}}}}function A(e,t){e=k(e);e.classList.toggle(t)}function T(e,t){e=k(e);W(e.parentElement.children,function(e){q(e,t)});L(e,t)}function H(e,t){e=k(e);if(e.closest){return e.closest(t)}else{do{if(e==null||d(e,t)){return e}}while(e=e&&u(e))}}function N(e,t){if(t.indexOf("closest ")===0){return[H(e,t.substr(8))]}else if(t.indexOf("find ")===0){return[C(e,t.substr(5))]}else if(t==="document"){return[document]}else if(t==="window"){return[window]}else{return z().querySelectorAll(t)}}function ee(e,t){if(t){return N(e,t)[0]}else{return N(z().body,e)[0]}}function k(e){if(p(e,"String")){return C(e)}else{return e}}function I(e,t,r){if(m(t)){return{target:z().body,event:e,listener:t}}else{return{target:k(e),event:t,listener:r}}}function M(t,r,n){lr(function(){var e=I(t,r,n);e.target.addEventListener(e.event,e.listener)});var e=m(r);return e?r:n}function D(t,r,n){lr(function(){var e=I(t,r,n);e.target.removeEventListener(e.event,e.listener)});return m(r)?r:n}var te=z().createElement("output");function F(e,t){var r=G(e,t);if(r){if(r==="this"){return[re(e,t)]}else{var n=N(e,r);if(n.length===0){pt('The selector "'+r+'" on '+t+" returned no matches!");return[te]}else{return n}}}}function re(e,t){return h(e,function(e){return V(e,t)!=null})}function ne(e){var t=G(e,"hx-target");if(t){if(t==="this"){return re(e,"hx-target")}else{return ee(e,t)}}else{var r=_(e);if(r.boosted){return z().body}else{return e}}}function P(e){var t=U.config.attributesToSettle;for(var r=0;r<t.length;r++){if(e===t[r]){return true}}return false}function X(t,r){W(t.attributes,function(e){if(!r.hasAttribute(e.name)&&P(e.name)){t.removeAttribute(e.name)}});W(r.attributes,function(e){if(P(e.name)){t.setAttribute(e.name,e.value)}})}function j(e,t){var r=sr(t);for(var n=0;n<r.length;n++){var i=r[n];try{if(i.isInlineSwap(e)){return true}}catch(e){pt(e)}}return e==="outerHTML"}function B(e,i,o){var t="#"+i.id;var a="outerHTML";if(e==="true"){}else if(e.indexOf(":")>0){a=e.substr(0,e.indexOf(":"));t=e.substr(e.indexOf(":")+1,e.length)}else{a=e}var r=z().querySelectorAll(t);if(r){W(r,function(e){var t;var r=i.cloneNode(true);t=z().createDocumentFragment();t.appendChild(r);if(!j(a,e)){t=r}var n={shouldSwap:true,target:e,fragment:t};if(!$(e,"htmx:oobBeforeSwap",n))return;e=n.target;if(n["shouldSwap"]){ye(a,e,e,t,o)}W(o.elts,function(e){$(e,"htmx:oobAfterSwap",n)})});i.parentNode.removeChild(i)}else{i.parentNode.removeChild(i);J(z().body,"htmx:oobErrorNoTarget",{content:i})}return e}function ie(e,r){W(R(e,"[hx-swap-oob], [data-hx-swap-oob]"),function(e){var t=V(e,"hx-swap-oob");if(t!=null){B(t,e,r)}})}function oe(e){W(R(e,"[hx-preserve], [data-hx-preserve]"),function(e){var t=V(e,"id");var r=z().getElementById(t);if(r!=null){e.parentNode.replaceChild(r,e)}})}function ae(n,e,i){W(e.querySelectorAll("[id]"),function(e){if(e.id&&e.id.length>0){var t=n.querySelector(e.tagName+"[id='"+e.id+"']");if(t&&t!==n){var r=e.cloneNode();X(e,t);i.tasks.push(function(){X(e,r)})}}})}function se(e){return function(){q(e,U.config.addedClass);ct(e);at(e);le(e);$(e,"htmx:load")}}function le(e){var t="[autofocus]";var r=d(e,t)?e:e.querySelector(t);if(r!=null){r.focus()}}function ue(e,t,r,n){ae(e,r,n);while(r.childNodes.length>0){var i=r.firstChild;L(i,U.config.addedClass);e.insertBefore(i,t);if(i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE){n.tasks.push(se(i))}}}function fe(t){var e=_(t);if(e.webSocket){e.webSocket.close()}if(e.sseEventSource){e.sseEventSource.close()}$(t,"htmx:beforeCleanupElement");if(e.listenerInfos){W(e.listenerInfos,function(e){if(t!==e.on){e.on.removeEventListener(e.trigger,e.listener)}})}if(t.children){W(t.children,function(e){fe(e)})}}function ce(e,t,r){if(e.tagName==="BODY"){return me(e,t,r)}else{var n;var i=e.previousSibling;ue(u(e),e,t,r);if(i==null){n=u(e).firstChild}else{n=i.nextSibling}_(e).replacedWith=n;r.elts=[];while(n&&n!==e){if(n.nodeType===Node.ELEMENT_NODE){r.elts.push(n)}n=n.nextElementSibling}fe(e);u(e).removeChild(e)}}function he(e,t,r){return ue(e,e.firstChild,t,r)}function de(e,t,r){return ue(u(e),e,t,r)}function ve(e,t,r){return ue(e,null,t,r)}function ge(e,t,r){return ue(u(e),e.nextSibling,t,r)}function pe(e,t,r){fe(e);return u(e).removeChild(e)}function me(e,t,r){var n=e.firstChild;ue(e,n,t,r);if(n){while(n.nextSibling){fe(n.nextSibling);e.removeChild(n.nextSibling)}fe(n);e.removeChild(n)}}function xe(e,t){var r=G(e,"hx-select");if(r){var n=z().createDocumentFragment();W(t.querySelectorAll(r),function(e){n.appendChild(e)});t=n}return t}function ye(e,t,r,n,i){switch(e){case"none":return;case"outerHTML":ce(r,n,i);return;case"afterbegin":he(r,n,i);return;case"beforebegin":de(r,n,i);return;case"beforeend":ve(r,n,i);return;case"afterend":ge(r,n,i);return;case"delete":pe(r,n,i);return;default:var o=sr(t);for(var a=0;a<o.length;a++){var f=o[a];try{var s=f.handleSwap(e,r,n,i);if(s){if(typeof s.length!=="undefined"){for(var l=0;l<s.length;l++){var u=s[l];if(u.nodeType!==Node.TEXT_NODE&&u.nodeType!==Node.COMMENT_NODE){i.tasks.push(se(u))}}}return}}catch(e){pt(e)}}if(e==="innerHTML"){me(r,n,i)}else{ye(U.config.defaultSwapStyle,t,r,n,i)}}}function be(e){if(e.indexOf("<title")>-1){var t=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");var r=t.match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(r){return r[2]}}}function we(e,t,r,n,i){i.title=be(n);var o=g(n);if(o){ie(o,i);o=xe(r,o);oe(o);return ye(e,r,t,o,i)}}function Se(e,t,r){var n=e.getResponseHeader(t);if(n.indexOf("{")===0){var i=S(n);for(var o in i){if(i.hasOwnProperty(o)){var a=i[o];if(!x(a)){a={value:a}}$(r,o,a)}}}else{$(r,n,[])}}var Ee=/\s/;var Ce=/[\s,]/;var Re=/[_$a-zA-Z]/;var Oe=/[_$a-zA-Z0-9]/;var Le=['"',"'","/"];var qe=/[^\s]/;function Ae(e){var t=[];var r=0;while(r<e.length){if(Re.exec(e.charAt(r))){var n=r;while(Oe.exec(e.charAt(r+1))){r++}t.push(e.substr(n,r-n+1))}else if(Le.indexOf(e.charAt(r))!==-1){var i=e.charAt(r);var n=r;r++;while(r<e.length&&e.charAt(r)!==i){if(e.charAt(r)==="\\"){r++}r++}t.push(e.substr(n,r-n+1))}else{var o=e.charAt(r);t.push(o)}r++}return t}function Te(e,t,r){return Re.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==r&&t!=="."}function He(e,t,r){if(t[0]==="["){t.shift();var n=1;var i=" return (function("+r+"){ return (";var o=null;while(t.length>0){var a=t[0];if(a==="]"){n--;if(n===0){if(o===null){i=i+"true"}t.shift();i+=")})";try{var s=Jt(e,function(){return Function(i)()},function(){return true});s.source=i;return s}catch(e){J(z().body,"htmx:syntax:error",{error:e,source:i});return null}}}else if(a==="["){n++}if(Te(a,o,r)){i+="(("+r+"."+a+") ? ("+r+"."+a+") : (window."+a+"))"}else{i=i+a}o=t.shift()}}}function c(e,t){var r="";while(e.length>0&&!e[0].match(t)){r+=e.shift()}return r}var Ne="input, textarea, select";function ke(e){var t=V(e,"hx-trigger");var r=[];if(t){var n=Ae(t);do{c(n,qe);var f=n.length;var i=c(n,/[,\[\s]/);if(i!==""){if(i==="every"){var o={trigger:"every"};c(n,qe);o.pollInterval=v(c(n,/[,\[\s]/));c(n,qe);var a=He(e,n,"event");if(a){o.eventFilter=a}r.push(o)}else if(i.indexOf("sse:")===0){r.push({trigger:"sse",sseEvent:i.substr(4)})}else{var s={trigger:i};var a=He(e,n,"event");if(a){s.eventFilter=a}while(n.length>0&&n[0]!==","){c(n,qe);var l=n.shift();if(l==="changed"){s.changed=true}else if(l==="once"){s.once=true}else if(l==="consume"){s.consume=true}else if(l==="delay"&&n[0]===":"){n.shift();s.delay=v(c(n,Ce))}else if(l==="from"&&n[0]===":"){n.shift();var u=c(n,Ce);if(u==="closest"||u==="find"){n.shift();u+=" "+c(n,Ce)}s.from=u}else if(l==="target"&&n[0]===":"){n.shift();s.target=c(n,Ce)}else if(l==="throttle"&&n[0]===":"){n.shift();s.throttle=v(c(n,Ce))}else if(l==="queue"&&n[0]===":"){n.shift();s.queue=c(n,Ce)}else if((l==="root"||l==="threshold")&&n[0]===":"){n.shift();s[l]=c(n,Ce)}else{J(e,"htmx:syntax:error",{token:n.shift()})}}r.push(s)}}if(n.length===f){J(e,"htmx:syntax:error",{token:n.shift()})}c(n,qe)}while(n[0]===","&&n.shift())}if(r.length>0){return r}else if(d(e,"form")){return[{trigger:"submit"}]}else if(d(e,Ne)){return[{trigger:"change"}]}else{return[{trigger:"click"}]}}function Ie(e){_(e).cancelled=true}function Me(e,t,r,n){var i=_(e);i.timeout=setTimeout(function(){if(Y(e)&&i.cancelled!==true){if(!je(n,dt("hx:poll:trigger",{triggerSpec:n,target:e}))){Z(t,r,e)}Me(e,t,V(e,"hx-"+t),n)}},n.pollInterval)}function De(e){return location.hostname===e.hostname&&f(e,"href")&&f(e,"href").indexOf("#")!==0}function Fe(t,r,e){if(t.tagName==="A"&&De(t)&&t.target===""||t.tagName==="FORM"){r.boosted=true;var n,i;if(t.tagName==="A"){n="get";i=f(t,"href");r.pushURL=true}else{var o=f(t,"method");n=o?o.toLowerCase():"get";if(n==="get"){r.pushURL=true}i=f(t,"action")}e.forEach(function(e){Be(t,n,i,r,e,true)})}}function Pe(e,t){if(e.type==="submit"||e.type==="click"){if(t.tagName==="FORM"){return true}if(d(t,'input[type="submit"], button')&&H(t,"form")!==null){return true}if(t.tagName==="A"&&t.href&&(t.getAttribute("href")==="#"||t.getAttribute("href").indexOf("#")!==0)){return true}}return false}function Xe(e,t){return _(e).boosted&&e.tagName==="A"&&t.type==="click"&&(t.ctrlKey||t.metaKey)}function je(e,t){var r=e.eventFilter;if(r){try{return r(t)!==true}catch(e){J(z().body,"htmx:eventFilter:error",{error:e,source:r.source});return true}}return false}function Be(o,a,s,e,l,u){var t;if(l.from){t=N(o,l.from)}else{t=[o]}W(t,function(n){var i=function(e){if(!Y(o)){n.removeEventListener(l.trigger,i);return}if(Xe(o,e)){return}if(u||Pe(e,o)){e.preventDefault()}if(je(l,e)){return}var t=_(e);t.triggerSpec=l;if(t.handledFor==null){t.handledFor=[]}var r=_(o);if(t.handledFor.indexOf(o)<0){t.handledFor.push(o);if(l.consume){e.stopPropagation()}if(l.target&&e.target){if(!d(e.target,l.target)){return}}if(l.once){if(r.triggeredOnce){return}else{r.triggeredOnce=true}}if(l.changed){if(r.lastValue===o.value){return}else{r.lastValue=o.value}}if(r.delayed){clearTimeout(r.delayed)}if(r.throttle){return}if(l.throttle){if(!r.throttle){Z(a,s,o,e);r.throttle=setTimeout(function(){r.throttle=null},l.throttle)}}else if(l.delay){r.delayed=setTimeout(function(){Z(a,s,o,e)},l.delay)}else{Z(a,s,o,e)}}};if(e.listenerInfos==null){e.listenerInfos=[]}e.listenerInfos.push({trigger:l.trigger,listener:i,on:n});n.addEventListener(l.trigger,i)})}var Ue=false;var Ve=null;function ze(){if(!Ve){Ve=function(){Ue=true};window.addEventListener("scroll",Ve);setInterval(function(){if(Ue){Ue=false;W(z().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(e){_e(e)})}},200)}}function _e(e){if(!s(e,"data-hx-revealed")&&b(e)){e.setAttribute("data-hx-revealed","true");var t=_(e);if(t.initialized){Z(t.verb,t.path,e)}else{e.addEventListener("htmx:afterProcessNode",function(){Z(t.verb,t.path,e)},{once:true})}}}function We(e,t,r){var n=w(r);for(var i=0;i<n.length;i++){var o=n[i].split(/:(.+)/);if(o[0]==="connect"){Je(e,o[1],0)}if(o[0]==="send"){Ze(e)}}}function Je(s,r,n){if(!Y(s)){return}if(r.indexOf("/")==0){var e=location.hostname+(location.port?":"+location.port:"");if(location.protocol=="https:"){r="wss://"+e+r}else if(location.protocol=="http:"){r="ws://"+e+r}}var t=U.createWebSocket(r);t.onerror=function(e){J(s,"htmx:wsError",{error:e,socket:t});$e(s)};t.onclose=function(e){if([1006,1012,1013].indexOf(e.code)>=0){var t=Ge(n);setTimeout(function(){Je(s,r,n+1)},t)}};t.onopen=function(e){n=0};_(s).webSocket=t;t.addEventListener("message",function(e){if($e(s)){return}var t=e.data;gt(s,function(e){t=e.transformResponse(t,null,s)});var r=zt(s);var n=g(t);var i=y(n.children);for(var o=0;o<i.length;o++){var a=i[o];B(V(a,"hx-swap-oob")||"true",a,r)}Ct(r.tasks)})}function $e(e){if(!Y(e)){_(e).webSocket.close();return true}}function Ze(u){var f=h(u,function(e){return _(e).webSocket!=null});if(f){u.addEventListener(ke(u)[0].trigger,function(e){var t=_(f).webSocket;var r=Xt(u,f);var n=Mt(u,"post");var i=n.errors;var o=n.values;var a=Gt(u);var s=Q(o,a);var l=jt(s,u);l["HEADERS"]=r;if(i&&i.length>0){$(u,"htmx:validation:halted",i);return}t.send(JSON.stringify(l));if(Pe(e,u)){e.preventDefault()}})}else{J(u,"htmx:noWebSocketSourceError")}}function Ge(e){var t=U.config.wsReconnectDelay;if(typeof t==="function"){return t(e)}if(t==="full-jitter"){var r=Math.min(e,6);var n=1e3*Math.pow(2,r);return n*Math.random()}pt('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function Ke(e,t,r){var n=w(r);for(var i=0;i<n.length;i++){var o=n[i].split(/:(.+)/);if(o[0]==="connect"){Ye(e,o[1])}if(o[0]==="swap"){Qe(e,o[1])}}}function Ye(t,e){var r=U.createEventSource(e);r.onerror=function(e){J(t,"htmx:sseError",{error:e,source:r});tt(t)};_(t).sseEventSource=r}function Qe(o,a){var s=h(o,rt);if(s){var l=_(s).sseEventSource;var u=function(e){if(tt(s)){l.removeEventListener(a,u);return}var t=e.data;gt(o,function(e){t=e.transformResponse(t,null,o)});var r=Ut(o);var n=ne(o);var i=zt(o);we(r.swapStyle,o,n,t,i);Ct(i.tasks);$(o,"htmx:sseMessage",e)};_(o).sseListener=u;l.addEventListener(a,u)}else{J(o,"htmx:noSSESourceError")}}function et(e,t,r,n){var i=h(e,rt);if(i){var o=_(i).sseEventSource;var a=function(){if(!tt(i)){if(Y(e)){Z(t,r,e)}else{o.removeEventListener(n,a)}}};_(e).sseListener=a;o.addEventListener(n,a)}else{J(e,"htmx:noSSESourceError")}}function tt(e){if(!Y(e)){_(e).sseEventSource.close();return true}}function rt(e){return _(e).sseEventSource!=null}function nt(e,t,r,n,i){var o=function(){if(!n.loaded){n.loaded=true;Z(t,r,e)}};if(i){setTimeout(o,i)}else{o()}}function it(o,a,e){var t=false;W(n,function(n){if(s(o,"hx-"+n)){var i=V(o,"hx-"+n);t=true;a.path=i;a.verb=n;e.forEach(function(e){if(e.sseEvent){et(o,n,i,e.sseEvent)}else if(e.trigger==="revealed"){ze();_e(o)}else if(e.trigger==="intersect"){var t={};if(e.root){t.root=ee(o,e.root)}if(e.threshold){t.threshold=parseFloat(e.threshold)}var r=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.isIntersecting){$(o,"intersect");break}}},t);r.observe(o);Be(o,n,i,a,e)}else if(e.trigger==="load"){nt(o,n,i,a,e.delay)}else if(e.pollInterval){a.polling=true;Me(o,n,i,e)}else{Be(o,n,i,a,e)}})}});return t}function ot(e){if(e.type==="text/javascript"||e.type==="module"||e.type===""){var t=z().createElement("script");W(e.attributes,function(e){t.setAttribute(e.name,e.value)});t.textContent=e.textContent;t.async=false;if(U.config.inlineScriptNonce){t.nonce=U.config.inlineScriptNonce}var r=e.parentElement;try{r.insertBefore(t,e)}catch(e){pt(e)}finally{r.removeChild(e)}}}function at(e){if(d(e,"script")){ot(e)}W(R(e,"script"),function(e){ot(e)})}function st(){return document.querySelector("[hx-boost], [data-hx-boost]")}function lt(e){if(e.querySelectorAll){var t=st()?", a, form":"";var r=e.querySelectorAll(i+t+", [hx-sse], [data-hx-sse], [hx-ws],"+" [data-hx-ws], [hx-ext], [hx-data-ext]");return r}else{return[]}}function ut(r){var e=function(e){if(d(e.target,"button, input[type='submit']")){var t=_(r);t.lastButtonClicked=e.target}};r.addEventListener("click",e);r.addEventListener("focusin",e);r.addEventListener("focusout",function(e){var t=_(r);t.lastButtonClicked=null})}function ft(e){if(e.closest&&e.closest(U.config.disableSelector)){return}var t=_(e);if(!t.initialized){t.initialized=true;$(e,"htmx:beforeProcessNode");if(e.value){t.lastValue=e.value}var r=ke(e);var n=it(e,t,r);if(!n&&G(e,"hx-boost")==="true"){Fe(e,t,r)}if(e.tagName==="FORM"){ut(e)}var i=V(e,"hx-sse");if(i){Ke(e,t,i)}var o=V(e,"hx-ws");if(o){We(e,t,o)}$(e,"htmx:afterProcessNode")}}function ct(e){e=k(e);ft(e);W(lt(e),function(e){ft(e)})}function ht(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function dt(e,t){var r;if(window.CustomEvent&&typeof window.CustomEvent==="function"){r=new CustomEvent(e,{bubbles:true,cancelable:true,detail:t})}else{r=z().createEvent("CustomEvent");r.initCustomEvent(e,true,true,t)}return r}function J(e,t,r){$(e,t,Q({error:t},r))}function vt(e){return e==="htmx:afterProcessNode"}function gt(e,t){W(sr(e),function(e){try{t(e)}catch(e){pt(e)}})}function pt(e){if(console.error){console.error(e)}else if(console.log){console.log("ERROR: ",e)}}function $(e,t,r){e=k(e);if(r==null){r={}}r["elt"]=e;var n=dt(t,r);if(U.logger&&!vt(t)){U.logger(e,t,r)}if(r.error){pt(r.error);$(e,"htmx:error",{errorInfo:r})}var i=e.dispatchEvent(n);var o=ht(t);if(i&&o!==t){var a=dt(o,n.detail);i=i&&e.dispatchEvent(a)}gt(e,function(e){i=i&&e.onEvent(t,n)!==false});return i}var mt=location.pathname+location.search;function xt(){var e=z().querySelector("[hx-history-elt],[data-hx-history-elt]");return e||z().body}function yt(e,t,r,n){var i=S(localStorage.getItem("htmx-history-cache"))||[];for(var o=0;o<i.length;o++){if(i[o].url===e){i.splice(o,1);break}}i.push({url:e,content:t,title:r,scroll:n});while(i.length>U.config.historyCacheSize){i.shift()}while(i.length>0){try{localStorage.setItem("htmx-history-cache",JSON.stringify(i));break}catch(e){J(z().body,"htmx:historyCacheError",{cause:e,cache:i});i.shift()}}}function bt(e){var t=S(localStorage.getItem("htmx-history-cache"))||[];for(var r=0;r<t.length;r++){if(t[r].url===e){return t[r]}}return null}function wt(e){var t=U.config.requestClass;var r=e.cloneNode(true);W(R(r,"."+t),function(e){q(e,t)});return r.innerHTML}function St(){var e=xt();var t=mt||location.pathname+location.search;$(z().body,"htmx:beforeHistorySave",{path:t,historyElt:e});if(U.config.historyEnabled)history.replaceState({htmx:true},z().title,window.location.href);yt(t,wt(e),z().title,window.scrollY)}function Et(e){if(U.config.historyEnabled)history.pushState({htmx:true},"",e);mt=e}function Ct(e){W(e,function(e){e.call()})}function Rt(n){var e=new XMLHttpRequest;var i={path:n,xhr:e};$(z().body,"htmx:historyCacheMiss",i);e.open("GET",n,true);e.setRequestHeader("HX-History-Restore-Request","true");e.onload=function(){if(this.status>=200&&this.status<400){$(z().body,"htmx:historyCacheMissLoad",i);var e=g(this.response);e=e.querySelector("[hx-history-elt],[data-hx-history-elt]")||e;var t=xt();var r=zt(t);me(t,e,r);Ct(r.tasks);mt=n;$(z().body,"htmx:historyRestore",{path:n})}else{J(z().body,"htmx:historyCacheMissLoadError",i)}};e.send()}function Ot(e){St();e=e||location.pathname+location.search;var t=bt(e);if(t){var r=g(t.content);var n=xt();var i=zt(n);me(n,r,i);Ct(i.tasks);document.title=t.title;window.scrollTo(0,t.scroll);mt=e;$(z().body,"htmx:historyRestore",{path:e})}else{if(U.config.refreshOnHistoryMiss){window.location.reload(true)}else{Rt(e)}}}function Lt(e){var t=G(e,"hx-push-url");return t&&t!=="false"||_(e).boosted&&_(e).pushURL}function qt(e){var t=G(e,"hx-push-url");return t==="true"||t==="false"?null:t}function At(e){var t=F(e,"hx-indicator");if(t==null){t=[e]}W(t,function(e){e.classList["add"].call(e.classList,U.config.requestClass)});return t}function Tt(e){W(e,function(e){e.classList["remove"].call(e.classList,U.config.requestClass)})}function Ht(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.isSameNode(t)){return true}}return false}function Nt(e){if(e.name===""||e.name==null||e.disabled){return false}if(e.type==="button"||e.type==="submit"||e.tagName==="image"||e.tagName==="reset"||e.tagName==="file"){return false}if(e.type==="checkbox"||e.type==="radio"){return e.checked}return true}function kt(t,r,n,e,i){if(e==null||Ht(t,e)){return}else{t.push(e)}if(Nt(e)){var o=f(e,"name");var a=e.value;if(e.multiple){a=y(e.querySelectorAll("option:checked")).map(function(e){return e.value})}if(e.files){a=y(e.files)}if(o!=null&&a!=null){var s=r[o];if(s){if(Array.isArray(s)){if(Array.isArray(a)){r[o]=s.concat(a)}else{s.push(a)}}else{if(Array.isArray(a)){r[o]=[s].concat(a)}else{r[o]=[s,a]}}}else{r[o]=a}}if(i){It(e,n)}}if(d(e,"form")){var l=e.elements;W(l,function(e){kt(t,r,n,e,i)})}}function It(e,t){if(e.willValidate){$(e,"htmx:validation:validate");if(!e.checkValidity()){t.push({elt:e,message:e.validationMessage,validity:e.validity});$(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})}}}function Mt(e,t){var r=[];var n={};var i={};var o=[];var a=_(e);var s=d(e,"form")&&e.noValidate!==true;if(a.lastButtonClicked){s=s&&a.lastButtonClicked.formNoValidate!==true}if(t!=="get"){kt(r,i,o,H(e,"form"),s)}kt(r,n,o,e,s);if(a.lastButtonClicked){var l=f(a.lastButtonClicked,"name");if(l){n[l]=a.lastButtonClicked.value}}var u=F(e,"hx-include");W(u,function(e){kt(r,n,o,e,s);if(!d(e,"form")){W(e.querySelectorAll(Ne),function(e){kt(r,n,o,e,s)})}});n=Q(n,i);return{errors:o,values:n}}function Dt(e,t,r){if(e!==""){e+="&"}if(String(r)==="[object Object]"){r=JSON.stringify(r)}var n=encodeURIComponent(r);e+=encodeURIComponent(t)+"="+n;return e}function Ft(e){var t="";for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n)){W(n,function(e){t=Dt(t,r,e)})}else{t=Dt(t,r,n)}}}return t}function Pt(e){var t=new FormData;for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n)){W(n,function(e){t.append(r,e)})}else{t.append(r,n)}}}return t}function Xt(e,t,r){var n={"HX-Request":"true","HX-Trigger":f(e,"id"),"HX-Trigger-Name":f(e,"name"),"HX-Target":V(t,"id"),"HX-Current-URL":z().location.href};Wt(e,"hx-headers",false,n);if(r!==undefined){n["HX-Prompt"]=r}if(_(e).boosted){n["HX-Boosted"]="true"}return n}function jt(t,e){var r=G(e,"hx-params");if(r){if(r==="none"){return{}}else if(r==="*"){return t}else if(r.indexOf("not ")===0){W(r.substr(4).split(","),function(e){e=e.trim();delete t[e]});return t}else{var n={};W(r.split(","),function(e){e=e.trim();n[e]=t[e]});return n}}else{return t}}function Bt(e){return f(e,"href")&&f(e,"href").indexOf("#")>=0}function Ut(e,t){var r=t?t:G(e,"hx-swap");var n={swapStyle:_(e).boosted?"innerHTML":U.config.defaultSwapStyle,swapDelay:U.config.defaultSwapDelay,settleDelay:U.config.defaultSettleDelay};if(_(e).boosted&&!Bt(e)){n["show"]="top"}if(r){var i=w(r);if(i.length>0){n["swapStyle"]=i[0];for(var o=1;o<i.length;o++){var a=i[o];if(a.indexOf("swap:")===0){n["swapDelay"]=v(a.substr(5))}if(a.indexOf("settle:")===0){n["settleDelay"]=v(a.substr(7))}if(a.indexOf("scroll:")===0){var s=a.substr(7);var l=s.split(":");var f=l.pop();var u=l.length>0?l.join(":"):null;n["scroll"]=f;n["scrollTarget"]=u}if(a.indexOf("show:")===0){var c=a.substr(5);var l=c.split(":");var h=l.pop();var u=l.length>0?l.join(":"):null;n["show"]=h;n["showTarget"]=u}if(a.indexOf("focus-scroll:")===0){var d=a.substr("focus-scroll:".length);n["focusScroll"]=d=="true"}}}}return n}function Vt(t,r,n){var i=null;gt(r,function(e){if(i==null){i=e.encodeParameters(t,n,r)}});if(i!=null){return i}else{if(G(r,"hx-encoding")==="multipart/form-data"||d(r,"form")&&f(r,"enctype")==="multipart/form-data"){return Pt(n)}else{return Ft(n)}}}function zt(e){return{tasks:[],elts:[e]}}function _t(e,t){var r=e[0];var n=e[e.length-1];if(t.scroll){var i=null;if(t.scrollTarget){i=ee(r,t.scrollTarget)}if(t.scroll==="top"&&(r||i)){i=i||r;i.scrollTop=0}if(t.scroll==="bottom"&&(n||i)){i=i||n;i.scrollTop=i.scrollHeight}}if(t.show){var i=null;if(t.showTarget){var o=t.showTarget;if(t.showTarget==="window"){o="body"}i=ee(r,o)}if(t.show==="top"&&(r||i)){i=i||r;i.scrollIntoView({block:"start",behavior:U.config.scrollBehavior})}if(t.show==="bottom"&&(n||i)){i=i||n;i.scrollIntoView({block:"end",behavior:U.config.scrollBehavior})}}}function Wt(e,t,r,n){if(n==null){n={}}if(e==null){return n}var i=V(e,t);if(i){var o=i.trim();var a=r;if(o.indexOf("javascript:")===0){o=o.substr(11);a=true}else if(o.indexOf("js:")===0){o=o.substr(3);a=true}if(o.indexOf("{")!==0){o="{"+o+"}"}var s;if(a){s=Jt(e,function(){return Function("return ("+o+")")()},{})}else{s=S(o)}for(var l in s){if(s.hasOwnProperty(l)){if(n[l]==null){n[l]=s[l]}}}}return Wt(u(e),t,r,n)}function Jt(e,t,r){if(U.config.allowEval){return t()}else{J(e,"htmx:evalDisallowedError");return r}}function $t(e,t){return Wt(e,"hx-vars",true,t)}function Zt(e,t){return Wt(e,"hx-vals",false,t)}function Gt(e){return Q($t(e),Zt(e))}function Kt(t,r,n){if(n!==null){try{t.setRequestHeader(r,n)}catch(e){t.setRequestHeader(r,encodeURIComponent(n));t.setRequestHeader(r+"-URI-AutoEncoded","true")}}}function Yt(t){if(t.responseURL&&typeof URL!=="undefined"){try{var e=new URL(t.responseURL);return e.pathname+e.search}catch(e){J(z().body,"htmx:badResponseUrl",{url:t.responseURL})}}}function Qt(e,t){return e.getAllResponseHeaders().match(t)}function er(e,t,r){e=e.toLowerCase();if(r){if(r instanceof Element||p(r,"String")){return Z(e,t,null,null,{targetOverride:k(r),returnPromise:true})}else{return Z(e,t,k(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:k(r.target),swapOverride:r.swap,returnPromise:true})}}else{return Z(e,t,null,null,{returnPromise:true})}}function tr(e){var t=[];while(e){t.push(e);e=e.parentElement}return t}function Z(e,t,n,f,r){var c=null;var h=null;r=r!=null?r:{};if(r.returnPromise&&typeof Promise!=="undefined"){var d=new Promise(function(e,t){c=e;h=t})}if(n==null){n=z().body}var v=r.handler||rr;if(!Y(n)){return}var g=r.targetOverride||ne(n);if(g==null||g==te){J(n,"htmx:targetError",{target:V(n,"hx-target")});return}var p=n;var i=_(n);var o=G(n,"hx-sync");var m=null;var x=false;if(o){var y=o.split(":");var b=y[0].trim();if(b==="this"){p=re(n,"hx-sync")}else{p=ee(n,b)}o=(y[1]||"drop").trim();i=_(p);if(o==="drop"&&i.xhr&&i.abortable!==true){return}else if(o==="abort"){if(i.xhr){return}else{x=true}}else if(o==="replace"){$(p,"htmx:abort")}else if(o.indexOf("queue")===0){var w=o.split(" ");m=(w[1]||"last").trim()}}if(i.xhr){if(i.abortable){$(p,"htmx:abort")}else{if(m==null){if(f){var S=_(f);if(S&&S.triggerSpec&&S.triggerSpec.queue){m=S.triggerSpec.queue}}if(m==null){m="last"}}if(i.queuedRequests==null){i.queuedRequests=[]}if(m==="first"&&i.queuedRequests.length===0){i.queuedRequests.push(function(){Z(e,t,n,f,r)})}else if(m==="all"){i.queuedRequests.push(function(){Z(e,t,n,f,r)})}else if(m==="last"){i.queuedRequests=[];i.queuedRequests.push(function(){Z(e,t,n,f,r)})}return}}var a=new XMLHttpRequest;i.xhr=a;i.abortable=x;var s=function(){i.xhr=null;i.abortable=false;if(i.queuedRequests!=null&&i.queuedRequests.length>0){var e=i.queuedRequests.shift();e()}};var E=G(n,"hx-prompt");if(E){var C=prompt(E);if(C===null||!$(n,"htmx:prompt",{prompt:C,target:g})){K(c);s();return d}}var R=G(n,"hx-confirm");if(R){if(!confirm(R)){K(c);s();return d}}var O=Xt(n,g,C);if(r.headers){O=Q(O,r.headers)}var L=Mt(n,e);var q=L.errors;var A=L.values;if(r.values){A=Q(A,r.values)}var T=Gt(n);var H=Q(A,T);var N=jt(H,n);if(e!=="get"&&G(n,"hx-encoding")==null){O["Content-Type"]="application/x-www-form-urlencoded"}if(t==null||t===""){t=z().location.href}var k=Wt(n,"hx-request");var l={parameters:N,unfilteredParameters:H,headers:O,target:g,verb:e,errors:q,withCredentials:r.credentials||k.credentials||U.config.withCredentials,timeout:r.timeout||k.timeout||U.config.timeout,path:t,triggeringEvent:f};if(!$(n,"htmx:configRequest",l)){K(c);s();return d}t=l.path;e=l.verb;O=l.headers;N=l.parameters;q=l.errors;if(q&&q.length>0){$(n,"htmx:validation:halted",l);K(c);s();return d}var I=t.split("#");var M=I[0];var D=I[1];if(e==="get"){var F=M;var P=Object.keys(N).length!==0;if(P){if(F.indexOf("?")<0){F+="?"}else{F+="&"}F+=Ft(N);if(D){F+="#"+D}}a.open("GET",F,true)}else{a.open(e.toUpperCase(),t,true)}a.overrideMimeType("text/html");a.withCredentials=l.withCredentials;a.timeout=l.timeout;if(k.noHeaders){}else{for(var X in O){if(O.hasOwnProperty(X)){var j=O[X];Kt(a,X,j)}}}var u={xhr:a,target:g,requestConfig:l,etc:r,pathInfo:{path:t,finalPath:F,anchor:D}};a.onload=function(){try{var e=tr(n);v(n,u);Tt(B);$(n,"htmx:afterRequest",u);$(n,"htmx:afterOnLoad",u);if(!Y(n)){var t=null;while(e.length>0&&t==null){var r=e.shift();if(Y(r)){t=r}}if(t){$(t,"htmx:afterRequest",u);$(t,"htmx:afterOnLoad",u)}}K(c);s()}catch(e){J(n,"htmx:onLoadError",Q({error:e},u));throw e}};a.onerror=function(){Tt(B);J(n,"htmx:afterRequest",u);J(n,"htmx:sendError",u);K(h);s()};a.onabort=function(){Tt(B);J(n,"htmx:afterRequest",u);J(n,"htmx:sendAbort",u);K(h);s()};a.ontimeout=function(){Tt(B);J(n,"htmx:afterRequest",u);J(n,"htmx:timeout",u);K(h);s()};if(!$(n,"htmx:beforeRequest",u)){K(c);s();return d}var B=At(n);W(["loadstart","loadend","progress","abort"],function(t){W([a,a.upload],function(e){e.addEventListener(t,function(e){$(n,"htmx:xhr:"+t,{lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})})})});$(n,"htmx:beforeSend",u);a.send(e==="get"?null:Vt(a,n,N));return d}function rr(s,l){var u=l.xhr;var f=l.target;var r=l.etc;if(!$(s,"htmx:beforeOnLoad",l))return;if(Qt(u,/HX-Trigger:/i)){Se(u,"HX-Trigger",s)}if(Qt(u,/HX-Push:/i)){var c=u.getResponseHeader("HX-Push")}if(Qt(u,/HX-Redirect:/i)){window.location.href=u.getResponseHeader("HX-Redirect");return}if(Qt(u,/HX-Refresh:/i)){if("true"===u.getResponseHeader("HX-Refresh")){location.reload();return}}if(Qt(u,/HX-Retarget:/i)){l.target=z().querySelector(u.getResponseHeader("HX-Retarget"))}var h;if(c=="false"){h=false}else{h=Lt(s)||c}var n=u.status>=200&&u.status<400&&u.status!==204;var d=u.response;var e=u.status>=400;var t=Q({shouldSwap:n,serverResponse:d,isError:e},l);if(!$(f,"htmx:beforeSwap",t))return;f=t.target;d=t.serverResponse;e=t.isError;l.failed=e;l.successful=!e;if(t.shouldSwap){if(u.status===286){Ie(s)}gt(s,function(e){d=e.transformResponse(d,u,s)});if(h){St()}var i=r.swapOverride;var v=Ut(s,i);f.classList.add(U.config.swappingClass);var o=function(){try{var e=document.activeElement;var t={};try{t={elt:e,start:e?e.selectionStart:null,end:e?e.selectionEnd:null}}catch(e){}var n=zt(f);we(v.swapStyle,f,s,d,n);if(t.elt&&!Y(t.elt)&&t.elt.id){var r=document.getElementById(t.elt.id);var i={preventScroll:v.focusScroll!==undefined?!v.focusScroll:!U.config.defaultFocusScroll};if(r){if(t.start&&r.setSelectionRange){r.setSelectionRange(t.start,t.end)}r.focus(i)}}f.classList.remove(U.config.swappingClass);W(n.elts,function(e){if(e.classList){e.classList.add(U.config.settlingClass)}$(e,"htmx:afterSwap",l)});if(l.pathInfo.anchor){location.hash=l.pathInfo.anchor}if(Qt(u,/HX-Trigger-After-Swap:/i)){var o=s;if(!Y(s)){o=z().body}Se(u,"HX-Trigger-After-Swap",o)}var a=function(){W(n.tasks,function(e){e.call()});W(n.elts,function(e){if(e.classList){e.classList.remove(U.config.settlingClass)}$(e,"htmx:afterSettle",l)});if(h){var e=c||qt(s)||Yt(u)||l.pathInfo.finalPath||l.pathInfo.path;Et(e);$(z().body,"htmx:pushedIntoHistory",{path:e})}if(n.title){var t=C("title");if(t){t.innerHTML=n.title}else{window.document.title=n.title}}_t(n.elts,v);if(Qt(u,/HX-Trigger-After-Settle:/i)){var r=s;if(!Y(s)){r=z().body}Se(u,"HX-Trigger-After-Settle",r)}};if(v.settleDelay>0){setTimeout(a,v.settleDelay)}else{a()}}catch(e){J(s,"htmx:swapError",l);throw e}};if(v.swapDelay>0){setTimeout(o,v.swapDelay)}else{o()}}if(e){J(s,"htmx:responseError",Q({error:"Response Status Error Code "+u.status+" from "+l.pathInfo.path},l))}}var nr={};function ir(){return{init:function(e){return null},onEvent:function(e,t){return true},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return false},handleSwap:function(e,t,r,n){return false},encodeParameters:function(e,t,r){return null}}}function or(e,t){if(t.init){t.init(r)}nr[e]=Q(ir(),t)}function ar(e){delete nr[e]}function sr(e,r,n){if(e==undefined){return r}if(r==undefined){r=[]}if(n==undefined){n=[]}var t=V(e,"hx-ext");if(t){W(t.split(","),function(e){e=e.replace(/ /g,"");if(e.slice(0,7)=="ignore:"){n.push(e.slice(7));return}if(n.indexOf(e)<0){var t=nr[e];if(t&&r.indexOf(t)<0){r.push(t)}}})}return sr(u(e),r,n)}function lr(e){if(z().readyState!=="loading"){e()}else{z().addEventListener("DOMContentLoaded",e)}}function ur(){if(U.config.includeIndicatorStyles!==false){z().head.insertAdjacentHTML("beforeend","<style>                      ."+U.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+U.config.requestClass+" ."+U.config.indicatorClass+"{opacity:1}                      ."+U.config.requestClass+"."+U.config.indicatorClass+"{opacity:1}                    </style>")}}function fr(){var e=z().querySelector('meta[name="htmx-config"]');if(e){return S(e.content)}else{return null}}function cr(){var e=fr();if(e){U.config=Q(U.config,e)}}lr(function(){cr();ur();var e=z().body;ct(e);var t=z().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(e){var t=e.target;var r=_(t);if(r&&r.xhr){r.xhr.abort()}});window.onpopstate=function(e){if(e.state&&e.state.htmx){Ot();W(t,function(e){$(e,"htmx:restored",{document:z(),triggerEvent:$})})}};setTimeout(function(){$(e,"htmx:load",{})},0)});return U}()});</script>
        <script>"use strict";(function(self,factory){const _hyperscript=factory(self);if(typeof exports==="object"&&typeof exports["nodeName"]!=="string"){module.exports=_hyperscript}else{self["_hyperscript"]=_hyperscript;if("document"in self)self["_hyperscript"].browserInit()}})(typeof self!=="undefined"?self:this,(globalScope=>{const conversions={dynamicResolvers:[function(str,value){if(str==="Fixed"){return Number(value).toFixed()}else if(str.indexOf("Fixed:")===0){let num=str.split(":")[1];return Number(value).toFixed(parseInt(num))}}],String:function(val){if(val.toString){return val.toString()}else{return""+val}},Int:function(val){return parseInt(val)},Float:function(val){return parseFloat(val)},Number:function(val){return Number(val)},Date:function(val){return new Date(val)},Array:function(val){return Array.from(val)},JSON:function(val){return JSON.stringify(val)},Object:function(val){if(val instanceof String){val=val.toString()}if(typeof val==="string"){return JSON.parse(val)}else{return Object.assign({},val)}}};const config={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",conversions:conversions};class Lexer{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(c){return Lexer.isAlpha(c)||Lexer.isNumeric(c)||c==="-"||c==="_"||c===":"}static isValidCSSIDChar(c){return Lexer.isAlpha(c)||Lexer.isNumeric(c)||c==="-"||c==="_"||c===":"}static isWhitespace(c){return c===" "||c==="\t"||Lexer.isNewline(c)}static positionString(token){return"[Line: "+token.line+", Column: "+token.column+"]"}static isNewline(c){return c==="\r"||c==="\n"}static isNumeric(c){return c>="0"&&c<="9"}static isAlpha(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"}static isIdentifierChar(c,dollarIsOp){return c==="_"||c==="$"}static isReservedChar(c){return c==="`"||c==="^"}static isValidSingleQuoteStringStart(tokens){if(tokens.length>0){var previousToken=tokens[tokens.length-1];if(previousToken.type==="IDENTIFIER"||previousToken.type==="CLASS_REF"||previousToken.type==="ID_REF"){return false}if(previousToken.op&&(previousToken.value===">"||previousToken.value===")")){return false}}return true}static tokenize(string,template){var tokens=[];var source=string;var position=0;var column=0;var line=1;var lastToken="<START>";var templateBraceCount=0;function inTemplate(){return template&&templateBraceCount===0}while(position<source.length){if(currentChar()==="-"&&nextChar()==="-"&&(Lexer.isWhitespace(charAfterThat())||charAfterThat()==="")){consumeComment()}else{if(Lexer.isWhitespace(currentChar())){tokens.push(consumeWhitespace())}else if(!possiblePrecedingSymbol()&&currentChar()==="."&&(Lexer.isAlpha(nextChar())||nextChar()==="{")){tokens.push(consumeClassReference())}else if(!possiblePrecedingSymbol()&&currentChar()==="#"&&(Lexer.isAlpha(nextChar())||nextChar()==="{")){tokens.push(consumeIdReference())}else if(currentChar()==="["&&nextChar()==="@"){tokens.push(consumeAttributeReference())}else if(currentChar()==="@"){tokens.push(consumeShortAttributeReference())}else if(currentChar()==="*"&&Lexer.isAlpha(nextChar())){tokens.push(consumeStyleReference())}else if(Lexer.isAlpha(currentChar())||!inTemplate()&&Lexer.isIdentifierChar(currentChar())){tokens.push(consumeIdentifier())}else if(Lexer.isNumeric(currentChar())){tokens.push(consumeNumber())}else if(!inTemplate()&&(currentChar()==='"'||currentChar()==="`")){tokens.push(consumeString())}else if(!inTemplate()&&currentChar()==="'"){if(Lexer.isValidSingleQuoteStringStart(tokens)){tokens.push(consumeString())}else{tokens.push(consumeOp())}}else if(Lexer.OP_TABLE[currentChar()]){if(lastToken==="$"&&currentChar()==="{"){templateBraceCount++}if(currentChar()==="}"){templateBraceCount--}tokens.push(consumeOp())}else if(inTemplate()||Lexer.isReservedChar(currentChar())){tokens.push(makeToken("RESERVED",consumeChar()))}else{if(position<source.length){throw Error("Unknown token: "+currentChar()+" ")}}}}return new Tokens(tokens,[],source);function makeOpToken(type,value){var token=makeToken(type,value);token.op=true;return token}function makeToken(type,value){return{type:type,value:value,start:position,end:position+1,column:column,line:line}}function consumeComment(){while(currentChar()&&!Lexer.isNewline(currentChar())){consumeChar()}consumeChar()}function consumeClassReference(){var classRef=makeToken("CLASS_REF");var value=consumeChar();if(currentChar()==="{"){classRef.template=true;value+=consumeChar();while(currentChar()&&currentChar()!=="}"){value+=consumeChar()}if(currentChar()!=="}"){throw Error("Unterminated class reference")}else{value+=consumeChar()}}else{while(Lexer.isValidCSSClassChar(currentChar())){value+=consumeChar()}}classRef.value=value;classRef.end=position;return classRef}function consumeAttributeReference(){var attributeRef=makeToken("ATTRIBUTE_REF");var value=consumeChar();while(position<source.length&&currentChar()!=="]"){value+=consumeChar()}if(currentChar()==="]"){value+=consumeChar()}attributeRef.value=value;attributeRef.end=position;return attributeRef}function consumeShortAttributeReference(){var attributeRef=makeToken("ATTRIBUTE_REF");var value=consumeChar();while(Lexer.isValidCSSIDChar(currentChar())){value+=consumeChar()}attributeRef.value=value;attributeRef.end=position;return attributeRef}function consumeStyleReference(){var styleRef=makeToken("STYLE_REF");var value=consumeChar();while(Lexer.isAlpha(currentChar())||currentChar()==="-"){value+=consumeChar()}styleRef.value=value;styleRef.end=position;return styleRef}function consumeIdReference(){var idRef=makeToken("ID_REF");var value=consumeChar();if(currentChar()==="{"){idRef.template=true;value+=consumeChar();while(currentChar()&&currentChar()!=="}"){value+=consumeChar()}if(currentChar()!=="}"){throw Error("Unterminated id reference")}else{consumeChar()}}else{while(Lexer.isValidCSSIDChar(currentChar())){value+=consumeChar()}}idRef.value=value;idRef.end=position;return idRef}function consumeIdentifier(){var identifier=makeToken("IDENTIFIER");var value=consumeChar();while(Lexer.isAlpha(currentChar())||Lexer.isNumeric(currentChar())||Lexer.isIdentifierChar(currentChar())){value+=consumeChar()}if(currentChar()==="!"&&value==="beep"){value+=consumeChar()}identifier.value=value;identifier.end=position;return identifier}function consumeNumber(){var number=makeToken("NUMBER");var value=consumeChar();while(Lexer.isNumeric(currentChar())){value+=consumeChar()}if(currentChar()==="."&&Lexer.isNumeric(nextChar())){value+=consumeChar()}while(Lexer.isNumeric(currentChar())){value+=consumeChar()}number.value=value;number.end=position;return number}function consumeOp(){var op=makeOpToken();var value=consumeChar();while(currentChar()&&Lexer.OP_TABLE[value+currentChar()]){value+=consumeChar()}op.type=Lexer.OP_TABLE[value];op.value=value;op.end=position;return op}function consumeString(){var string=makeToken("STRING");var startChar=consumeChar();var value="";while(currentChar()&&currentChar()!==startChar){if(currentChar()==="\\"){consumeChar();let nextChar=consumeChar();if(nextChar==="b"){value+="\b"}else if(nextChar==="f"){value+="\f"}else if(nextChar==="n"){value+="\n"}else if(nextChar==="r"){value+="\r"}else if(nextChar==="t"){value+="\t"}else if(nextChar==="v"){value+="\v"}else{value+=nextChar}}else{value+=consumeChar()}}if(currentChar()!==startChar){throw Error("Unterminated string at "+Lexer.positionString(string))}else{consumeChar()}string.value=value;string.end=position;string.template=startChar==="`";return string}function currentChar(){return source.charAt(position)}function nextChar(){return source.charAt(position+1)}function charAfterThat(){return source.charAt(position+2)}function consumeChar(){lastToken=currentChar();position++;column++;return lastToken}function possiblePrecedingSymbol(){return Lexer.isAlpha(lastToken)||Lexer.isNumeric(lastToken)||lastToken===")"||lastToken==='"'||lastToken==="'"||lastToken==="`"||lastToken==="}"||lastToken==="]"}function consumeWhitespace(){var whitespace=makeToken("WHITESPACE");var value="";while(currentChar()&&Lexer.isWhitespace(currentChar())){if(Lexer.isNewline(currentChar())){column=0;line++}value+=consumeChar()}whitespace.value=value;whitespace.end=position;return whitespace}}tokenize(string,template){return Lexer.tokenize(string,template)}}class Tokens{constructor(tokens,consumed,source){this.tokens=tokens;this.consumed=consumed;this.source=source;this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){while(this.token(0,true).type==="WHITESPACE"){this.consumed.push(this.tokens.shift())}}raiseError(tokens,error){Parser.raiseParseError(tokens,error)}requireOpToken(value){var token=this.matchOpToken(value);if(token){return token}else{this.raiseError(this,"Expected '"+value+"' but found '"+this.currentToken().value+"'")}}matchAnyOpToken(op1,op2,op3){for(var i=0;i<arguments.length;i++){var opToken=arguments[i];var match=this.matchOpToken(opToken);if(match){return match}}}matchAnyToken(op1,op2,op3){for(var i=0;i<arguments.length;i++){var opToken=arguments[i];var match=this.matchToken(opToken);if(match){return match}}}matchOpToken(value){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===value){return this.consumeToken()}}requireTokenType(type1,type2,type3,type4){var token=this.matchTokenType(type1,type2,type3,type4);if(token){return token}else{this.raiseError(this,"Expected one of "+JSON.stringify([type1,type2,type3]))}}matchTokenType(type1,type2,type3,type4){if(this.currentToken()&&this.currentToken().type&&[type1,type2,type3,type4].indexOf(this.currentToken().type)>=0){return this.consumeToken()}}requireToken(value,type){var token=this.matchToken(value,type);if(token){return token}else{this.raiseError(this,"Expected '"+value+"' but found '"+this.currentToken().value+"'")}}peekToken(value,peek,type){return this.tokens[peek]&&this.tokens[peek].value===value&&this.tokens[peek].type===type}matchToken(value,type){if(this.follows.indexOf(value)!==-1){return}var type=type||"IDENTIFIER";if(this.currentToken()&&this.currentToken().value===value&&this.currentToken().type===type){return this.consumeToken()}}consumeToken(){var match=this.tokens.shift();this.consumed.push(match);this._lastConsumed=match;this.consumeWhitespace();return match}consumeUntil(value,type){var tokenList=[];var currentToken=this.token(0,true);while((type==null||currentToken.type!==type)&&(value==null||currentToken.value!==value)&&currentToken.type!=="EOF"){var match=this.tokens.shift();this.consumed.push(match);tokenList.push(currentToken);currentToken=this.token(0,true)}this.consumeWhitespace();return tokenList}lastWhitespace(){if(this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"){return this.consumed[this.consumed.length-1].value}else{return""}}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(n,dontIgnoreWhitespace){var token;var i=0;do{if(!dontIgnoreWhitespace){while(this.tokens[i]&&this.tokens[i].type==="WHITESPACE"){i++}}token=this.tokens[i];n--;i++}while(n>-1);if(token){return token}else{return{type:"EOF",value:"<<<EOF>>>"}}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split("\n")[this.startToken.line-1]};follows=[];pushFollow(str){this.follows.push(str)}popFollow(){this.follows.pop()}clearFollows(){var tmp=this.follows;this.follows=[];return tmp}restoreFollows(f){this.follows=f}}class Parser{constructor(runtime){this.runtime=runtime;this.possessivesDisabled=false;this.addGrammarElement("feature",(function(parser,runtime,tokens){if(tokens.matchOpToken("(")){var featureElement=parser.requireElement("feature",tokens);tokens.requireOpToken(")");return featureElement}var featureDefinition=parser.FEATURES[tokens.currentToken().value];if(featureDefinition){return featureDefinition(parser,runtime,tokens)}}));this.addGrammarElement("command",(function(parser,runtime,tokens){if(tokens.matchOpToken("(")){const commandElement=parser.requireElement("command",tokens);tokens.requireOpToken(")");return commandElement}var commandDefinition=parser.COMMANDS[tokens.currentToken().value];let commandElement;if(commandDefinition){commandElement=commandDefinition(parser,runtime,tokens)}else if(tokens.currentToken().type==="IDENTIFIER"){commandElement=parser.parseElement("pseudoCommand",tokens)}if(commandElement){return parser.parseElement("indirectStatement",tokens,commandElement)}return commandElement}));this.addGrammarElement("commandList",(function(parser,runtime,tokens){var cmd=parser.parseElement("command",tokens);if(cmd){tokens.matchToken("then");const next=parser.parseElement("commandList",tokens);if(next)cmd.next=next;return cmd}}));this.addGrammarElement("leaf",(function(parser,runtime,tokens){var result=parser.parseAnyOf(parser.LEAF_EXPRESSIONS,tokens);if(result==null){return parser.parseElement("symbol",tokens)}return result}));this.addGrammarElement("indirectExpression",(function(parser,runtime,tokens,root){for(var i=0;i<parser.INDIRECT_EXPRESSIONS.length;i++){var indirect=parser.INDIRECT_EXPRESSIONS[i];root.endToken=tokens.lastMatch();var result=parser.parseElement(indirect,tokens,root);if(result){return result}}return root}));this.addGrammarElement("indirectStatement",(function(parser,runtime,tokens,root){if(tokens.matchToken("unless")){root.endToken=tokens.lastMatch();var conditional=parser.requireElement("expression",tokens);var unless={type:"unlessStatementModifier",args:[conditional],op:function(context,conditional){if(conditional){return this.next}else{return root}},execute:function(context){return runtime.unifiedExec(this,context)}};root.parent=unless;return unless}return root}));this.addGrammarElement("primaryExpression",(function(parser,runtime,tokens){var leaf=parser.parseElement("leaf",tokens);if(leaf){return parser.parseElement("indirectExpression",tokens,leaf)}parser.raiseParseError(tokens,"Unexpected value: "+tokens.currentToken().value)}))}use(plugin){plugin(this);return this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(parseElement,start,tokens){parseElement.startToken=start;parseElement.sourceFor=Tokens.sourceFor;parseElement.lineFor=Tokens.lineFor;parseElement.programSource=tokens.source}parseElement(type,tokens,root=undefined){var elementDefinition=this.GRAMMAR[type];if(elementDefinition){var start=tokens.currentToken();var parseElement=elementDefinition(this,this.runtime,tokens,root);if(parseElement){this.initElt(parseElement,start,tokens);parseElement.endToken=parseElement.endToken||tokens.lastMatch();var root=parseElement.root;while(root!=null){this.initElt(root,start,tokens);root=root.root}}return parseElement}}requireElement(type,tokens,message,root){var result=this.parseElement(type,tokens,root);if(!result)Parser.raiseParseError(tokens,message||"Expected "+type);return result}parseAnyOf(types,tokens){for(var i=0;i<types.length;i++){var type=types[i];var expression=this.parseElement(type,tokens);if(expression){return expression}}}addGrammarElement(name,definition){this.GRAMMAR[name]=definition}addCommand(keyword,definition){var commandGrammarType=keyword+"Command";var commandDefinitionWrapper=function(parser,runtime,tokens){const commandElement=definition(parser,runtime,tokens);if(commandElement){commandElement.type=commandGrammarType;commandElement.execute=function(context){context.meta.command=commandElement;return runtime.unifiedExec(this,context)};return commandElement}};this.GRAMMAR[commandGrammarType]=commandDefinitionWrapper;this.COMMANDS[keyword]=commandDefinitionWrapper}addFeature(keyword,definition){var featureGrammarType=keyword+"Feature";var featureDefinitionWrapper=function(parser,runtime,tokens){var featureElement=definition(parser,runtime,tokens);if(featureElement){featureElement.isFeature=true;featureElement.keyword=keyword;featureElement.type=featureGrammarType;return featureElement}};this.GRAMMAR[featureGrammarType]=featureDefinitionWrapper;this.FEATURES[keyword]=featureDefinitionWrapper}addLeafExpression(name,definition){this.LEAF_EXPRESSIONS.push(name);this.addGrammarElement(name,definition)}addIndirectExpression(name,definition){this.INDIRECT_EXPRESSIONS.push(name);this.addGrammarElement(name,definition)}static createParserContext(tokens){var currentToken=tokens.currentToken();var source=tokens.source;var lines=source.split("\n");var line=currentToken&&currentToken.line?currentToken.line-1:lines.length-1;var contextLine=lines[line];var offset=currentToken&&currentToken.line?currentToken.column:contextLine.length-1;return contextLine+"\n"+" ".repeat(offset)+"^^\n\n"}static raiseParseError(tokens,message){message=(message||"Unexpected Token : "+tokens.currentToken().value)+"\n\n"+Parser.createParserContext(tokens);var error=new Error(message);error["tokens"]=tokens;throw error}raiseParseError(tokens,message){Parser.raiseParseError(tokens,message)}parseHyperScript(tokens){var result=this.parseElement("hyperscript",tokens);if(tokens.hasMore())this.raiseParseError(tokens);if(result)return result}setParent(elt,parent){if(typeof elt==="object"){elt.parent=parent;if(typeof parent==="object"){parent.children=parent.children||new Set;parent.children.add(elt)}this.setParent(elt.next,parent)}}commandStart(token){return this.COMMANDS[token.value]}featureStart(token){return this.FEATURES[token.value]}commandBoundary(token){if(token.value=="end"||token.value=="then"||token.value=="else"||token.value=="otherwise"||token.value==")"||this.commandStart(token)||this.featureStart(token)||token.type=="EOF"){return true}return false}parseStringTemplate(tokens){var returnArr=[""];do{returnArr.push(tokens.lastWhitespace());if(tokens.currentToken().value==="$"){tokens.consumeToken();var startingBrace=tokens.matchOpToken("{");returnArr.push(this.requireElement("expression",tokens));if(startingBrace){tokens.requireOpToken("}")}returnArr.push("")}else if(tokens.currentToken().value==="\\"){tokens.consumeToken();tokens.consumeToken()}else{var token=tokens.consumeToken();returnArr[returnArr.length-1]+=token?token.value:""}}while(tokens.hasMore());returnArr.push(tokens.lastWhitespace());return returnArr}ensureTerminated(commandList){const runtime=this.runtime;var implicitReturn={type:"implicitReturn",op:function(context){context.meta.returned=true;if(context.meta.resolve){context.meta.resolve()}return runtime.HALT},execute:function(ctx){}};var end=commandList;while(end.next){end=end.next}end.next=implicitReturn}}class Runtime{constructor(lexer,parser){this.lexer=lexer??new Lexer;this.parser=parser??new Parser(this).use(hyperscriptCoreGrammar).use(hyperscriptWebGrammar);this.parser.runtime=this}matchesSelector(elt,selector){var matchesFunction=elt.matches||elt.matchesSelector||elt.msMatchesSelector||elt.mozMatchesSelector||elt.webkitMatchesSelector||elt.oMatchesSelector;return matchesFunction&&matchesFunction.call(elt,selector)}makeEvent(eventName,detail){var evt;if(globalScope.Event&&typeof globalScope.Event==="function"){evt=new Event(eventName,{bubbles:true,cancelable:true});evt["detail"]=detail}else{evt=document.createEvent("CustomEvent");evt.initCustomEvent(eventName,true,true,detail)}return evt}triggerEvent(elt,eventName,detail,sender){detail=detail||{};detail["sender"]=sender;var event=this.makeEvent(eventName,detail);var eventResult=elt.dispatchEvent(event);return eventResult}isArrayLike(value){return Array.isArray(value)||typeof NodeList!=="undefined"&&(value instanceof NodeList||value instanceof HTMLCollection)}isIterable(value){return typeof value==="object"&&Symbol.iterator in value&&typeof value[Symbol.iterator]==="function"}shouldAutoIterate(value){return value[shouldAutoIterateSymbol]||this.isArrayLike(value)}forEach(value,func){if(value==null){}else if(this.isIterable(value)){for(const nth of value){func(nth)}}else if(this.isArrayLike(value)){for(var i=0;i<value.length;i++){func(value[i])}}else{func(value)}}implicitLoop(value,func){if(this.shouldAutoIterate(value)){for(const x of value)func(x)}else{func(value)}}wrapArrays(args){var arr=[];for(var i=0;i<args.length;i++){var arg=args[i];if(Array.isArray(arg)){arr.push(Promise.all(arg))}else{arr.push(arg)}}return arr}unwrapAsyncs(values){for(var i=0;i<values.length;i++){var value=values[i];if(value.asyncWrapper){values[i]=value.value}if(Array.isArray(value)){for(var j=0;j<value.length;j++){var valueElement=value[j];if(valueElement.asyncWrapper){value[j]=valueElement.value}}}}}static HALT={};HALT=Runtime.HALT;unifiedExec(command,ctx){while(true){try{var next=this.unifiedEval(command,ctx)}catch(e){if(ctx.meta.handlingFinally){console.error(" Exception in finally block: ",e);next=Runtime.HALT}else{this.registerHyperTrace(ctx,e);if(ctx.meta.errorHandler&&!ctx.meta.handlingError){ctx.meta.handlingError=true;ctx.locals[ctx.meta.errorSymbol]=e;command=ctx.meta.errorHandler;continue}else{ctx.meta.currentException=e;next=Runtime.HALT}}}if(next==null){console.error(command," did not return a next element to execute! context: ",ctx);return}else if(next.then){next.then((resolvedNext=>{this.unifiedExec(resolvedNext,ctx)})).catch((reason=>{this.unifiedExec({op:function(){throw reason}},ctx)}));return}else if(next===Runtime.HALT){if(ctx.meta.finallyHandler&&!ctx.meta.handlingFinally){ctx.meta.handlingFinally=true;command=ctx.meta.finallyHandler}else{if(ctx.meta.onHalt){ctx.meta.onHalt()}if(ctx.meta.currentException){if(ctx.meta.reject){ctx.meta.reject(ctx.meta.currentException);return}else{throw ctx.meta.currentException}}else{return}}}else{command=next}}}unifiedEval(parseElement,ctx){var args=[ctx];var async=false;var wrappedAsyncs=false;if(parseElement.args){for(var i=0;i<parseElement.args.length;i++){var argument=parseElement.args[i];if(argument==null){args.push(null)}else if(Array.isArray(argument)){var arr=[];for(var j=0;j<argument.length;j++){var element=argument[j];var value=element?element.evaluate(ctx):null;if(value){if(value.then){async=true}else if(value.asyncWrapper){wrappedAsyncs=true}}arr.push(value)}args.push(arr)}else if(argument.evaluate){var value=argument.evaluate(ctx);if(value){if(value.then){async=true}else if(value.asyncWrapper){wrappedAsyncs=true}}args.push(value)}else{args.push(argument)}}}if(async){return new Promise(((resolve,reject)=>{args=this.wrapArrays(args);Promise.all(args).then((function(values){if(wrappedAsyncs){this.unwrapAsyncs(values)}try{var apply=parseElement.op.apply(parseElement,values);resolve(apply)}catch(e){reject(e)}})).catch((function(reason){reject(reason)}))}))}else{if(wrappedAsyncs){this.unwrapAsyncs(args)}return parseElement.op.apply(parseElement,args)}}_scriptAttrs=null;getScriptAttributes(){if(this._scriptAttrs==null){this._scriptAttrs=config.attributes.replace(/ /g,"").split(",")}return this._scriptAttrs}getScript(elt){for(var i=0;i<this.getScriptAttributes().length;i++){var scriptAttribute=this.getScriptAttributes()[i];if(elt.hasAttribute&&elt.hasAttribute(scriptAttribute)){return elt.getAttribute(scriptAttribute)}}if(elt instanceof HTMLScriptElement&&elt.type==="text/hyperscript"){return elt.innerText}return null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(elt){var hyperscriptFeatures=this.hyperscriptFeaturesMap.get(elt);if(typeof hyperscriptFeatures==="undefined"){if(elt){this.hyperscriptFeaturesMap.set(elt,hyperscriptFeatures={})}}return hyperscriptFeatures}addFeatures(owner,ctx){if(owner){Object.assign(ctx.locals,this.getHyperscriptFeatures(owner));this.addFeatures(owner.parentElement,ctx)}}makeContext(owner,feature,hyperscriptTarget,event){return new Context(owner,feature,hyperscriptTarget,event,this)}getScriptSelector(){return this.getScriptAttributes().map((function(attribute){return"["+attribute+"]"})).join(", ")}convertValue(value,type){var dynamicResolvers=conversions.dynamicResolvers;for(var i=0;i<dynamicResolvers.length;i++){var dynamicResolver=dynamicResolvers[i];var converted=dynamicResolver(type,value);if(converted!==undefined){return converted}}if(value==null){return null}var converter=conversions[type];if(converter){return converter(value)}throw"Unknown conversion : "+type}parse(src){const lexer=this.lexer,parser=this.parser;var tokens=lexer.tokenize(src);if(this.parser.commandStart(tokens.currentToken())){var commandList=parser.requireElement("commandList",tokens);if(tokens.hasMore())parser.raiseParseError(tokens);parser.ensureTerminated(commandList);return commandList}else if(parser.featureStart(tokens.currentToken())){var hyperscript=parser.requireElement("hyperscript",tokens);if(tokens.hasMore())parser.raiseParseError(tokens);return hyperscript}else{var expression=parser.requireElement("expression",tokens);if(tokens.hasMore())parser.raiseParseError(tokens);return expression}}evaluateNoPromise(elt,ctx){let result=elt.evaluate(ctx);if(result.next){throw new Error(Tokens.sourceFor.call(elt)+" returned a Promise in a context that they are not allowed.")}return result}evaluate(src,ctx,args){class HyperscriptModule extends EventTarget{constructor(mod){super();this.module=mod}toString(){return this.module.id}}var body="document"in globalScope?globalScope.document.body:new HyperscriptModule(args&&args.module);ctx=Object.assign(this.makeContext(body,null,body,null),ctx||{});var element=this.parse(src);if(element.execute){element.execute(ctx);return ctx.result}else if(element.apply){element.apply(body,body,args);return this.getHyperscriptFeatures(body)}else{return element.evaluate(ctx)}function makeModule(){return{}}}processNode(elt){var selector=this.getScriptSelector();if(this.matchesSelector(elt,selector)){this.initElement(elt,elt)}if(elt instanceof HTMLScriptElement&&elt.type==="text/hyperscript"){this.initElement(elt,document.body)}if(elt.querySelectorAll){this.forEach(elt.querySelectorAll(selector+", [type='text/hyperscript']"),(elt=>{this.initElement(elt,elt instanceof HTMLScriptElement&&elt.type==="text/hyperscript"?document.body:elt)}))}}initElement(elt,target){if(elt.closest&&elt.closest(config.disableSelector)){return}var internalData=this.getInternalData(elt);if(!internalData.initialized){var src=this.getScript(elt);if(src){try{internalData.initialized=true;internalData.script=src;const lexer=this.lexer,parser=this.parser;var tokens=lexer.tokenize(src);var hyperScript=parser.parseHyperScript(tokens);if(!hyperScript)return;hyperScript.apply(target||elt,elt);setTimeout((()=>{this.triggerEvent(target||elt,"load",{hyperscript:true})}),1)}catch(e){this.triggerEvent(elt,"exception",{error:e});console.error("hyperscript errors were found on the following element:",elt,"\n\n",e.message,e.stack)}}}}internalDataMap=new WeakMap;getInternalData(elt){var internalData=this.internalDataMap.get(elt);if(typeof internalData==="undefined"){this.internalDataMap.set(elt,internalData={})}return internalData}typeCheck(value,typeString,nullOk){if(value==null&&nullOk){return true}var typeName=Object.prototype.toString.call(value).slice(8,-1);return typeName===typeString}getElementScope(context){var elt=context.meta&&context.meta.owner;if(elt){var internalData=this.getInternalData(elt);var scopeName="elementScope";if(context.meta.feature&&context.meta.feature.behavior){scopeName=context.meta.feature.behavior+"Scope"}var elementScope=getOrInitObject(internalData,scopeName);return elementScope}else{return{}}}isReservedWord(str){return["meta","it","result","locals","event","target","detail","sender","body"].includes(str)}isHyperscriptContext(context){return context instanceof Context}resolveSymbol(str,context,type){if(str==="me"||str==="my"||str==="I"){return context.me}if(str==="it"||str==="its"||str==="result"){return context.result}if(str==="you"||str==="your"||str==="yourself"){return context.you}else{if(type==="global"){return globalScope[str]}else if(type==="element"){var elementScope=this.getElementScope(context);return elementScope[str]}else if(type==="local"){return context.locals[str]}else{if(context.meta&&context.meta.context){var fromMetaContext=context.meta.context[str];if(typeof fromMetaContext!=="undefined"){return fromMetaContext}}if(this.isHyperscriptContext(context)&&!this.isReservedWord(str)){var fromContext=context.locals[str]}else{var fromContext=context[str]}if(typeof fromContext!=="undefined"){return fromContext}else{var elementScope=this.getElementScope(context);fromContext=elementScope[str];if(typeof fromContext!=="undefined"){return fromContext}else{return globalScope[str]}}}}}setSymbol(str,context,type,value){if(type==="global"){globalScope[str]=value}else if(type==="element"){var elementScope=this.getElementScope(context);elementScope[str]=value}else if(type==="local"){context.locals[str]=value}else{if(this.isHyperscriptContext(context)&&!this.isReservedWord(str)&&typeof context.locals[str]!=="undefined"){context.locals[str]=value}else{var elementScope=this.getElementScope(context);var fromContext=elementScope[str];if(typeof fromContext!=="undefined"){elementScope[str]=value}else{if(this.isHyperscriptContext(context)&&!this.isReservedWord(str)){context.locals[str]=value}else{context[str]=value}}}}}findNext(command,context){if(command){if(command.resolveNext){return command.resolveNext(context)}else if(command.next){return command.next}else{return this.findNext(command.parent,context)}}}flatGet(root,property,getter){if(root!=null){var val=getter(root,property);if(typeof val!=="undefined"){return val}if(this.shouldAutoIterate(root)){var result=[];for(var component of root){var componentValue=getter(component,property);result.push(componentValue)}return result}}}resolveProperty(root,property){return this.flatGet(root,property,((root,property)=>root[property]))}resolveAttribute(root,property){return this.flatGet(root,property,((root,property)=>root.getAttribute&&root.getAttribute(property)))}resolveStyle(root,property){return this.flatGet(root,property,((root,property)=>root.style&&root.style[property]))}resolveComputedStyle(root,property){return this.flatGet(root,property,((root,property)=>getComputedStyle(root).getPropertyValue(property)))}assignToNamespace(elt,nameSpace,name,value){let root;if(typeof document!=="undefined"&&elt===document.body){root=globalScope}else{root=this.getHyperscriptFeatures(elt)}while(nameSpace.length>0){var propertyName=nameSpace.shift();var newRoot=root[propertyName];if(newRoot==null){newRoot={};root[propertyName]=newRoot}root=newRoot}root[name]=value}getHyperTrace(ctx,thrown){var trace=[];var root=ctx;while(root.meta.caller){root=root.meta.caller}if(root.meta.traceMap){return root.meta.traceMap.get(thrown,trace)}}registerHyperTrace(ctx,thrown){var trace=[];var root=null;while(ctx!=null){trace.push(ctx);root=ctx;ctx=ctx.meta.caller}if(root.meta.traceMap==null){root.meta.traceMap=new Map}if(!root.meta.traceMap.get(thrown)){var traceEntry={trace:trace,print:function(logger){logger=logger||console.error;logger("hypertrace /// ");var maxLen=0;for(var i=0;i<trace.length;i++){maxLen=Math.max(maxLen,trace[i].meta.feature.displayName.length)}for(var i=0;i<trace.length;i++){var traceElt=trace[i];logger("  ->",traceElt.meta.feature.displayName.padEnd(maxLen+2),"-",traceElt.meta.owner)}}};root.meta.traceMap.set(thrown,traceEntry)}}escapeSelector(str){return str.replace(/:/g,(function(str){return"\\"+str}))}nullCheck(value,elt){if(value==null){throw new Error("'"+elt.sourceFor()+"' is null")}}isEmpty(value){return value==undefined||value.length===0}doesExist(value){if(value==null){return false}if(this.shouldAutoIterate(value)){for(const elt of value){return true}}return false}getRootNode(node){if(node&&node instanceof Node){var rv=node.getRootNode();if(rv instanceof Document||rv instanceof ShadowRoot)return rv}return document}getEventQueueFor(elt,onFeature){let internalData=this.getInternalData(elt);var eventQueuesForElt=internalData.eventQueues;if(eventQueuesForElt==null){eventQueuesForElt=new Map;internalData.eventQueues=eventQueuesForElt}var eventQueueForFeature=eventQueuesForElt.get(onFeature);if(eventQueueForFeature==null){eventQueueForFeature={queue:[],executing:false};eventQueuesForElt.set(onFeature,eventQueueForFeature)}return eventQueueForFeature}hyperscriptUrl="document"in globalScope?document.currentScript.src:null}class Context{constructor(owner,feature,hyperscriptTarget,event,runtime){this.meta={parser:runtime.parser,lexer:runtime.lexer,runtime:runtime,owner:owner,feature:feature,iterators:{},ctx:this};this.locals={};this.me=hyperscriptTarget,this.you=undefined;this.result=undefined;this.event=event;this.target=event?event.target:null;this.detail=event?event.detail:null;this.sender=event?event.detail?event.detail.sender:null:null;this.body="document"in globalScope?document.body:null;runtime.addFeatures(owner,this)}}class ElementCollection{constructor(css,relativeToElement,escape){this._css=css;this.relativeToElement=relativeToElement;this.escape=escape;this[shouldAutoIterateSymbol]=true}get css(){if(this.escape){return Runtime.prototype.escapeSelector(this._css)}else{return this._css}}get className(){return this._css.substr(1)}get id(){return this.className()}contains(elt){for(let element of this){if(element.contains(elt)){return true}}return false}get length(){return this.selectMatches().length}[Symbol.iterator](){let query=this.selectMatches();return query[Symbol.iterator]()}selectMatches(){let query=Runtime.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css);return query}}const shouldAutoIterateSymbol=Symbol();function getOrInitObject(root,prop){var value=root[prop];if(value){return value}else{var newObj={};root[prop]=newObj;return newObj}}function parseJSON(jString){try{return JSON.parse(jString)}catch(error){logError(error);return null}}function logError(msg){if(console.error){console.error(msg)}else if(console.log){console.log("ERROR: ",msg)}}function varargConstructor(Cls,args){return new(Cls.bind.apply(Cls,[Cls].concat(args)))}function hyperscriptCoreGrammar(parser){parser.addLeafExpression("parenthesized",(function(parser,_runtime,tokens){if(tokens.matchOpToken("(")){var follows=tokens.clearFollows();try{var expr=parser.requireElement("expression",tokens)}finally{tokens.restoreFollows(follows)}tokens.requireOpToken(")");return expr}}));parser.addLeafExpression("string",(function(parser,runtime,tokens){var stringToken=tokens.matchTokenType("STRING");if(!stringToken)return;var rawValue=stringToken.value;var args;if(stringToken.template){var innerTokens=Lexer.tokenize(rawValue,true);args=parser.parseStringTemplate(innerTokens)}else{args=[]}return{type:"string",token:stringToken,args:args,op:function(context){var returnStr="";for(var i=1;i<arguments.length;i++){var val=arguments[i];if(val!==undefined){returnStr+=val}}return returnStr},evaluate:function(context){if(args.length===0){return rawValue}else{return runtime.unifiedEval(this,context)}}}}));parser.addGrammarElement("nakedString",(function(parser,runtime,tokens){if(tokens.hasMore()){var tokenArr=tokens.consumeUntilWhitespace();tokens.matchTokenType("WHITESPACE");return{type:"nakedString",tokens:tokenArr,evaluate:function(context){return tokenArr.map((function(t){return t.value})).join("")}}}}));parser.addLeafExpression("number",(function(parser,runtime,tokens){var number=tokens.matchTokenType("NUMBER");if(!number)return;var numberToken=number;var value=parseFloat(number.value);return{type:"number",value:value,numberToken:numberToken,evaluate:function(){return value}}}));parser.addLeafExpression("idRef",(function(parser,runtime,tokens){var elementId=tokens.matchTokenType("ID_REF");if(!elementId)return;if(elementId.template){var templateValue=elementId.value.substr(2,elementId.value.length-2);var innerTokens=Lexer.tokenize(templateValue);var innerExpression=parser.requireElement("expression",innerTokens);return{type:"idRefTemplate",args:[innerExpression],op:function(context,arg){return runtime.getRootNode(context.me).getElementById(arg)},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{const value=elementId.value.substr(1);return{type:"idRef",css:elementId.value,value:value,evaluate:function(context){return runtime.getRootNode(context.me).getElementById(value)}}}}));parser.addLeafExpression("classRef",(function(parser,runtime,tokens){var classRef=tokens.matchTokenType("CLASS_REF");if(!classRef)return;if(classRef.template){var templateValue=classRef.value.substr(2,classRef.value.length-2);var innerTokens=Lexer.tokenize(templateValue);var innerExpression=parser.requireElement("expression",innerTokens);return{type:"classRefTemplate",args:[innerExpression],op:function(context,arg){return new ElementCollection("."+arg,context.me,true)},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{const css=classRef.value;return{type:"classRef",css:css,evaluate:function(context){return new ElementCollection(css,context.me,true)}}}}));class TemplatedQueryElementCollection extends ElementCollection{constructor(css,relativeToElement,templateParts){super(css,relativeToElement);this.templateParts=templateParts;this.elements=templateParts.filter((elt=>elt instanceof Element))}get css(){let rv="",i=0;for(const val of this.templateParts){if(val instanceof Element){rv+="[data-hs-query-id='"+i+++"']"}else rv+=val}return rv}[Symbol.iterator](){this.elements.forEach(((el,i)=>el.dataset.hsQueryId=i));const rv=super[Symbol.iterator]();this.elements.forEach((el=>el.removeAttribute("data-hs-query-id")));return rv}}parser.addLeafExpression("queryRef",(function(parser,runtime,tokens){var queryStart=tokens.matchOpToken("<");if(!queryStart)return;var queryTokens=tokens.consumeUntil("/");tokens.requireOpToken("/");tokens.requireOpToken(">");var queryValue=queryTokens.map((function(t){if(t.type==="STRING"){return'"'+t.value+'"'}else{return t.value}})).join("");if(queryValue.indexOf("$")>=0){var template=true;var innerTokens=Lexer.tokenize(queryValue,true);var args=parser.parseStringTemplate(innerTokens)}return{type:"queryRef",css:queryValue,args:args,op:function(context,...args){if(template){return new TemplatedQueryElementCollection(queryValue,context.me,args)}else{return new ElementCollection(queryValue,context.me)}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addLeafExpression("attributeRef",(function(parser,runtime,tokens){var attributeRef=tokens.matchTokenType("ATTRIBUTE_REF");if(!attributeRef)return;var outerVal=attributeRef.value;if(outerVal.indexOf("[")===0){var innerValue=outerVal.substring(2,outerVal.length-1)}else{var innerValue=outerVal.substring(1)}var css="["+innerValue+"]";var split=innerValue.split("=");var name=split[0];var value=split[1];if(value){if(value.indexOf('"')===0){value=value.substring(1,value.length-1)}}return{type:"attributeRef",name:name,css:css,value:value,op:function(context){var target=context.you||context.me;if(target){return target.getAttribute(name)}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addLeafExpression("styleRef",(function(parser,runtime,tokens){var styleRef=tokens.matchTokenType("STYLE_REF");if(!styleRef)return;var styleProp=styleRef.value.substr(1);if(styleProp.startsWith("computed-")){styleProp=styleProp.substr("computed-".length);return{type:"computedStyleRef",name:styleProp,op:function(context){var target=context.you||context.me;if(target){return runtime.resolveComputedStyle(target,styleProp)}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{return{type:"styleRef",name:styleProp,op:function(context){var target=context.you||context.me;if(target){return runtime.resolveStyle(target,styleProp)}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}}));parser.addGrammarElement("objectKey",(function(parser,runtime,tokens){var token;if(token=tokens.matchTokenType("STRING")){return{type:"objectKey",key:token.value,evaluate:function(){return token.value}}}else if(tokens.matchOpToken("[")){var expr=parser.parseElement("expression",tokens);tokens.requireOpToken("]");return{type:"objectKey",expr:expr,args:[expr],op:function(ctx,expr){return expr},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{var key="";do{token=tokens.matchTokenType("IDENTIFIER")||tokens.matchOpToken("-");if(token)key+=token.value}while(token);return{type:"objectKey",key:key,evaluate:function(){return key}}}}));parser.addLeafExpression("objectLiteral",(function(parser,runtime,tokens){if(!tokens.matchOpToken("{"))return;var keyExpressions=[];var valueExpressions=[];if(!tokens.matchOpToken("}")){do{var name=parser.requireElement("objectKey",tokens);tokens.requireOpToken(":");var value=parser.requireElement("expression",tokens);valueExpressions.push(value);keyExpressions.push(name)}while(tokens.matchOpToken(","));tokens.requireOpToken("}")}return{type:"objectLiteral",args:[keyExpressions,valueExpressions],op:function(context,keys,values){var returnVal={};for(var i=0;i<keys.length;i++){returnVal[keys[i]]=values[i]}return returnVal},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("nakedNamedArgumentList",(function(parser,runtime,tokens){var fields=[];var valueExpressions=[];if(tokens.currentToken().type==="IDENTIFIER"){do{var name=tokens.requireTokenType("IDENTIFIER");tokens.requireOpToken(":");var value=parser.requireElement("expression",tokens);valueExpressions.push(value);fields.push({name:name,value:value})}while(tokens.matchOpToken(","))}return{type:"namedArgumentList",fields:fields,args:[valueExpressions],op:function(context,values){var returnVal={_namedArgList_:true};for(var i=0;i<values.length;i++){var field=fields[i];returnVal[field.name.value]=values[i]}return returnVal},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("namedArgumentList",(function(parser,runtime,tokens){if(!tokens.matchOpToken("("))return;var elt=parser.requireElement("nakedNamedArgumentList",tokens);tokens.requireOpToken(")");return elt}));parser.addGrammarElement("symbol",(function(parser,runtime,tokens){var scope="default";if(tokens.matchToken("global")){scope="global"}else if(tokens.matchToken("element")||tokens.matchToken("module")){scope="element";if(tokens.matchOpToken("'")){tokens.requireToken("s")}}else if(tokens.matchToken("local")){scope="local"}let eltPrefix=tokens.matchOpToken(":");let identifier=tokens.matchTokenType("IDENTIFIER");if(identifier){var name=identifier.value;if(eltPrefix){name=":"+name}if(scope==="default"){if(name.indexOf("$")===0){scope="global"}if(name.indexOf(":")===0){scope="element"}}return{type:"symbol",token:identifier,scope:scope,name:name,evaluate:function(context){return runtime.resolveSymbol(name,context,scope)}}}}));parser.addGrammarElement("implicitMeTarget",(function(parser,runtime,tokens){return{type:"implicitMeTarget",evaluate:function(context){return context.you||context.me}}}));parser.addLeafExpression("boolean",(function(parser,runtime,tokens){var booleanLiteral=tokens.matchToken("true")||tokens.matchToken("false");if(!booleanLiteral)return;const value=booleanLiteral.value==="true";return{type:"boolean",evaluate:function(context){return value}}}));parser.addLeafExpression("null",(function(parser,runtime,tokens){if(tokens.matchToken("null")){return{type:"null",evaluate:function(context){return null}}}}));parser.addLeafExpression("arrayLiteral",(function(parser,runtime,tokens){if(!tokens.matchOpToken("["))return;var values=[];if(!tokens.matchOpToken("]")){do{var expr=parser.requireElement("expression",tokens);values.push(expr)}while(tokens.matchOpToken(","));tokens.requireOpToken("]")}return{type:"arrayLiteral",values:values,args:[values],op:function(context,values){return values},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addLeafExpression("blockLiteral",(function(parser,runtime,tokens){if(!tokens.matchOpToken("\\"))return;var args=[];var arg1=tokens.matchTokenType("IDENTIFIER");if(arg1){args.push(arg1);while(tokens.matchOpToken(",")){args.push(tokens.requireTokenType("IDENTIFIER"))}}tokens.requireOpToken("-");tokens.requireOpToken(">");var expr=parser.requireElement("expression",tokens);return{type:"blockLiteral",args:args,expr:expr,evaluate:function(ctx){var returnFunc=function(){for(var i=0;i<args.length;i++){ctx.locals[args[i].value]=arguments[i]}return expr.evaluate(ctx)};return returnFunc}}}));parser.addIndirectExpression("propertyAccess",(function(parser,runtime,tokens,root){if(!tokens.matchOpToken("."))return;var prop=tokens.requireTokenType("IDENTIFIER");var propertyAccess={type:"propertyAccess",root:root,prop:prop,args:[root],op:function(_context,rootVal){var value=runtime.resolveProperty(rootVal,prop.value);return value},evaluate:function(context){return runtime.unifiedEval(this,context)}};return parser.parseElement("indirectExpression",tokens,propertyAccess)}));parser.addIndirectExpression("of",(function(parser,runtime,tokens,root){if(!tokens.matchToken("of"))return;var newRoot=parser.requireElement("unaryExpression",tokens);var childOfUrRoot=null;var urRoot=root;while(urRoot.root){childOfUrRoot=urRoot;urRoot=urRoot.root}if(urRoot.type!=="symbol"&&urRoot.type!=="attributeRef"&&urRoot.type!=="styleRef"&&urRoot.type!=="computedStyleRef"){parser.raiseParseError(tokens,"Cannot take a property of a non-symbol: "+urRoot.type)}var attribute=urRoot.type==="attributeRef";var style=urRoot.type==="styleRef"||urRoot.type==="computedStyleRef";if(attribute||style){var attributeElt=urRoot}var prop=urRoot.name;var propertyAccess={type:"ofExpression",prop:urRoot.token,root:newRoot,attribute:attributeElt,expression:root,args:[newRoot],op:function(context,rootVal){if(attribute){return runtime.resolveAttribute(rootVal,prop)}else if(style){if(urRoot.type==="computedStyleRef"){return runtime.resolveComputedStyle(rootVal,prop)}else{return runtime.resolveStyle(rootVal,prop)}}else{return runtime.resolveProperty(rootVal,prop)}},evaluate:function(context){return runtime.unifiedEval(this,context)}};if(urRoot.type==="attributeRef"){propertyAccess.attribute=urRoot}if(childOfUrRoot){childOfUrRoot.root=propertyAccess;childOfUrRoot.args=[propertyAccess]}else{root=propertyAccess}return parser.parseElement("indirectExpression",tokens,root)}));parser.addIndirectExpression("possessive",(function(parser,runtime,tokens,root){if(parser.possessivesDisabled){return}var apostrophe=tokens.matchOpToken("'");if(apostrophe||root.type==="symbol"&&(root.name==="my"||root.name==="its"||root.name==="your")&&(tokens.currentToken().type==="IDENTIFIER"||tokens.currentToken().type==="ATTRIBUTE_REF"||tokens.currentToken().type==="STYLE_REF")){if(apostrophe){tokens.requireToken("s")}var attribute=parser.parseElement("attributeRef",tokens);if(attribute==null){var style=parser.parseElement("styleRef",tokens);if(style==null){var prop=tokens.requireTokenType("IDENTIFIER")}}var propertyAccess={type:"possessive",root:root,attribute:attribute||style,prop:prop,args:[root],op:function(context,rootVal){if(attribute){var value=runtime.resolveAttribute(rootVal,attribute.name)}else if(style){var value;if(style.type==="computedStyleRef"){value=runtime.resolveComputedStyle(rootVal,style["name"])}else{value=runtime.resolveStyle(rootVal,style["name"])}}else{var value=runtime.resolveProperty(rootVal,prop.value)}return value},evaluate:function(context){return runtime.unifiedEval(this,context)}};return parser.parseElement("indirectExpression",tokens,propertyAccess)}}));parser.addIndirectExpression("inExpression",(function(parser,runtime,tokens,root){if(!tokens.matchToken("in"))return;var target=parser.requireElement("unaryExpression",tokens);var propertyAccess={type:"inExpression",root:root,args:[root,target],op:function(context,rootVal,target){var returnArr=[];if(rootVal.css){runtime.implicitLoop(target,(function(targetElt){var results=targetElt.querySelectorAll(rootVal.css);for(var i=0;i<results.length;i++){returnArr.push(results[i])}}))}else if(rootVal instanceof Element){var within=false;runtime.implicitLoop(target,(function(targetElt){if(targetElt.contains(rootVal)){within=true}}));if(within){return rootVal}}else{runtime.implicitLoop(rootVal,(function(rootElt){runtime.implicitLoop(target,(function(targetElt){if(rootElt===targetElt){returnArr.push(rootElt)}}))}))}return returnArr},evaluate:function(context){return runtime.unifiedEval(this,context)}};return parser.parseElement("indirectExpression",tokens,propertyAccess)}));parser.addIndirectExpression("asExpression",(function(parser,runtime,tokens,root){if(!tokens.matchToken("as"))return;tokens.matchToken("a")||tokens.matchToken("an");var conversion=parser.requireElement("dotOrColonPath",tokens).evaluate();var propertyAccess={type:"asExpression",root:root,args:[root],op:function(context,rootVal){return runtime.convertValue(rootVal,conversion)},evaluate:function(context){return runtime.unifiedEval(this,context)}};return parser.parseElement("indirectExpression",tokens,propertyAccess)}));parser.addIndirectExpression("functionCall",(function(parser,runtime,tokens,root){if(!tokens.matchOpToken("("))return;var args=[];if(!tokens.matchOpToken(")")){do{args.push(parser.requireElement("expression",tokens))}while(tokens.matchOpToken(","));tokens.requireOpToken(")")}if(root.root){var functionCall={type:"functionCall",root:root,argExressions:args,args:[root.root,args],op:function(context,rootRoot,args){runtime.nullCheck(rootRoot,root.root);var func=rootRoot[root.prop.value];runtime.nullCheck(func,root);if(func.hyperfunc){args.push(context)}return func.apply(rootRoot,args)},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{var functionCall={type:"functionCall",root:root,argExressions:args,args:[root,args],op:function(context,func,argVals){runtime.nullCheck(func,root);if(func.hyperfunc){argVals.push(context)}var apply=func.apply(null,argVals);return apply},evaluate:function(context){return runtime.unifiedEval(this,context)}}}return parser.parseElement("indirectExpression",tokens,functionCall)}));parser.addIndirectExpression("attributeRefAccess",(function(parser,runtime,tokens,root){var attribute=parser.parseElement("attributeRef",tokens);if(!attribute)return;var attributeAccess={type:"attributeRefAccess",root:root,attribute:attribute,args:[root],op:function(_ctx,rootVal){var value=runtime.resolveAttribute(rootVal,attribute.name);return value},evaluate:function(context){return runtime.unifiedEval(this,context)}};return attributeAccess}));parser.addIndirectExpression("arrayIndex",(function(parser,runtime,tokens,root){if(!tokens.matchOpToken("["))return;var andBefore=false;var andAfter=false;var firstIndex=null;var secondIndex=null;if(tokens.matchOpToken("..")){andBefore=true;firstIndex=parser.requireElement("expression",tokens)}else{firstIndex=parser.requireElement("expression",tokens);if(tokens.matchOpToken("..")){andAfter=true;var current=tokens.currentToken();if(current.type!=="R_BRACKET"){secondIndex=parser.parseElement("expression",tokens)}}}tokens.requireOpToken("]");var arrayIndex={type:"arrayIndex",root:root,prop:firstIndex,firstIndex:firstIndex,secondIndex:secondIndex,args:[root,firstIndex,secondIndex],op:function(_ctx,root,firstIndex,secondIndex){if(root==null){return null}if(andBefore){if(firstIndex<0){firstIndex=root.length+firstIndex}return root.slice(0,firstIndex+1)}else if(andAfter){if(secondIndex!=null){if(secondIndex<0){secondIndex=root.length+secondIndex}return root.slice(firstIndex,secondIndex+1)}else{return root.slice(firstIndex)}}else{return root[firstIndex]}},evaluate:function(context){return runtime.unifiedEval(this,context)}};return parser.parseElement("indirectExpression",tokens,arrayIndex)}));var STRING_POSTFIXES=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];parser.addGrammarElement("postfixExpression",(function(parser,runtime,tokens){var root=parser.parseElement("primaryExpression",tokens);let stringPosfix=tokens.matchAnyToken.apply(tokens,STRING_POSTFIXES)||tokens.matchOpToken("%");if(stringPosfix){return{type:"stringPostfix",postfix:stringPosfix.value,args:[root],op:function(context,val){return""+val+stringPosfix.value},evaluate:function(context){return runtime.unifiedEval(this,context)}}}var timeFactor=null;if(tokens.matchToken("s")||tokens.matchToken("seconds")){timeFactor=1e3}else if(tokens.matchToken("ms")||tokens.matchToken("milliseconds")){timeFactor=1}if(timeFactor){return{type:"timeExpression",time:root,factor:timeFactor,args:[root],op:function(_context,val){return val*timeFactor},evaluate:function(context){return runtime.unifiedEval(this,context)}}}if(tokens.matchOpToken(":")){var typeName=tokens.requireTokenType("IDENTIFIER");var nullOk=!tokens.matchOpToken("!");return{type:"typeCheck",typeName:typeName,nullOk:nullOk,args:[root],op:function(context,val){var passed=runtime.typeCheck(val,typeName.value,nullOk);if(passed){return val}else{throw new Error("Typecheck failed!  Expected: "+typeName.value)}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}else{return root}}));parser.addGrammarElement("logicalNot",(function(parser,runtime,tokens){if(!tokens.matchToken("not"))return;var root=parser.requireElement("unaryExpression",tokens);return{type:"logicalNot",root:root,args:[root],op:function(context,val){return!val},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("noExpression",(function(parser,runtime,tokens){if(!tokens.matchToken("no"))return;var root=parser.requireElement("unaryExpression",tokens);return{type:"noExpression",root:root,args:[root],op:function(_context,val){return runtime.isEmpty(val)},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addLeafExpression("some",(function(parser,runtime,tokens){if(!tokens.matchToken("some"))return;var root=parser.requireElement("expression",tokens);return{type:"noExpression",root:root,args:[root],op:function(_context,val){return!runtime.isEmpty(val)},evaluate(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("negativeNumber",(function(parser,runtime,tokens){if(!tokens.matchOpToken("-"))return;var root=parser.requireElement("unaryExpression",tokens);return{type:"negativeNumber",root:root,args:[root],op:function(context,value){return-1*value},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("unaryExpression",(function(parser,runtime,tokens){tokens.matchToken("the");return parser.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],tokens)}));parser.addGrammarElement("beepExpression",(function(parser,runtime,tokens){if(!tokens.matchToken("beep!"))return;var expression=parser.parseElement("unaryExpression",tokens);if(expression){expression["booped"]=true;var originalEvaluate=expression.evaluate;expression.evaluate=function(ctx){let value=originalEvaluate.apply(expression,arguments);let element=ctx.me;if(runtime.triggerEvent(element,"hyperscript:beep",{element:element,expression:expression,value:value})){var typeName;if(value){if(value instanceof ElementCollection){typeName="ElementCollection"}else if(value.constructor){typeName=value.constructor.name}else{typeName="unknown"}}else{typeName="object (null)"}var logValue=value;if(typeName==="String"){logValue='"'+logValue+'"'}else if(value instanceof ElementCollection){logValue=Array.from(value)}console.log("///_ BEEP! The expression ("+Tokens.sourceFor.call(expression).substr(6)+") evaluates to:",logValue,"of type "+typeName)}return value};return expression}}));var scanForwardQuery=function(start,root,match,wrap){var results=root.querySelectorAll(match);for(var i=0;i<results.length;i++){var elt=results[i];if(elt.compareDocumentPosition(start)===Node.DOCUMENT_POSITION_PRECEDING){return elt}}if(wrap){return results[0]}};var scanBackwardsQuery=function(start,root,match,wrap){var results=root.querySelectorAll(match);for(var i=results.length-1;i>=0;i--){var elt=results[i];if(elt.compareDocumentPosition(start)===Node.DOCUMENT_POSITION_FOLLOWING){return elt}}if(wrap){return results[results.length-1]}};var scanForwardArray=function(start,array,match,wrap){var matches=[];Runtime.prototype.forEach(array,(function(elt){if(elt.matches(match)||elt===start){matches.push(elt)}}));for(var i=0;i<matches.length-1;i++){var elt=matches[i];if(elt===start){return matches[i+1]}}if(wrap){var first=matches[0];if(first&&first.matches(match)){return first}}};var scanBackwardsArray=function(start,array,match,wrap){return scanForwardArray(start,Array.from(array).reverse(),match,wrap)};parser.addGrammarElement("relativePositionalExpression",(function(parser,runtime,tokens){var op=tokens.matchAnyToken("next","previous");if(!op)return;if(op.value==="next"){var forwardSearch=true}var thing=parser.parseElement("expression",tokens);if(tokens.matchToken("from")){tokens.pushFollow("in");try{var from=parser.requireElement("unaryExpression",tokens)}finally{tokens.popFollow()}}else{var from=parser.requireElement("implicitMeTarget",tokens)}var inSearch=false;var withinElt;if(tokens.matchToken("in")){inSearch=true;var inElt=parser.requireElement("unaryExpression",tokens)}else if(tokens.matchToken("within")){withinElt=parser.requireElement("unaryExpression",tokens)}else{withinElt=document.body}var wrapping=false;if(tokens.matchToken("with")){tokens.requireToken("wrapping");wrapping=true}return{type:"relativePositionalExpression",from:from,forwardSearch:forwardSearch,inSearch:inSearch,wrapping:wrapping,inElt:inElt,withinElt:withinElt,operator:op.value,args:[thing,from,inElt,withinElt],op:function(context,thing,from,inElt,withinElt){var css=thing.css;if(css==null){throw"Expected a CSS value"}if(inSearch){if(inElt){if(forwardSearch){return scanForwardArray(from,inElt,css,wrapping)}else{return scanBackwardsArray(from,inElt,css,wrapping)}}}else{if(withinElt){if(forwardSearch){return scanForwardQuery(from,withinElt,css,wrapping)}else{return scanBackwardsQuery(from,withinElt,css,wrapping)}}}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("positionalExpression",(function(parser,runtime,tokens){var op=tokens.matchAnyToken("first","last","random");if(!op)return;tokens.matchAnyToken("in","from","of");var rhs=parser.requireElement("unaryExpression",tokens);const operator=op.value;return{type:"positionalExpression",rhs:rhs,operator:op.value,args:[rhs],op:function(context,rhsVal){if(rhsVal&&!Array.isArray(rhsVal)){if(rhsVal.children){rhsVal=rhsVal.children}else{rhsVal=Array.from(rhsVal)}}if(rhsVal){if(operator==="first"){return rhsVal[0]}else if(operator==="last"){return rhsVal[rhsVal.length-1]}else if(operator==="random"){return rhsVal[Math.floor(Math.random()*rhsVal.length)]}}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}));parser.addGrammarElement("mathOperator",(function(parser,runtime,tokens){var expr=parser.parseElement("unaryExpression",tokens);var mathOp,initialMathOp=null;mathOp=tokens.matchAnyOpToken("+","-","*","/","%");while(mathOp){initialMathOp=initialMathOp||mathOp;var operator=mathOp.value;if(initialMathOp.value!==operator){parser.raiseParseError(tokens,"You must parenthesize math operations with different operators")}var rhs=parser.parseElement("unaryExpression",tokens);expr={type:"mathOperator",lhs:expr,rhs:rhs,operator:operator,args:[expr,rhs],op:function(context,lhsVal,rhsVal){if(operator==="+"){return lhsVal+rhsVal}else if(operator==="-"){return lhsVal-rhsVal}else if(operator==="*"){return lhsVal*rhsVal}else if(operator==="/"){return lhsVal/rhsVal}else if(operator==="%"){return lhsVal%rhsVal}},evaluate:function(context){return runtime.unifiedEval(this,context)}};mathOp=tokens.matchAnyOpToken("+","-","*","/","%")}return expr}));parser.addGrammarElement("mathExpression",(function(parser,runtime,tokens){return parser.parseAnyOf(["mathOperator","unaryExpression"],tokens)}));function sloppyContains(src,container,value){if(container["contains"]){return container.contains(value)}else if(container["includes"]){return container.includes(value)}else{throw Error("The value of "+src.sourceFor()+" does not have a contains or includes method on it")}}function sloppyMatches(src,target,toMatch){if(target["match"]){return!!target.match(toMatch)}else if(target["matches"]){return target.matches(toMatch)}else{throw Error("The value of "+src.sourceFor()+" does not have a match or matches method on it")}}parser.addGrammarElement("comparisonOperator",(function(parser,runtime,tokens){var expr=parser.parseElement("mathExpression",tokens);var comparisonToken=tokens.matchAnyOpToken("<",">","<=",">=","==","===","!=","!==");var operator=comparisonToken?comparisonToken.value:null;var hasRightValue=true;var typeCheck=false;if(operator==null){if(tokens.matchToken("is")||tokens.matchToken("am")){if(tokens.matchToken("not")){if(tokens.matchToken("in")){operator="not in"}else if(tokens.matchToken("a")){operator="not a";typeCheck=true}else if(tokens.matchToken("empty")){operator="not empty";hasRightValue=false}else{operator="!="}}else if(tokens.matchToken("in")){operator="in"}else if(tokens.matchToken("a")){operator="a";typeCheck=true}else if(tokens.matchToken("empty")){operator="empty";hasRightValue=false}else if(tokens.matchToken("less")){tokens.requireToken("than");if(tokens.matchToken("or")){tokens.requireToken("equal");tokens.requireToken("to");operator="<="}else{operator="<"}}else if(tokens.matchToken("greater")){tokens.requireToken("than");if(tokens.matchToken("or")){tokens.requireToken("equal");tokens.requireToken("to");operator=">="}else{operator=">"}}else{operator="=="}}else if(tokens.matchToken("exist")||tokens.matchToken("exists")){operator="exist";hasRightValue=false}else if(tokens.matchToken("matches")||tokens.matchToken("match")){operator="match"}else if(tokens.matchToken("contains")||tokens.matchToken("contain")){operator="contain"}else if(tokens.matchToken("includes")||tokens.matchToken("include")){operator="include"}else if(tokens.matchToken("do")||tokens.matchToken("does")){tokens.requireToken("not");if(tokens.matchToken("matches")||tokens.matchToken("match")){operator="not match"}else if(tokens.matchToken("contains")||tokens.matchToken("contain")){operator="not contain"}else if(tokens.matchToken("exist")||tokens.matchToken("exist")){operator="not exist";hasRightValue=false}else if(tokens.matchToken("include")){operator="not include"}else{parser.raiseParseError(tokens,"Expected matches or contains")}}}if(operator){if(typeCheck){var typeName=tokens.requireTokenType("IDENTIFIER");var nullOk=!tokens.matchOpToken("!")}else if(hasRightValue){var rhs=parser.requireElement("mathExpression",tokens);if(operator==="match"||operator==="not match"){rhs=rhs.css?rhs.css:rhs}}var lhs=expr;expr={type:"comparisonOperator",operator:operator,typeName:typeName,nullOk:nullOk,lhs:expr,rhs:rhs,args:[expr,rhs],op:function(context,lhsVal,rhsVal){if(operator==="=="){return lhsVal==rhsVal}else if(operator==="!="){return lhsVal!=rhsVal}if(operator==="match"){return lhsVal!=null&&sloppyMatches(lhs,lhsVal,rhsVal)}if(operator==="not match"){return lhsVal==null||!sloppyMatches(lhs,lhsVal,rhsVal)}if(operator==="in"){return rhsVal!=null&&sloppyContains(rhs,rhsVal,lhsVal)}if(operator==="not in"){return rhsVal==null||!sloppyContains(rhs,rhsVal,lhsVal)}if(operator==="contain"){return lhsVal!=null&&sloppyContains(lhs,lhsVal,rhsVal)}if(operator==="not contain"){return lhsVal==null||!sloppyContains(lhs,lhsVal,rhsVal)}if(operator==="include"){return lhsVal!=null&&sloppyContains(lhs,lhsVal,rhsVal)}if(operator==="not include"){return lhsVal==null||!sloppyContains(lhs,lhsVal,rhsVal)}if(operator==="==="){return lhsVal===rhsVal}else if(operator==="!=="){return lhsVal!==rhsVal}else if(operator==="<"){return lhsVal<rhsVal}else if(operator===">"){return lhsVal>rhsVal}else if(operator==="<="){return lhsVal<=rhsVal}else if(operator===">="){return lhsVal>=rhsVal}else if(operator==="empty"){return runtime.isEmpty(lhsVal)}else if(operator==="not empty"){return!runtime.isEmpty(lhsVal)}else if(operator==="exist"){return runtime.doesExist(lhsVal)}else if(operator==="not exist"){return!runtime.doesExist(lhsVal)}else if(operator==="a"){return runtime.typeCheck(lhsVal,typeName.value,nullOk)}else if(operator==="not a"){return!runtime.typeCheck(lhsVal,typeName.value,nullOk)}else{throw"Unknown comparison : "+operator}},evaluate:function(context){return runtime.unifiedEval(this,context)}}}return expr}));parser.addGrammarElement("comparisonExpression",(function(parser,runtime,tokens){return parser.parseAnyOf(["comparisonOperator","mathExpression"],tokens)}));parser.addGrammarElement("logicalOperator",(function(parser,runtime,tokens){var expr=parser.parseElement("comparisonExpression",tokens);var logicalOp,initialLogicalOp=null;logicalOp=tokens.matchToken("and")||tokens.matchToken("or");while(logicalOp){initialLogicalOp=initialLogicalOp||logicalOp;if(initialLogicalOp.value!==logicalOp.value){parser.raiseParseError(tokens,"You must parenthesize logical operations with different operators")}var rhs=parser.requireElement("comparisonExpression",tokens);const operator=logicalOp.value;expr={type:"logicalOperator",operator:operator,lhs:expr,rhs:rhs,args:[expr,rhs],op:function(context,lhsVal,rhsVal){if(operator==="and"){return lhsVal&&rhsVal}else{return lhsVal||rhsVal}},evaluate:function(context){return runtime.unifiedEval(this,context)}};logicalOp=tokens.matchToken("and")||tokens.matchToken("or")}return expr}));parser.addGrammarElement("logicalExpression",(function(parser,runtime,tokens){return parser.parseAnyOf(["logicalOperator","mathExpression"],tokens)}));parser.addGrammarElement("asyncExpression",(function(parser,runtime,tokens){if(tokens.matchToken("async")){var value=parser.requireElement("logicalExpression",tokens);var expr={type:"asyncExpression",value:value,evaluate:function(context){return{asyncWrapper:true,value:this.value.evaluate(context)}}};return expr}else{return parser.parseElement("logicalExpression",tokens)}}));parser.addGrammarElement("expression",(function(parser,runtime,tokens){tokens.matchToken("the");return parser.parseElement("asyncExpression",tokens)}));parser.addGrammarElement("assignableExpression",(function(parser,runtime,tokens){tokens.matchToken("the");var expr=parser.parseElement("primaryExpression",tokens);if(expr&&(expr.type==="symbol"||expr.type==="ofExpression"||expr.type==="propertyAccess"||expr.type==="attributeRefAccess"||expr.type==="attributeRef"||expr.type==="styleRef"||expr.type==="arrayIndex"||expr.type==="possessive")){return expr}else{parser.raiseParseError(tokens,"A target expression must be writable.  The expression type '"+(expr&&expr.type)+"' is not.")}return expr}));parser.addGrammarElement("hyperscript",(function(parser,runtime,tokens){var features=[];if(tokens.hasMore()){while(parser.featureStart(tokens.currentToken())||tokens.currentToken().value==="("){var feature=parser.requireElement("feature",tokens);features.push(feature);tokens.matchToken("end")}}return{type:"hyperscript",features:features,apply:function(target,source,args){for(const feature of features){feature.install(target,source,args)}}}}));var parseEventArgs=function(tokens){var args=[];if(tokens.token(0).value==="("&&(tokens.token(1).value===")"||tokens.token(2).value===","||tokens.token(2).value===")")){tokens.matchOpToken("(");do{args.push(tokens.requireTokenType("IDENTIFIER"))}while(tokens.matchOpToken(","));tokens.requireOpToken(")")}return args};parser.addFeature("on",(function(parser,runtime,tokens){if(!tokens.matchToken("on"))return;var every=false;if(tokens.matchToken("every")){every=true}var events=[];var displayName=null;do{var on=parser.requireElement("eventName",tokens,"Expected event name");var eventName=on.evaluate();if(displayName){displayName=displayName+" or "+eventName}else{displayName="on "+eventName}var args=parseEventArgs(tokens);var filter=null;if(tokens.matchOpToken("[")){filter=parser.requireElement("expression",tokens);tokens.requireOpToken("]")}if(tokens.currentToken().type==="NUMBER"){var startCountToken=tokens.consumeToken();var startCount=parseInt(startCountToken.value);if(tokens.matchToken("to")){var endCountToken=tokens.consumeToken();var endCount=parseInt(endCountToken.value)}else if(tokens.matchToken("and")){var unbounded=true;tokens.requireToken("on")}}if(eventName==="intersection"){var intersectionSpec={};if(tokens.matchToken("with")){intersectionSpec["with"]=parser.requireElement("expression",tokens).evaluate()}if(tokens.matchToken("having")){do{if(tokens.matchToken("margin")){intersectionSpec["rootMargin"]=parser.requireElement("stringLike",tokens).evaluate()}else if(tokens.matchToken("threshold")){intersectionSpec["threshold"]=parser.requireElement("expression",tokens).evaluate()}else{parser.raiseParseError(tokens,"Unknown intersection config specification")}}while(tokens.matchToken("and"))}}else if(eventName==="mutation"){var mutationSpec={};if(tokens.matchToken("of")){do{if(tokens.matchToken("anything")){mutationSpec["attributes"]=true;mutationSpec["subtree"]=true;mutationSpec["characterData"]=true;mutationSpec["childList"]=true}else if(tokens.matchToken("childList")){mutationSpec["childList"]=true}else if(tokens.matchToken("attributes")){mutationSpec["attributes"]=true;mutationSpec["attributeOldValue"]=true}else if(tokens.matchToken("subtree")){mutationSpec["subtree"]=true}else if(tokens.matchToken("characterData")){mutationSpec["characterData"]=true;mutationSpec["characterDataOldValue"]=true}else if(tokens.currentToken().type==="ATTRIBUTE_REF"){var attribute=tokens.consumeToken();if(mutationSpec["attributeFilter"]==null){mutationSpec["attributeFilter"]=[]}if(attribute.value.indexOf("@")==0){mutationSpec["attributeFilter"].push(attribute.value.substring(1))}else{parser.raiseParseError(tokens,"Only shorthand attribute references are allowed here")}}else{parser.raiseParseError(tokens,"Unknown mutation config specification")}}while(tokens.matchToken("or"))}else{mutationSpec["attributes"]=true;mutationSpec["characterData"]=true;mutationSpec["childList"]=true}}var from=null;var elsewhere=false;if(tokens.matchToken("from")){if(tokens.matchToken("elsewhere")){elsewhere=true}else{from=parser.parseElement("expression",tokens);if(!from){parser.raiseParseError(tokens,'Expected either target value or "elsewhere".')}}}if(from===null&&elsewhere===false&&tokens.matchToken("elsewhere")){elsewhere=true}if(tokens.matchToken("in")){var inExpr=parser.parseElement("unaryExpression",tokens)}if(tokens.matchToken("debounced")){tokens.requireToken("at");var timeExpr=parser.requireElement("expression",tokens);var debounceTime=timeExpr.evaluate({})}else if(tokens.matchToken("throttled")){tokens.requireToken("at");var timeExpr=parser.requireElement("expression",tokens);var throttleTime=timeExpr.evaluate({})}events.push({execCount:0,every:every,on:eventName,args:args,filter:filter,from:from,inExpr:inExpr,elsewhere:elsewhere,startCount:startCount,endCount:endCount,unbounded:unbounded,debounceTime:debounceTime,throttleTime:throttleTime,mutationSpec:mutationSpec,intersectionSpec:intersectionSpec,debounced:undefined,lastExec:undefined})}while(tokens.matchToken("or"));var queueLast=true;if(!every){if(tokens.matchToken("queue")){if(tokens.matchToken("all")){var queueAll=true;var queueLast=false}else if(tokens.matchToken("first")){var queueFirst=true}else if(tokens.matchToken("none")){var queueNone=true}else{tokens.requireToken("last")}}}var start=parser.requireElement("commandList",tokens);parser.ensureTerminated(start);if(tokens.matchToken("catch")){var errorSymbol=tokens.requireTokenType("IDENTIFIER").value;var errorHandler=parser.requireElement("commandList",tokens);parser.ensureTerminated(errorHandler)}if(tokens.matchToken("finally")){var finallyHandler=parser.requireElement("commandList",tokens);parser.ensureTerminated(finallyHandler)}var onFeature={displayName:displayName,events:events,start:start,every:every,execCount:0,errorHandler:errorHandler,errorSymbol:errorSymbol,execute:function(ctx){let eventQueueInfo=runtime.getEventQueueFor(ctx.me,onFeature);if(eventQueueInfo.executing&&every===false){if(queueNone||queueFirst&&eventQueueInfo.queue.length>0){return}if(queueLast){eventQueueInfo.queue.length=0}eventQueueInfo.queue.push(ctx);return}onFeature.execCount++;eventQueueInfo.executing=true;ctx.meta.onHalt=function(){eventQueueInfo.executing=false;var queued=eventQueueInfo.queue.shift();if(queued){setTimeout((function(){onFeature.execute(queued)}),1)}};ctx.meta.reject=function(err){console.error(err.message?err.message:err);var hypertrace=runtime.getHyperTrace(ctx,err);if(hypertrace){hypertrace.print()}runtime.triggerEvent(ctx.me,"exception",{error:err})};start.execute(ctx)},install:function(elt,source){for(const eventSpec of onFeature.events){var targets;if(eventSpec.elsewhere){targets=[document]}else if(eventSpec.from){targets=eventSpec.from.evaluate(runtime.makeContext(elt,onFeature,elt,null))}else{targets=[elt]}runtime.implicitLoop(targets,(function(target){var eventName=eventSpec.on;if(eventSpec.mutationSpec){eventName="hyperscript:mutation";const observer=new MutationObserver((function(mutationList,observer){if(!onFeature.executing){runtime.triggerEvent(target,eventName,{mutationList:mutationList,observer:observer})}}));observer.observe(target,eventSpec.mutationSpec)}if(eventSpec.intersectionSpec){eventName="hyperscript:insersection";const observer=new IntersectionObserver((function(entries){for(const entry of entries){var detail={observer:observer};detail=Object.assign(detail,entry);detail["intersecting"]=entry.isIntersecting;runtime.triggerEvent(target,eventName,detail)}}),eventSpec.intersectionSpec);observer.observe(target)}var addEventListener=target.addEventListener||target.on;addEventListener.call(target,eventName,(function listener(evt){if(typeof Node!=="undefined"&&elt instanceof Node&&target!==elt&&!elt.isConnected){target.removeEventListener(eventName,listener);return}var ctx=runtime.makeContext(elt,onFeature,elt,evt);if(eventSpec.elsewhere&&elt.contains(evt.target)){return}if(eventSpec.from){ctx.result=target}for(const arg of eventSpec.args){let eventValue=ctx.event[arg.value];if(eventValue!==undefined){ctx.locals[arg.value]=eventValue}else if("detail"in ctx.event){ctx.locals[arg.value]=ctx.event["detail"][arg.value]}}ctx.meta.errorHandler=errorHandler;ctx.meta.errorSymbol=errorSymbol;ctx.meta.finallyHandler=finallyHandler;if(eventSpec.filter){var initialCtx=ctx.meta.context;ctx.meta.context=ctx.event;try{var value=eventSpec.filter.evaluate(ctx);if(value){}else{return}}finally{ctx.meta.context=initialCtx}}if(eventSpec.inExpr){var inElement=evt.target;while(true){if(inElement.matches&&inElement.matches(eventSpec.inExpr.css)){ctx.result=inElement;break}else{inElement=inElement.parentElement;if(inElement==null){return}}}}eventSpec.execCount++;if(eventSpec.startCount){if(eventSpec.endCount){if(eventSpec.execCount<eventSpec.startCount||eventSpec.execCount>eventSpec.endCount){return}}else if(eventSpec.unbounded){if(eventSpec.execCount<eventSpec.startCount){return}}else if(eventSpec.execCount!==eventSpec.startCount){return}}if(eventSpec.debounceTime){if(eventSpec.debounced){clearTimeout(eventSpec.debounced)}eventSpec.debounced=setTimeout((function(){onFeature.execute(ctx)}),eventSpec.debounceTime);return}if(eventSpec.throttleTime){if(eventSpec.lastExec&&Date.now()<eventSpec.lastExec+eventSpec.throttleTime){return}else{eventSpec.lastExec=Date.now()}}onFeature.execute(ctx)}))}))}}};parser.setParent(start,onFeature);return onFeature}));parser.addFeature("def",(function(parser,runtime,tokens){if(!tokens.matchToken("def"))return;var functionName=parser.requireElement("dotOrColonPath",tokens);var nameVal=functionName.evaluate();var nameSpace=nameVal.split(".");var funcName=nameSpace.pop();var args=[];if(tokens.matchOpToken("(")){if(tokens.matchOpToken(")")){}else{do{args.push(tokens.requireTokenType("IDENTIFIER"))}while(tokens.matchOpToken(","));tokens.requireOpToken(")")}}var start=parser.requireElement("commandList",tokens);if(tokens.matchToken("catch")){var errorSymbol=tokens.requireTokenType("IDENTIFIER").value;var errorHandler=parser.parseElement("commandList",tokens)}if(tokens.matchToken("finally")){var finallyHandler=parser.requireElement("commandList",tokens);parser.ensureTerminated(finallyHandler)}var functionFeature={displayName:funcName+"("+args.map((function(arg){return arg.value})).join(", ")+")",name:funcName,args:args,start:start,errorHandler:errorHandler,errorSymbol:errorSymbol,finallyHandler:finallyHandler,install:function(target,source){var func=function(){var ctx=runtime.makeContext(source,functionFeature,target,null);ctx.meta.errorHandler=errorHandler;ctx.meta.errorSymbol=errorSymbol;ctx.meta.finallyHandler=finallyHandler;for(var i=0;i<args.length;i++){var name=args[i];var argumentVal=arguments[i];if(name){ctx.locals[name.value]=argumentVal}}ctx.meta.caller=arguments[args.length];if(ctx.meta.caller){ctx.meta.callingCommand=ctx.meta.caller.meta.command}var resolve,reject=null;var promise=new Promise((function(theResolve,theReject){resolve=theResolve;reject=theReject}));start.execute(ctx);if(ctx.meta.returned){return ctx.meta.returnValue}else{ctx.meta.resolve=resolve;ctx.meta.reject=reject;return promise}};func.hyperfunc=true;func.hypername=nameVal;runtime.assignToNamespace(target,nameSpace,funcName,func)}};parser.ensureTerminated(start);if(errorHandler){parser.ensureTerminated(errorHandler)}parser.setParent(start,functionFeature);return functionFeature}));parser.addFeature("set",(function(parser,runtime,tokens){let setCmd=parser.parseElement("setCommand",tokens);if(setCmd){if(setCmd.target.scope!=="element"){parser.raiseParseError(tokens,"variables declared at the feature level must be element scoped.")}let setFeature={start:setCmd,install:function(target,source){setCmd&&setCmd.execute(runtime.makeContext(target,setFeature,target,null))}};parser.ensureTerminated(setCmd);return setFeature}}));parser.addFeature("init",(function(parser,runtime,tokens){if(!tokens.matchToken("init"))return;var immediately=tokens.matchToken("immediately");var start=parser.requireElement("commandList",tokens);var initFeature={start:start,install:function(target,source){let handler=function(){start&&start.execute(runtime.makeContext(target,initFeature,target,null))};if(immediately){handler()}else{setTimeout(handler,0)}}};parser.ensureTerminated(start);parser.setParent(start,initFeature);return initFeature}));parser.addFeature("worker",(function(parser,runtime,tokens){if(tokens.matchToken("worker")){parser.raiseParseError(tokens,"In order to use the 'worker' feature, include "+"the _hyperscript worker plugin. See "+"https://hyperscript.org/features/worker/ for "+"more info.");return undefined}}));parser.addFeature("behavior",(function(parser,runtime,tokens){if(!tokens.matchToken("behavior"))return;var path=parser.requireElement("dotOrColonPath",tokens).evaluate();var nameSpace=path.split(".");var name=nameSpace.pop();var formalParams=[];if(tokens.matchOpToken("(")&&!tokens.matchOpToken(")")){do{formalParams.push(tokens.requireTokenType("IDENTIFIER").value)}while(tokens.matchOpToken(","));tokens.requireOpToken(")")}var hs=parser.requireElement("hyperscript",tokens);for(var i=0;i<hs.features.length;i++){var feature=hs.features[i];feature.behavior=path}return{install:function(target,source){runtime.assignToNamespace(globalScope.document&&globalScope.document.body,nameSpace,name,(function(target,source,innerArgs){var internalData=runtime.getInternalData(target);var elementScope=getOrInitObject(internalData,path+"Scope");for(var i=0;i<formalParams.length;i++){elementScope[formalParams[i]]=innerArgs[formalParams[i]]}hs.apply(target,source)}))}}}));parser.addFeature("install",(function(parser,runtime,tokens){if(!tokens.matchToken("install"))return;var behaviorPath=parser.requireElement("dotOrColonPath",tokens).evaluate();var behaviorNamespace=behaviorPath.split(".");var args=parser.parseElement("namedArgumentList",tokens);var installFeature;return installFeature={install:function(target,source){runtime.unifiedEval({args:[args],op:function(ctx,args){var behavior=globalScope;for(var i=0;i<behaviorNamespace.length;i++){behavior=behavior[behaviorNamespace[i]];if(typeof behavior!=="object"&&typeof behavior!=="function")throw new Error("No such behavior defined as "+behaviorPath)}if(!(behavior instanceof Function))throw new Error(behaviorPath+" is not a behavior");behavior(target,source,args)}},runtime.makeContext(target,installFeature,target))}}}));parser.addGrammarElement("jsBody",(function(parser,runtime,tokens){var jsSourceStart=tokens.currentToken().start;var jsLastToken=tokens.currentToken();var funcNames=[];var funcName="";var expectFunctionDeclaration=false;while(tokens.hasMore()){jsLastToken=tokens.consumeToken();var peek=tokens.token(0,true);if(peek.type==="IDENTIFIER"&&peek.value==="end"){break}if(expectFunctionDeclaration){if(jsLastToken.type==="IDENTIFIER"||jsLastToken.type==="NUMBER"){funcName+=jsLastToken.value}else{if(funcName!=="")funcNames.push(funcName);funcName="";expectFunctionDeclaration=false}}else if(jsLastToken.type==="IDENTIFIER"&&jsLastToken.value==="function"){expectFunctionDeclaration=true}}var jsSourceEnd=jsLastToken.end+1;return{type:"jsBody",exposedFunctionNames:funcNames,jsSource:tokens.source.substring(jsSourceStart,jsSourceEnd)}}));parser.addFeature("js",(function(parser,runtime,tokens){if(!tokens.matchToken("js"))return;var jsBody=parser.requireElement("jsBody",tokens);var jsSource=jsBody.jsSource+"\nreturn { "+jsBody.exposedFunctionNames.map((function(name){return name+":"+name})).join(",")+" } ";var func=new Function(jsSource);return{jsSource:jsSource,function:func,exposedFunctionNames:jsBody.exposedFunctionNames,install:function(){Object.assign(globalScope,func())}}}));parser.addCommand("js",(function(parser,runtime,tokens){if(!tokens.matchToken("js"))return;var inputs=[];if(tokens.matchOpToken("(")){if(tokens.matchOpToken(")")){}else{do{var inp=tokens.requireTokenType("IDENTIFIER");inputs.push(inp.value)}while(tokens.matchOpToken(","));tokens.requireOpToken(")")}}var jsBody=parser.requireElement("jsBody",tokens);tokens.matchToken("end");var func=varargConstructor(Function,inputs.concat([jsBody.jsSource]));var command={jsSource:jsBody.jsSource,function:func,inputs:inputs,op:function(context){var args=[];inputs.forEach((function(input){args.push(runtime.resolveSymbol(input,context,"default"))}));var result=func.apply(globalScope,args);if(result&&typeof result.then==="function"){return new Promise((function(resolve){result.then((function(actualResult){context.result=actualResult;resolve(runtime.findNext(this,context))}))}))}else{context.result=result;return runtime.findNext(this,context)}}};return command}));parser.addCommand("async",(function(parser,runtime,tokens){if(!tokens.matchToken("async"))return;if(tokens.matchToken("do")){var body=parser.requireElement("commandList",tokens);var end=body;while(end.next)end=end.next;end.next=runtime.HALT;tokens.requireToken("end")}else{var body=parser.requireElement("command",tokens)}var command={body:body,op:function(context){setTimeout((function(){body.execute(context)}));return runtime.findNext(this,context)}};parser.setParent(body,command);return command}));parser.addCommand("tell",(function(parser,runtime,tokens){var startToken=tokens.currentToken();if(!tokens.matchToken("tell"))return;var value=parser.requireElement("expression",tokens);var body=parser.requireElement("commandList",tokens);if(tokens.hasMore()&&!parser.featureStart(tokens.currentToken())){tokens.requireToken("end")}var slot="tell_"+startToken.start;var tellCmd={value:value,body:body,args:[value],resolveNext:function(context){var iterator=context.meta.iterators[slot];if(iterator.index<iterator.value.length){context.you=iterator.value[iterator.index++];return body}else{context.you=iterator.originalYou;if(this.next){return this.next}else{return runtime.findNext(this.parent,context)}}},op:function(context,value){if(value==null){value=[]}else if(!(Array.isArray(value)||value instanceof NodeList)){value=[value]}context.meta.iterators[slot]={originalYou:context.you,index:0,value:value};return this.resolveNext(context)}};parser.setParent(body,tellCmd);return tellCmd}));parser.addCommand("wait",(function(parser,runtime,tokens){if(!tokens.matchToken("wait"))return;var command;if(tokens.matchToken("for")){tokens.matchToken("a");var events=[];do{var lookahead=tokens.token(0);if(lookahead.type==="NUMBER"||lookahead.type==="L_PAREN"){events.push({time:parser.requireElement("expression",tokens).evaluate()})}else{events.push({name:parser.requireElement("dotOrColonPath",tokens,"Expected event name").evaluate(),args:parseEventArgs(tokens)})}}while(tokens.matchToken("or"));if(tokens.matchToken("from")){var on=parser.requireElement("expression",tokens)}command={event:events,on:on,args:[on],op:function(context,on){var target=on?on:context.me;if(!(target instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise((resolve=>{var resolved=false;for(const eventInfo of events){var listener=event=>{context.result=event;if(eventInfo.args){for(const arg of eventInfo.args){context.locals[arg.value]=event[arg.value]||(event.detail?event.detail[arg.value]:null)}}if(!resolved){resolved=true;resolve(runtime.findNext(this,context))}};if(eventInfo.name){target.addEventListener(eventInfo.name,listener,{once:true})}else if(eventInfo.time!=null){setTimeout(listener,eventInfo.time,eventInfo.time)}}}))}};return command}else{var time;if(tokens.matchToken("a")){tokens.requireToken("tick");time=0}else{time=parser.requireElement("expression",tokens)}command={type:"waitCmd",time:time,args:[time],op:function(context,timeValue){return new Promise((resolve=>{setTimeout((()=>{resolve(runtime.findNext(this,context))}),timeValue)}))},execute:function(context){return runtime.unifiedExec(this,context)}};return command}}));parser.addGrammarElement("dotOrColonPath",(function(parser,runtime,tokens){var root=tokens.matchTokenType("IDENTIFIER");if(root){var path=[root.value];var separator=tokens.matchOpToken(".")||tokens.matchOpToken(":");if(separator){do{path.push(tokens.requireTokenType("IDENTIFIER","NUMBER").value)}while(tokens.matchOpToken(separator.value))}return{type:"dotOrColonPath",path:path,evaluate:function(){return path.join(separator?separator.value:"")}}}}));parser.addGrammarElement("eventName",(function(parser,runtime,tokens){var token;if(token=tokens.matchTokenType("STRING")){return{evaluate:function(){return token.value}}}return parser.parseElement("dotOrColonPath",tokens)}));function parseSendCmd(cmdType,parser,runtime,tokens){var eventName=parser.requireElement("eventName",tokens);var details=parser.parseElement("namedArgumentList",tokens);if(cmdType==="send"&&tokens.matchToken("to")||cmdType==="trigger"&&tokens.matchToken("on")){var toExpr=parser.requireElement("expression",tokens)}else{var toExpr=parser.requireElement("implicitMeTarget",tokens)}var sendCmd={eventName:eventName,details:details,to:toExpr,args:[toExpr,eventName,details],op:function(context,to,eventName,details){runtime.nullCheck(to,toExpr);runtime.forEach(to,(function(target){runtime.triggerEvent(target,eventName,details,context.me)}));return runtime.findNext(sendCmd,context)}};return sendCmd}parser.addCommand("trigger",(function(parser,runtime,tokens){if(tokens.matchToken("trigger")){return parseSendCmd("trigger",parser,runtime,tokens)}}));parser.addCommand("send",(function(parser,runtime,tokens){if(tokens.matchToken("send")){return parseSendCmd("send",parser,runtime,tokens)}}));var parseReturnFunction=function(parser,runtime,tokens,returnAValue){if(returnAValue){if(parser.commandBoundary(tokens.currentToken())){parser.raiseParseError(tokens,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.")}else{var value=parser.requireElement("expression",tokens)}}var returnCmd={value:value,args:[value],op:function(context,value){var resolve=context.meta.resolve;context.meta.returned=true;context.meta.returnValue=value;if(resolve){if(value){resolve(value)}else{resolve()}}return runtime.HALT}};return returnCmd};parser.addCommand("return",(function(parser,runtime,tokens){if(tokens.matchToken("return")){return parseReturnFunction(parser,runtime,tokens,true)}}));parser.addCommand("exit",(function(parser,runtime,tokens){if(tokens.matchToken("exit")){return parseReturnFunction(parser,runtime,tokens,false)}}));parser.addCommand("halt",(function(parser,runtime,tokens){if(tokens.matchToken("halt")){if(tokens.matchToken("the")){tokens.requireToken("event");if(tokens.matchOpToken("'")){tokens.requireToken("s")}var keepExecuting=true}if(tokens.matchToken("bubbling")){var bubbling=true}else if(tokens.matchToken("default")){var haltDefault=true}var exit=parseReturnFunction(parser,runtime,tokens,false);var haltCmd={keepExecuting:true,bubbling:bubbling,haltDefault:haltDefault,exit:exit,op:function(ctx){if(ctx.event){if(bubbling){ctx.event.stopPropagation()}else if(haltDefault){ctx.event.preventDefault()}else{ctx.event.stopPropagation();ctx.event.preventDefault()}if(keepExecuting){return runtime.findNext(this,ctx)}else{return exit}}}};return haltCmd}}));parser.addCommand("log",(function(parser,runtime,tokens){if(!tokens.matchToken("log"))return;var exprs=[parser.parseElement("expression",tokens)];while(tokens.matchOpToken(",")){exprs.push(parser.requireElement("expression",tokens))}if(tokens.matchToken("with")){var withExpr=parser.requireElement("expression",tokens)}var logCmd={exprs:exprs,withExpr:withExpr,args:[withExpr,exprs],op:function(ctx,withExpr,values){if(withExpr){withExpr.apply(null,values)}else{console.log.apply(null,values)}return runtime.findNext(this,ctx)}};return logCmd}));parser.addCommand("throw",(function(parser,runtime,tokens){if(!tokens.matchToken("throw"))return;var expr=parser.requireElement("expression",tokens);var throwCmd={expr:expr,args:[expr],op:function(ctx,expr){runtime.registerHyperTrace(ctx,expr);throw expr}};return throwCmd}));var parseCallOrGet=function(parser,runtime,tokens){var expr=parser.requireElement("expression",tokens);var callCmd={expr:expr,args:[expr],op:function(context,result){context.result=result;return runtime.findNext(callCmd,context)}};return callCmd};parser.addCommand("call",(function(parser,runtime,tokens){if(!tokens.matchToken("call"))return;var call=parseCallOrGet(parser,runtime,tokens);if(call.expr&&call.expr.type!=="functionCall"){parser.raiseParseError(tokens,"Must be a function invocation")}return call}));parser.addCommand("get",(function(parser,runtime,tokens){if(tokens.matchToken("get")){return parseCallOrGet(parser,runtime,tokens)}}));parser.addCommand("make",(function(parser,runtime,tokens){if(!tokens.matchToken("make"))return;tokens.matchToken("a")||tokens.matchToken("an");var expr=parser.requireElement("expression",tokens);var args=[];if(expr.type!=="queryRef"&&tokens.matchToken("from")){do{args.push(parser.requireElement("expression",tokens))}while(tokens.matchOpToken(","))}if(tokens.matchToken("called")){var target=parser.requireElement("symbol",tokens)}var command;if(expr.type==="queryRef"){command={op:function(ctx){var match,tagname="div",id,classes=[];var re=/(?:(^|#|\.)([^#\. ]+))/g;while(match=re.exec(expr.css)){if(match[1]==="")tagname=match[2].trim();else if(match[1]==="#")id=match[2].trim();else classes.push(match[2].trim())}var result=document.createElement(tagname);if(id!==undefined)result.id=id;for(var i=0;i<classes.length;i++){var cls=classes[i];result.classList.add(cls)}ctx.result=result;if(target){runtime.setSymbol(target.name,ctx,target.scope,result)}return runtime.findNext(this,ctx)}};return command}else{command={args:[expr,args],op:function(ctx,expr,args){ctx.result=varargConstructor(expr,args);if(target){runtime.setSymbol(target.name,ctx,target.scope,ctx.result)}return runtime.findNext(this,ctx)}};return command}}));parser.addGrammarElement("pseudoCommand",(function(parser,runtime,tokens){let lookAhead=tokens.token(1);if(!(lookAhead&&lookAhead.op&&(lookAhead.value==="."||lookAhead.value==="("))){return null}var expr=parser.requireElement("primaryExpression",tokens);var rootRoot=expr.root;var root=expr;while(rootRoot.root!=null){root=root.root;rootRoot=rootRoot.root}if(expr.type!=="functionCall"){parser.raiseParseError(tokens,"Pseudo-commands must be function calls")}if(root.type==="functionCall"&&root.root.root==null){if(tokens.matchAnyToken("the","to","on","with","into","from","at")){var realRoot=parser.requireElement("expression",tokens)}else if(tokens.matchToken("me")){var realRoot=parser.requireElement("implicitMeTarget",tokens)}}var pseudoCommand;if(realRoot){pseudoCommand={type:"pseudoCommand",root:realRoot,argExressions:root.argExressions,args:[realRoot,root.argExressions],op:function(context,rootRoot,args){runtime.nullCheck(rootRoot,realRoot);var func=rootRoot[root.root.name];runtime.nullCheck(func,root);if(func.hyperfunc){args.push(context)}context.result=func.apply(rootRoot,args);return runtime.findNext(pseudoCommand,context)},execute:function(context){return runtime.unifiedExec(this,context)}}}else{pseudoCommand={type:"pseudoCommand",expr:expr,args:[expr],op:function(context,result){context.result=result;return runtime.findNext(pseudoCommand,context)},execute:function(context){return runtime.unifiedExec(this,context)}}}return pseudoCommand}));var makeSetter=function(parser,runtime,tokens,target,value){var symbolWrite=target.type==="symbol";var attributeWrite=target.type==="attributeRef";var styleWrite=target.type==="styleRef";var arrayWrite=target.type==="arrayIndex";if(!(attributeWrite||styleWrite||symbolWrite)&&target.root==null){parser.raiseParseError(tokens,"Can only put directly into symbols, not references")}var rootElt=null;var prop=null;if(symbolWrite){}else if(attributeWrite||styleWrite){rootElt=parser.requireElement("implicitMeTarget",tokens);var attribute=target}else if(arrayWrite){prop=target.firstIndex;rootElt=target.root}else{prop=target.prop?target.prop.value:null;var attribute=target.attribute;rootElt=target.root}var setCmd={target:target,symbolWrite:symbolWrite,value:value,args:[rootElt,prop,value],op:function(context,root,prop,valueToSet){if(symbolWrite){runtime.setSymbol(target.name,context,target.scope,valueToSet)}else{runtime.nullCheck(root,rootElt);if(arrayWrite){root[prop]=valueToSet}else{runtime.implicitLoop(root,(function(elt){if(attribute){if(attribute.type==="attributeRef"){if(valueToSet==null){elt.removeAttribute(attribute.name)}else{elt.setAttribute(attribute.name,valueToSet)}}else{elt.style[attribute.name]=valueToSet}}else{elt[prop]=valueToSet}}))}}return runtime.findNext(this,context)}};return setCmd};parser.addCommand("default",(function(parser,runtime,tokens){if(!tokens.matchToken("default"))return;var target=parser.requireElement("assignableExpression",tokens);tokens.requireToken("to");var value=parser.requireElement("expression",tokens);var setter=makeSetter(parser,runtime,tokens,target,value);var defaultCmd={target:target,value:value,setter:setter,args:[target],op:function(context,target){if(target){return runtime.findNext(this,context)}else{return setter}}};setter.parent=defaultCmd;return defaultCmd}));parser.addCommand("set",(function(parser,runtime,tokens){if(!tokens.matchToken("set"))return;if(tokens.currentToken().type==="L_BRACE"){var obj=parser.requireElement("objectLiteral",tokens);tokens.requireToken("on");var target=parser.requireElement("expression",tokens);var command={objectLiteral:obj,target:target,args:[obj,target],op:function(ctx,obj,target){Object.assign(target,obj);return runtime.findNext(this,ctx)}};return command}try{tokens.pushFollow("to");var target=parser.requireElement("assignableExpression",tokens)}finally{tokens.popFollow()}tokens.requireToken("to");var value=parser.requireElement("expression",tokens);return makeSetter(parser,runtime,tokens,target,value)}));parser.addCommand("if",(function(parser,runtime,tokens){if(!tokens.matchToken("if"))return;var expr=parser.requireElement("expression",tokens);tokens.matchToken("then");var trueBranch=parser.parseElement("commandList",tokens);if(tokens.matchToken("else")||tokens.matchToken("otherwise")){var falseBranch=parser.parseElement("commandList",tokens)}if(tokens.hasMore()){tokens.requireToken("end")}var ifCmd={expr:expr,trueBranch:trueBranch,falseBranch:falseBranch,args:[expr],op:function(context,exprValue){if(exprValue){return trueBranch}else if(falseBranch){return falseBranch}else{return runtime.findNext(this,context)}}};parser.setParent(trueBranch,ifCmd);parser.setParent(falseBranch,ifCmd);return ifCmd}));var parseRepeatExpression=function(parser,tokens,runtime,startedWithForToken){var innerStartToken=tokens.currentToken();var identifier;if(tokens.matchToken("for")||startedWithForToken){var identifierToken=tokens.requireTokenType("IDENTIFIER");identifier=identifierToken.value;tokens.requireToken("in");var expression=parser.requireElement("expression",tokens)}else if(tokens.matchToken("in")){identifier="it";var expression=parser.requireElement("expression",tokens)}else if(tokens.matchToken("while")){var whileExpr=parser.requireElement("expression",tokens)}else if(tokens.matchToken("until")){var isUntil=true;if(tokens.matchToken("event")){var evt=parser.requireElement("dotOrColonPath",tokens,"Expected event name");if(tokens.matchToken("from")){var on=parser.requireElement("expression",tokens)}}else{var whileExpr=parser.requireElement("expression",tokens)}}else{if(!parser.commandBoundary(tokens.currentToken())&&tokens.currentToken().value!=="forever"){var times=parser.requireElement("expression",tokens);tokens.requireToken("times")}else{tokens.matchToken("forever");var forever=true}}if(tokens.matchToken("index")){var identifierToken=tokens.requireTokenType("IDENTIFIER");var indexIdentifier=identifierToken.value}var loop=parser.parseElement("commandList",tokens);if(loop&&evt){var last=loop;while(last.next){last=last.next}var waitATick={type:"waitATick",op:function(){return new Promise((function(resolve){setTimeout((function(){resolve(runtime.findNext(waitATick))}),0)}))}};last.next=waitATick}if(tokens.hasMore()){tokens.requireToken("end")}if(identifier==null){identifier="_implicit_repeat_"+innerStartToken.start;var slot=identifier}else{var slot=identifier+"_"+innerStartToken.start}var repeatCmd={identifier:identifier,indexIdentifier:indexIdentifier,slot:slot,expression:expression,forever:forever,times:times,until:isUntil,event:evt,on:on,whileExpr:whileExpr,resolveNext:function(){return this},loop:loop,args:[whileExpr,times],op:function(context,whileValue,times){var iteratorInfo=context.meta.iterators[slot];var keepLooping=false;var loopVal=null;if(this.forever){keepLooping=true}else if(this.until){if(evt){keepLooping=context.meta.iterators[slot].eventFired===false}else{keepLooping=whileValue!==true}}else if(whileExpr){keepLooping=whileValue}else if(times){keepLooping=iteratorInfo.index<times}else{var nextValFromIterator=iteratorInfo.iterator.next();keepLooping=!nextValFromIterator.done;loopVal=nextValFromIterator.value}if(keepLooping){if(iteratorInfo.value){context.result=context.locals[identifier]=loopVal}else{context.result=iteratorInfo.index}if(indexIdentifier){context.locals[indexIdentifier]=iteratorInfo.index}iteratorInfo.index++;return loop}else{context.meta.iterators[slot]=null;return runtime.findNext(this.parent,context)}}};parser.setParent(loop,repeatCmd);var repeatInit={name:"repeatInit",args:[expression,evt,on],op:function(context,value,event,on){var iteratorInfo={index:0,value:value,eventFired:false};context.meta.iterators[slot]=iteratorInfo;if(value&&value[Symbol.iterator]){iteratorInfo.iterator=value[Symbol.iterator]()}if(evt){var target=on||context.me;target.addEventListener(event,(function(e){context.meta.iterators[slot].eventFired=true}),{once:true})}return repeatCmd},execute:function(context){return runtime.unifiedExec(this,context)}};parser.setParent(repeatCmd,repeatInit);return repeatInit};parser.addCommand("repeat",(function(parser,runtime,tokens){if(tokens.matchToken("repeat")){return parseRepeatExpression(parser,tokens,runtime,false)}}));parser.addCommand("for",(function(parser,runtime,tokens){if(tokens.matchToken("for")){return parseRepeatExpression(parser,tokens,runtime,true)}}));parser.addCommand("continue",(function(parser,runtime,tokens){if(!tokens.matchToken("continue"))return;var command={op:function(context){for(var parent=this.parent;true;parent=parent.parent){if(parent==undefined){parser.raiseParseError(tokens,"Command `continue` cannot be used outside of a `repeat` loop.")}if(parent.loop!=undefined){return parent.resolveNext(context)}}}};return command}));parser.addCommand("break",(function(parser,runtime,tokens){if(!tokens.matchToken("break"))return;var command={op:function(context){for(var parent=this.parent;true;parent=parent.parent){if(parent==undefined){parser.raiseParseError(tokens,"Command `continue` cannot be used outside of a `repeat` loop.")}if(parent.loop!=undefined){return runtime.findNext(parent.parent,context)}}}};return command}));parser.addGrammarElement("stringLike",(function(parser,runtime,tokens){return parser.parseAnyOf(["string","nakedString"],tokens)}));parser.addCommand("append",(function(parser,runtime,tokens){if(!tokens.matchToken("append"))return;var targetExpr=null;var value=parser.requireElement("expression",tokens);var implicitResultSymbol={type:"symbol",evaluate:function(context){return runtime.resolveSymbol("result",context)}};if(tokens.matchToken("to")){targetExpr=parser.requireElement("expression",tokens)}else{targetExpr=implicitResultSymbol}var setter=null;if(targetExpr.type==="symbol"||targetExpr.type==="attributeRef"||targetExpr.root!=null){setter=makeSetter(parser,runtime,tokens,targetExpr,implicitResultSymbol)}var command={value:value,target:targetExpr,args:[targetExpr,value],op:function(context,target,value){if(Array.isArray(target)){target.push(value);return runtime.findNext(this,context)}else if(target instanceof Element){target.innerHTML+=value;return runtime.findNext(this,context)}else if(setter){context.result=(target||"")+value;return setter}else{throw Error("Unable to append a value!")}},execute:function(context){return runtime.unifiedExec(this,context)}};if(setter!=null){setter.parent=command}return command}));function parsePickRange(parser,runtime,tokens){tokens.matchToken("at")||tokens.matchToken("from");const rv={includeStart:true,includeEnd:false};rv.from=tokens.matchToken("start")?0:parser.requireElement("expression",tokens);if(tokens.matchToken("to")||tokens.matchOpToken("..")){if(tokens.matchToken("end")){rv.toEnd=true}else{rv.to=parser.requireElement("expression",tokens)}}if(tokens.matchToken("inclusive"))rv.includeEnd=true;else if(tokens.matchToken("exclusive"))rv.includeStart=false;return rv}class RegExpIterator{constructor(re,str){this.re=re;this.str=str}next(){const match=this.re.exec(this.str);if(match===null)return{done:true};else return{value:match}}}class RegExpIterable{constructor(re,flags,str){this.re=re;this.flags=flags;this.str=str}[Symbol.iterator](){return new RegExpIterator(new RegExp(this.re,this.flags),this.str)}}parser.addCommand("pick",((parser,runtime,tokens)=>{if(!tokens.matchToken("pick"))return;tokens.matchToken("the");if(tokens.matchToken("item")||tokens.matchToken("items")||tokens.matchToken("character")||tokens.matchToken("characters")){const range=parsePickRange(parser,runtime,tokens);tokens.requireToken("from");const root=parser.requireElement("expression",tokens);return{args:[root,range.from,range.to],op(ctx,root,from,to){if(range.toEnd)to=root.length;if(!range.includeStart)from++;if(range.includeEnd)to++;if(to==null||to==undefined)to=from+1;ctx.result=root.slice(from,to);return runtime.findNext(this,ctx)}}}if(tokens.matchToken("match")){tokens.matchToken("of");const re=parser.parseElement("expression",tokens);let flags="";if(tokens.matchOpToken("|")){flags=tokens.requireToken("identifier").value}tokens.requireToken("from");const root=parser.parseElement("expression",tokens);return{args:[root,re],op(ctx,root,re){ctx.result=new RegExp(re,flags).exec(root);return runtime.findNext(this,ctx)}}}if(tokens.matchToken("matches")){tokens.matchToken("of");const re=parser.parseElement("expression",tokens);let flags="gu";if(tokens.matchOpToken("|")){flags="g"+tokens.requireToken("identifier").value.replace("g","")}console.log("flags",flags);tokens.requireToken("from");const root=parser.parseElement("expression",tokens);return{args:[root,re],op(ctx,root,re){ctx.result=new RegExpIterable(re,flags,root);return runtime.findNext(this,ctx)}}}}));parser.addCommand("increment",(function(parser,runtime,tokens){if(!tokens.matchToken("increment"))return;var amountExpr;var target=parser.parseElement("assignableExpression",tokens);if(tokens.matchToken("by")){amountExpr=parser.requireElement("expression",tokens)}var implicitIncrementOp={type:"implicitIncrementOp",target:target,args:[target,amountExpr],op:function(context,targetValue,amount){targetValue=targetValue?parseFloat(targetValue):0;amount=amountExpr?parseFloat(amount):1;var newValue=targetValue+amount;context.result=newValue;return newValue},evaluate:function(context){return runtime.unifiedEval(this,context)}};return makeSetter(parser,runtime,tokens,target,implicitIncrementOp)}));parser.addCommand("decrement",(function(parser,runtime,tokens){if(!tokens.matchToken("decrement"))return;var amountExpr;var target=parser.parseElement("assignableExpression",tokens);if(tokens.matchToken("by")){amountExpr=parser.requireElement("expression",tokens)}var implicitDecrementOp={type:"implicitDecrementOp",target:target,args:[target,amountExpr],op:function(context,targetValue,amount){targetValue=targetValue?parseFloat(targetValue):0;amount=amountExpr?parseFloat(amount):1;var newValue=targetValue-amount;context.result=newValue;return newValue},evaluate:function(context){return runtime.unifiedEval(this,context)}};return makeSetter(parser,runtime,tokens,target,implicitDecrementOp)}));function parseConversionInfo(tokens,parser){var type="text";var conversion;tokens.matchToken("a")||tokens.matchToken("an");if(tokens.matchToken("json")||tokens.matchToken("Object")){type="json"}else if(tokens.matchToken("response")){type="response"}else if(tokens.matchToken("html")){type="html"}else if(tokens.matchToken("text")){}else{conversion=parser.requireElement("dotOrColonPath",tokens).evaluate()}return{type:type,conversion:conversion}}parser.addCommand("fetch",(function(parser,runtime,tokens){if(!tokens.matchToken("fetch"))return;var url=parser.requireElement("stringLike",tokens);if(tokens.matchToken("as")){var conversionInfo=parseConversionInfo(tokens,parser)}if(tokens.matchToken("with")&&tokens.currentToken().value!=="{"){var args=parser.parseElement("nakedNamedArgumentList",tokens)}else{var args=parser.parseElement("objectLiteral",tokens)}if(conversionInfo==null&&tokens.matchToken("as")){conversionInfo=parseConversionInfo(tokens,parser)}var type=conversionInfo?conversionInfo.type:"text";var conversion=conversionInfo?conversionInfo.conversion:null;var fetchCmd={url:url,argExpressions:args,args:[url,args],op:function(context,url,args){var detail=args||{};detail["sender"]=context.me;detail["headers"]=detail["headers"]||{};var abortController=new AbortController;let abortListener=context.me.addEventListener("fetch:abort",(function(){abortController.abort()}),{once:true});detail["signal"]=abortController.signal;runtime.triggerEvent(context.me,"hyperscript:beforeFetch",detail);runtime.triggerEvent(context.me,"fetch:beforeRequest",detail);args=detail;var finished=false;if(args.timeout){setTimeout((function(){if(!finished){abortController.abort()}}),args.timeout)}return fetch(url,args).then((function(resp){let resultDetails={response:resp};runtime.triggerEvent(context.me,"fetch:afterResponse",resultDetails);resp=resultDetails.response;if(type==="response"){context.result=resp;runtime.triggerEvent(context.me,"fetch:afterRequest",{result:resp});finished=true;return runtime.findNext(fetchCmd,context)}if(type==="json"){return resp.json().then((function(result){context.result=result;runtime.triggerEvent(context.me,"fetch:afterRequest",{result:result});finished=true;return runtime.findNext(fetchCmd,context)}))}return resp.text().then((function(result){if(conversion)result=runtime.convertValue(result,conversion);if(type==="html")result=runtime.convertValue(result,"Fragment");context.result=result;runtime.triggerEvent(context.me,"fetch:afterRequest",{result:result});finished=true;return runtime.findNext(fetchCmd,context)}))})).catch((function(reason){runtime.triggerEvent(context.me,"fetch:error",{reason:reason});throw reason})).finally((function(){context.me.removeEventListener("fetch:abort",abortListener)}))}};return fetchCmd}))}function hyperscriptWebGrammar(parser){parser.addCommand("settle",(function(parser,runtime,tokens){if(tokens.matchToken("settle")){if(!parser.commandBoundary(tokens.currentToken())){var onExpr=parser.requireElement("expression",tokens)}else{var onExpr=parser.requireElement("implicitMeTarget",tokens)}var settleCommand={type:"settleCmd",args:[onExpr],op:function(context,on){runtime.nullCheck(on,onExpr);var resolve=null;var resolved=false;var transitionStarted=false;var promise=new Promise((function(r){resolve=r}));on.addEventListener("transitionstart",(function(){transitionStarted=true}),{once:true});setTimeout((function(){if(!transitionStarted&&!resolved){resolve(runtime.findNext(settleCommand,context))}}),500);on.addEventListener("transitionend",(function(){if(!resolved){resolve(runtime.findNext(settleCommand,context))}}),{once:true});return promise},execute:function(context){return runtime.unifiedExec(this,context)}};return settleCommand}}));parser.addCommand("add",(function(parser,runtime,tokens){if(tokens.matchToken("add")){var classRef=parser.parseElement("classRef",tokens);var attributeRef=null;var cssDeclaration=null;if(classRef==null){attributeRef=parser.parseElement("attributeRef",tokens);if(attributeRef==null){cssDeclaration=parser.parseElement("styleLiteral",tokens);if(cssDeclaration==null){parser.raiseParseError(tokens,"Expected either a class reference or attribute expression")}}}else{var classRefs=[classRef];while(classRef=parser.parseElement("classRef",tokens)){classRefs.push(classRef)}}if(tokens.matchToken("to")){var toExpr=parser.requireElement("expression",tokens)}else{var toExpr=parser.requireElement("implicitMeTarget",tokens)}if(tokens.matchToken("when")){if(cssDeclaration){parser.raiseParseError(tokens,"Only class and properties are supported with a when clause")}var when=parser.requireElement("expression",tokens)}if(classRefs){return{classRefs:classRefs,to:toExpr,args:[toExpr,classRefs],op:function(context,to,classRefs){runtime.nullCheck(to,toExpr);runtime.forEach(classRefs,(function(classRef){runtime.implicitLoop(to,(function(target){if(when){context.result=target;let whenResult=runtime.evaluateNoPromise(when,context);if(whenResult){if(target instanceof Element)target.classList.add(classRef.className)}else{if(target instanceof Element)target.classList.remove(classRef.className)}context.result=null}else{if(target instanceof Element)target.classList.add(classRef.className)}}))}));return runtime.findNext(this,context)}}}else if(attributeRef){return{type:"addCmd",attributeRef:attributeRef,to:toExpr,args:[toExpr],op:function(context,to,attrRef){runtime.nullCheck(to,toExpr);runtime.implicitLoop(to,(function(target){if(when){context.result=target;let whenResult=runtime.evaluateNoPromise(when,context);if(whenResult){target.setAttribute(attributeRef.name,attributeRef.value)}else{target.removeAttribute(attributeRef.name)}context.result=null}else{target.setAttribute(attributeRef.name,attributeRef.value)}}));return runtime.findNext(this,context)},execute:function(ctx){return runtime.unifiedExec(this,ctx)}}}else{return{type:"addCmd",cssDeclaration:cssDeclaration,to:toExpr,args:[toExpr,cssDeclaration],op:function(context,to,css){runtime.nullCheck(to,toExpr);runtime.implicitLoop(to,(function(target){target.style.cssText+=css}));return runtime.findNext(this,context)},execute:function(ctx){return runtime.unifiedExec(this,ctx)}}}}}));parser.addGrammarElement("styleLiteral",(function(parser,runtime,tokens){if(!tokens.matchOpToken("{"))return;var stringParts=[""];var exprs=[];while(tokens.hasMore()){if(tokens.matchOpToken("\\")){tokens.consumeToken()}else if(tokens.matchOpToken("}")){break}else if(tokens.matchToken("$")){var opencurly=tokens.matchOpToken("{");var expr=parser.parseElement("expression",tokens);if(opencurly)tokens.requireOpToken("}");exprs.push(expr);stringParts.push("")}else{var tok=tokens.consumeToken();stringParts[stringParts.length-1]+=tokens.source.substring(tok.start,tok.end)}stringParts[stringParts.length-1]+=tokens.lastWhitespace()}return{type:"styleLiteral",args:[exprs],op:function(ctx,exprs){var rv="";stringParts.forEach((function(part,idx){rv+=part;if(idx in exprs)rv+=exprs[idx]}));return rv},evaluate:function(ctx){return runtime.unifiedEval(this,ctx)}}}));parser.addCommand("remove",(function(parser,runtime,tokens){if(tokens.matchToken("remove")){var classRef=parser.parseElement("classRef",tokens);var attributeRef=null;var elementExpr=null;if(classRef==null){attributeRef=parser.parseElement("attributeRef",tokens);if(attributeRef==null){elementExpr=parser.parseElement("expression",tokens);if(elementExpr==null){parser.raiseParseError(tokens,"Expected either a class reference, attribute expression or value expression")}}}else{var classRefs=[classRef];while(classRef=parser.parseElement("classRef",tokens)){classRefs.push(classRef)}}if(tokens.matchToken("from")){var fromExpr=parser.requireElement("expression",tokens)}else{if(elementExpr==null){var fromExpr=parser.requireElement("implicitMeTarget",tokens)}}if(elementExpr){return{elementExpr:elementExpr,from:fromExpr,args:[elementExpr,fromExpr],op:function(context,element,from){runtime.nullCheck(element,elementExpr);runtime.implicitLoop(element,(function(target){if(target.parentElement&&(from==null||from.contains(target))){target.parentElement.removeChild(target)}}));return runtime.findNext(this,context)}}}else{return{classRefs:classRefs,attributeRef:attributeRef,elementExpr:elementExpr,from:fromExpr,args:[classRefs,fromExpr],op:function(context,classRefs,from){runtime.nullCheck(from,fromExpr);if(classRefs){runtime.forEach(classRefs,(function(classRef){runtime.implicitLoop(from,(function(target){target.classList.remove(classRef.className)}))}))}else{runtime.implicitLoop(from,(function(target){target.removeAttribute(attributeRef.name)}))}return runtime.findNext(this,context)}}}}}));parser.addCommand("toggle",(function(parser,runtime,tokens){if(tokens.matchToken("toggle")){tokens.matchAnyToken("the","my");if(tokens.currentToken().type==="STYLE_REF"){let styleRef=tokens.consumeToken();var name=styleRef.value.substr(1);var visibility=true;var hideShowStrategy=resolveStrategy(parser,tokens,name);if(tokens.matchToken("of")){tokens.pushFollow("with");try{var onExpr=parser.requireElement("expression",tokens)}finally{tokens.popFollow()}}else{var onExpr=parser.requireElement("implicitMeTarget",tokens)}}else if(tokens.matchToken("between")){var between=true;var classRef=parser.parseElement("classRef",tokens);tokens.requireToken("and");var classRef2=parser.requireElement("classRef",tokens)}else{var classRef=parser.parseElement("classRef",tokens);var attributeRef=null;if(classRef==null){attributeRef=parser.parseElement("attributeRef",tokens);if(attributeRef==null){parser.raiseParseError(tokens,"Expected either a class reference or attribute expression")}}else{var classRefs=[classRef];while(classRef=parser.parseElement("classRef",tokens)){classRefs.push(classRef)}}}if(visibility!==true){if(tokens.matchToken("on")){var onExpr=parser.requireElement("expression",tokens)}else{var onExpr=parser.requireElement("implicitMeTarget",tokens)}}if(tokens.matchToken("for")){var time=parser.requireElement("expression",tokens)}else if(tokens.matchToken("until")){var evt=parser.requireElement("dotOrColonPath",tokens,"Expected event name");if(tokens.matchToken("from")){var from=parser.requireElement("expression",tokens)}}var toggleCmd={classRef:classRef,classRef2:classRef2,classRefs:classRefs,attributeRef:attributeRef,on:onExpr,time:time,evt:evt,from:from,toggle:function(on,classRef,classRef2,classRefs){runtime.nullCheck(on,onExpr);if(visibility){runtime.implicitLoop(on,(function(target){hideShowStrategy("toggle",target)}))}else if(between){runtime.implicitLoop(on,(function(target){if(target.classList.contains(classRef.className)){target.classList.remove(classRef.className);target.classList.add(classRef2.className)}else{target.classList.add(classRef.className);target.classList.remove(classRef2.className)}}))}else if(classRefs){runtime.forEach(classRefs,(function(classRef){runtime.implicitLoop(on,(function(target){target.classList.toggle(classRef.className)}))}))}else{runtime.forEach(on,(function(target){if(target.hasAttribute(attributeRef.name)){target.removeAttribute(attributeRef.name)}else{target.setAttribute(attributeRef.name,attributeRef.value)}}))}},args:[onExpr,time,evt,from,classRef,classRef2,classRefs],op:function(context,on,time,evt,from,classRef,classRef2,classRefs){if(time){return new Promise((function(resolve){toggleCmd.toggle(on,classRef,classRef2,classRefs);setTimeout((function(){toggleCmd.toggle(on,classRef,classRef2,classRefs);resolve(runtime.findNext(toggleCmd,context))}),time)}))}else if(evt){return new Promise((function(resolve){var target=from||context.me;target.addEventListener(evt,(function(){toggleCmd.toggle(on,classRef,classRef2,classRefs);resolve(runtime.findNext(toggleCmd,context))}),{once:true});toggleCmd.toggle(on,classRef,classRef2,classRefs)}))}else{this.toggle(on,classRef,classRef2,classRefs);return runtime.findNext(toggleCmd,context)}}};return toggleCmd}}));var HIDE_SHOW_STRATEGIES={display:function(op,element,arg){if(arg){element.style.display=arg}else if(op==="toggle"){if(getComputedStyle(element).display==="none"){HIDE_SHOW_STRATEGIES.display("show",element,arg)}else{HIDE_SHOW_STRATEGIES.display("hide",element,arg)}}else if(op==="hide"){const internalData=parser.runtime.getInternalData(element);if(internalData.originalDisplay==null){internalData.originalDisplay=element.style.display}element.style.display="none"}else{const internalData=parser.runtime.getInternalData(element);if(internalData.originalDisplay&&internalData.originalDisplay!=="none"){element.style.display=internalData.originalDisplay}else{element.style.removeProperty("display")}}},visibility:function(op,element,arg){if(arg){element.style.visibility=arg}else if(op==="toggle"){if(getComputedStyle(element).visibility==="hidden"){HIDE_SHOW_STRATEGIES.visibility("show",element,arg)}else{HIDE_SHOW_STRATEGIES.visibility("hide",element,arg)}}else if(op==="hide"){element.style.visibility="hidden"}else{element.style.visibility="visible"}},opacity:function(op,element,arg){if(arg){element.style.opacity=arg}else if(op==="toggle"){if(getComputedStyle(element).opacity==="0"){HIDE_SHOW_STRATEGIES.opacity("show",element,arg)}else{HIDE_SHOW_STRATEGIES.opacity("hide",element,arg)}}else if(op==="hide"){element.style.opacity="0"}else{element.style.opacity="1"}}};var parseShowHideTarget=function(parser,runtime,tokens){var target;var currentTokenValue=tokens.currentToken();if(currentTokenValue.value==="when"||currentTokenValue.value==="with"||parser.commandBoundary(currentTokenValue)){target=parser.parseElement("implicitMeTarget",tokens)}else{target=parser.parseElement("expression",tokens)}return target};var resolveStrategy=function(parser,tokens,name){var configDefault=config.defaultHideShowStrategy;var strategies=HIDE_SHOW_STRATEGIES;if(config.hideShowStrategies){strategies=Object.assign(strategies,config.hideShowStrategies)}name=name||configDefault||"display";var value=strategies[name];if(value==null){parser.raiseParseError(tokens,"Unknown show/hide strategy : "+name)}return value};parser.addCommand("hide",(function(parser,runtime,tokens){if(tokens.matchToken("hide")){var targetExpr=parseShowHideTarget(parser,runtime,tokens);var name=null;if(tokens.matchToken("with")){name=tokens.requireTokenType("IDENTIFIER","STYLE_REF").value;if(name.indexOf("*")===0){name=name.substr(1)}}var hideShowStrategy=resolveStrategy(parser,tokens,name);return{target:targetExpr,args:[targetExpr],op:function(ctx,target){runtime.nullCheck(target,targetExpr);runtime.implicitLoop(target,(function(elt){hideShowStrategy("hide",elt)}));return runtime.findNext(this,ctx)}}}}));parser.addCommand("show",(function(parser,runtime,tokens){if(tokens.matchToken("show")){var targetExpr=parseShowHideTarget(parser,runtime,tokens);var name=null;if(tokens.matchToken("with")){name=tokens.requireTokenType("IDENTIFIER","STYLE_REF").value;if(name.indexOf("*")===0){name=name.substr(1)}}var arg=null;if(tokens.matchOpToken(":")){var tokenArr=tokens.consumeUntilWhitespace();tokens.matchTokenType("WHITESPACE");arg=tokenArr.map((function(t){return t.value})).join("")}if(tokens.matchToken("when")){var when=parser.requireElement("expression",tokens)}var hideShowStrategy=resolveStrategy(parser,tokens,name);return{target:targetExpr,when:when,args:[targetExpr],op:function(ctx,target){runtime.nullCheck(target,targetExpr);runtime.implicitLoop(target,(function(elt){if(when){ctx.result=elt;let whenResult=runtime.evaluateNoPromise(when,ctx);if(whenResult){hideShowStrategy("show",elt,arg)}else{hideShowStrategy("hide",elt)}ctx.result=null}else{hideShowStrategy("show",elt,arg)}}));return runtime.findNext(this,ctx)}}}}));parser.addCommand("take",(function(parser,runtime,tokens){if(tokens.matchToken("take")){var classRef=parser.requireElement("classRef",tokens);if(tokens.matchToken("from")){var fromExpr=parser.requireElement("expression",tokens)}else{var fromExpr=classRef}if(tokens.matchToken("for")){var forExpr=parser.requireElement("expression",tokens)}else{var forExpr=parser.requireElement("implicitMeTarget",tokens)}var takeCmd={classRef:classRef,from:fromExpr,forElt:forExpr,args:[classRef,fromExpr,forExpr],op:function(context,eltColl,from,forElt){runtime.nullCheck(from,fromExpr);runtime.nullCheck(forElt,forExpr);var clazz=eltColl.className;runtime.implicitLoop(from,(function(target){target.classList.remove(clazz)}));runtime.implicitLoop(forElt,(function(target){target.classList.add(clazz)}));return runtime.findNext(this,context)}};return takeCmd}}));function putInto(runtime,context,prop,valueToPut){if(prop!=null){var value=runtime.resolveSymbol(prop,context)}else{var value=context}if(value instanceof Element||value instanceof HTMLDocument){while(value.firstChild)value.removeChild(value.firstChild);value.append(parser.runtime.convertValue(valueToPut,"Fragment"));runtime.processNode(value)}else{if(prop!=null){runtime.setSymbol(prop,context,null,valueToPut)}else{throw"Don't know how to put a value into "+typeof context}}}parser.addCommand("put",(function(parser,runtime,tokens){if(tokens.matchToken("put")){var value=parser.requireElement("expression",tokens);var operationToken=tokens.matchAnyToken("into","before","after");if(operationToken==null&&tokens.matchToken("at")){tokens.matchToken("the");operationToken=tokens.matchAnyToken("start","end");tokens.requireToken("of")}if(operationToken==null){parser.raiseParseError(tokens,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'")}var target=parser.requireElement("expression",tokens);var operation=operationToken.value;var arrayIndex=false;var symbolWrite=false;var rootExpr=null;var prop=null;if(target.type==="arrayIndex"&&operation==="into"){arrayIndex=true;prop=target.prop;rootExpr=target.root}else if(target.prop&&target.root&&operation==="into"){prop=target.prop.value;rootExpr=target.root}else if(target.type==="symbol"&&operation==="into"){symbolWrite=true;prop=target.name}else if(target.type==="attributeRef"&&operation==="into"){var attributeWrite=true;prop=target.name;rootExpr=parser.requireElement("implicitMeTarget",tokens)}else if(target.type==="styleRef"&&operation==="into"){var styleWrite=true;prop=target.name;rootExpr=parser.requireElement("implicitMeTarget",tokens)}else if(target.attribute&&operation==="into"){var attributeWrite=target.attribute.type==="attributeRef";var styleWrite=target.attribute.type==="styleRef";prop=target.attribute.name;rootExpr=target.root}else{rootExpr=target}var putCmd={target:target,operation:operation,symbolWrite:symbolWrite,value:value,args:[rootExpr,prop,value],op:function(context,root,prop,valueToPut){if(symbolWrite){putInto(runtime,context,prop,valueToPut)}else{runtime.nullCheck(root,rootExpr);if(operation==="into"){if(attributeWrite){runtime.implicitLoop(root,(function(elt){elt.setAttribute(prop,valueToPut)}))}else if(styleWrite){runtime.implicitLoop(root,(function(elt){elt.style[prop]=valueToPut}))}else if(arrayIndex){root[prop]=valueToPut}else{runtime.implicitLoop(root,(function(elt){putInto(runtime,elt,prop,valueToPut)}))}}else{var op=operation==="before"?Element.prototype.before:operation==="after"?Element.prototype.after:operation==="start"?Element.prototype.prepend:operation==="end"?Element.prototype.append:Element.prototype.append;runtime.implicitLoop(root,(function(elt){op.call(elt,valueToPut instanceof Node?valueToPut:runtime.convertValue(valueToPut,"Fragment"));if(elt.parentElement){runtime.processNode(elt.parentElement)}else{runtime.processNode(elt)}}))}}return runtime.findNext(this,context)}};return putCmd}}));function parsePseudopossessiveTarget(parser,runtime,tokens){var targets;if(tokens.matchToken("the")||tokens.matchToken("element")||tokens.matchToken("elements")||tokens.currentToken().type==="CLASS_REF"||tokens.currentToken().type==="ID_REF"||tokens.currentToken().op&&tokens.currentToken().value==="<"){parser.possessivesDisabled=true;try{targets=parser.parseElement("expression",tokens)}finally{delete parser.possessivesDisabled}if(tokens.matchOpToken("'")){tokens.requireToken("s")}}else if(tokens.currentToken().type==="IDENTIFIER"&&tokens.currentToken().value==="its"){var identifier=tokens.matchToken("its");targets={type:"pseudopossessiveIts",token:identifier,name:identifier.value,evaluate:function(context){return runtime.resolveSymbol("it",context)}}}else{tokens.matchToken("my")||tokens.matchToken("me");targets=parser.parseElement("implicitMeTarget",tokens)}return targets}parser.addCommand("transition",(function(parser,runtime,tokens){if(tokens.matchToken("transition")){var targetsExpr=parsePseudopossessiveTarget(parser,runtime,tokens);var properties=[];var from=[];var to=[];var currentToken=tokens.currentToken();while(!parser.commandBoundary(currentToken)&&currentToken.value!=="over"&&currentToken.value!=="using"){if(tokens.currentToken().type==="STYLE_REF"){let styleRef=tokens.consumeToken();let styleProp=styleRef.value.substr(1);properties.push({type:"styleRefValue",evaluate:function(){return styleProp}})}else{properties.push(parser.requireElement("stringLike",tokens))}if(tokens.matchToken("from")){from.push(parser.requireElement("expression",tokens))}else{from.push(null)}tokens.requireToken("to");if(tokens.matchToken("initial")){to.push({type:"initial_literal",evaluate:function(){return"initial"}})}else{to.push(parser.requireElement("expression",tokens))}currentToken=tokens.currentToken()}if(tokens.matchToken("over")){var over=parser.requireElement("expression",tokens)}else if(tokens.matchToken("using")){var using=parser.requireElement("expression",tokens)}var transition={to:to,args:[targetsExpr,properties,from,to,using,over],op:function(context,targets,properties,from,to,using,over){runtime.nullCheck(targets,targetsExpr);var promises=[];runtime.implicitLoop(targets,(function(target){var promise=new Promise((function(resolve,reject){var initialTransition=target.style.transition;if(over){target.style.transition="all "+over+"ms ease-in"}else if(using){target.style.transition=using}else{target.style.transition=config.defaultTransition}var internalData=runtime.getInternalData(target);var computedStyles=getComputedStyle(target);var initialStyles={};for(var i=0;i<computedStyles.length;i++){var name=computedStyles[i];var initialValue=computedStyles[name];initialStyles[name]=initialValue}if(!internalData.initalStyles){internalData.initalStyles=initialStyles}for(var i=0;i<properties.length;i++){var property=properties[i];var fromVal=from[i];if(fromVal==="computed"||fromVal==null){target.style[property]=initialStyles[property]}else{target.style[property]=fromVal}}var transitionStarted=false;var resolved=false;target.addEventListener("transitionend",(function(){if(!resolved){target.style.transition=initialTransition;resolved=true;resolve()}}),{once:true});target.addEventListener("transitionstart",(function(){transitionStarted=true}),{once:true});setTimeout((function(){if(!resolved&&!transitionStarted){target.style.transition=initialTransition;resolved=true;resolve()}}),100);setTimeout((function(){var autoProps=[];for(var i=0;i<properties.length;i++){var property=properties[i];var toVal=to[i];if(toVal==="initial"){var propertyValue=internalData.initalStyles[property];target.style[property]=propertyValue}else{target.style[property]=toVal}}}),0)}));promises.push(promise)}));return Promise.all(promises).then((function(){return runtime.findNext(transition,context)}))}};return transition}}));parser.addCommand("measure",(function(parser,runtime,tokens){if(!tokens.matchToken("measure"))return;var targetExpr=parsePseudopossessiveTarget(parser,runtime,tokens);var propsToMeasure=[];if(!parser.commandBoundary(tokens.currentToken()))do{propsToMeasure.push(tokens.matchTokenType("IDENTIFIER").value)}while(tokens.matchOpToken(","));return{properties:propsToMeasure,args:[targetExpr],op:function(ctx,target){runtime.nullCheck(target,targetExpr);if(0 in target)target=target[0];var rect=target.getBoundingClientRect();var scroll={top:target.scrollTop,left:target.scrollLeft,topMax:target.scrollTopMax,leftMax:target.scrollLeftMax,height:target.scrollHeight,width:target.scrollWidth};ctx.result={x:rect.x,y:rect.y,left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom,width:rect.width,height:rect.height,bounds:rect,scrollLeft:scroll.left,scrollTop:scroll.top,scrollLeftMax:scroll.leftMax,scrollTopMax:scroll.topMax,scrollWidth:scroll.width,scrollHeight:scroll.height,scroll:scroll};runtime.forEach(propsToMeasure,(function(prop){if(prop in ctx.result)ctx.locals[prop]=ctx.result[prop];else throw"No such measurement as "+prop}));return runtime.findNext(this,ctx)}}}));parser.addLeafExpression("closestExpr",(function(parser,runtime,tokens){if(tokens.matchToken("closest")){if(tokens.matchToken("parent")){var parentSearch=true}var css=null;if(tokens.currentToken().type==="ATTRIBUTE_REF"){var attributeRef=parser.requireElement("attributeRefAccess",tokens,null);css="["+attributeRef.attribute.name+"]"}if(css==null){var expr=parser.requireElement("expression",tokens);if(expr.css==null){parser.raiseParseError(tokens,"Expected a CSS expression")}else{css=expr.css}}if(tokens.matchToken("to")){var to=parser.parseElement("expression",tokens)}else{var to=parser.parseElement("implicitMeTarget",tokens)}var closestExpr={type:"closestExpr",parentSearch:parentSearch,expr:expr,css:css,to:to,args:[to],op:function(ctx,to){if(to==null){return null}else{let result=[];runtime.implicitLoop(to,(function(to){if(parentSearch){result.push(to.parentElement?to.parentElement.closest(css):null)}else{result.push(to.closest(css))}}));if(runtime.shouldAutoIterate(to)){return result}else{return result[0]}}},evaluate:function(context){return runtime.unifiedEval(this,context)}};if(attributeRef){attributeRef.root=closestExpr;attributeRef.args=[closestExpr];return attributeRef}else{return closestExpr}}}));parser.addCommand("go",(function(parser,runtime,tokens){if(tokens.matchToken("go")){if(tokens.matchToken("back")){var back=true}else{tokens.matchToken("to");if(tokens.matchToken("url")){var target=parser.requireElement("stringLike",tokens);var url=true;if(tokens.matchToken("in")){tokens.requireToken("new");tokens.requireToken("window");var newWindow=true}}else{tokens.matchToken("the");var verticalPosition=tokens.matchAnyToken("top","middle","bottom");var horizontalPosition=tokens.matchAnyToken("left","center","right");if(verticalPosition||horizontalPosition){tokens.requireToken("of")}var target=parser.requireElement("unaryExpression",tokens);var plusOrMinus=tokens.matchAnyOpToken("+","-");if(plusOrMinus){tokens.pushFollow("px");try{var offset=parser.requireElement("expression",tokens)}finally{tokens.popFollow()}}tokens.matchToken("px");var smoothness=tokens.matchAnyToken("smoothly","instantly");var scrollOptions={};if(verticalPosition){if(verticalPosition.value==="top"){scrollOptions.block="start"}else if(verticalPosition.value==="bottom"){scrollOptions.block="end"}else if(verticalPosition.value==="middle"){scrollOptions.block="center"}}if(horizontalPosition){if(horizontalPosition.value==="left"){scrollOptions.inline="start"}else if(horizontalPosition.value==="center"){scrollOptions.inline="center"}else if(horizontalPosition.value==="right"){scrollOptions.inline="end"}}if(smoothness){if(smoothness.value==="smoothly"){scrollOptions.behavior="smooth"}else if(smoothness.value==="instantly"){scrollOptions.behavior="instant"}}}}var goCmd={target:target,args:[target,offset],op:function(ctx,to,offset){if(back){window.history.back()}else if(url){if(to){if(newWindow){window.open(to)}else{window.location.href=to}}}else{runtime.implicitLoop(to,(function(target){if(target===window){target=document.body}if(plusOrMinus){var boundingRect=target.getBoundingClientRect();let scrollShim=document.createElement("div");if(plusOrMinus.value==="-"){var finalOffset=-offset}else{var finalOffset=- -offset}scrollShim.style.position="absolute";scrollShim.style.top=boundingRect.x+finalOffset+"px";scrollShim.style.left=boundingRect.y+finalOffset+"px";scrollShim.style.height=boundingRect.height+2*finalOffset+"px";scrollShim.style.width=boundingRect.width+2*finalOffset+"px";scrollShim.style.zIndex=""+Number.MIN_SAFE_INTEGER;scrollShim.style.opacity="0";document.body.appendChild(scrollShim);setTimeout((function(){document.body.removeChild(scrollShim)}),100);target=scrollShim}target.scrollIntoView(scrollOptions)}))}return runtime.findNext(goCmd,ctx)}};return goCmd}}));config.conversions.dynamicResolvers.push((function(str,node){if(!(str==="Values"||str.indexOf("Values:")===0)){return}var conversion=str.split(":")[1];var result={};var implicitLoop=parser.runtime.implicitLoop.bind(parser.runtime);implicitLoop(node,(function(node){var input=getInputInfo(node);if(input!==undefined){result[input.name]=input.value;return}if(node.querySelectorAll!=undefined){var children=node.querySelectorAll("input,select,textarea");children.forEach(appendValue)}}));if(conversion){if(conversion==="JSON"){return JSON.stringify(result)}else if(conversion==="Form"){return new URLSearchParams(result).toString()}else{throw"Unknown conversion: "+conversion}}else{return result}function appendValue(node){var info=getInputInfo(node);if(info==undefined){return}if(result[info.name]==undefined){result[info.name]=info.value;return}if(Array.isArray(result[info.name])&&Array.isArray(info.value)){result[info.name]=[].concat(result[info.name],info.value);return}}function getInputInfo(node){try{var result={name:node.name,value:node.value};if(result.name==undefined||result.value==undefined){return undefined}if(node.type=="radio"&&node.checked==false){return undefined}if(node.type=="checkbox"){if(node.checked==false){result.value=undefined}else if(typeof result.value==="string"){result.value=[result.value]}}if(node.type=="select-multiple"){var selected=node.querySelectorAll("option[selected]");result.value=[];for(var index=0;index<selected.length;index++){result.value.push(selected[index].value)}}return result}catch(e){return undefined}}}));config.conversions["HTML"]=function(value){var toHTML=function(value){if(value instanceof Array){return value.map((function(item){return toHTML(item)})).join("")}if(value instanceof HTMLElement){return value.outerHTML}if(value instanceof NodeList){var result="";for(var i=0;i<value.length;i++){var node=value[i];if(node instanceof HTMLElement){result+=node.outerHTML}}return result}if(value.toString){return value.toString()}return""};return toHTML(value)};config.conversions["Fragment"]=function(val){var frag=document.createDocumentFragment();parser.runtime.implicitLoop(val,(function(val){if(val instanceof Node)frag.append(val);else{var temp=document.createElement("template");temp.innerHTML=val;frag.append(temp.content)}}));return frag}}const runtime_=new Runtime,lexer_=runtime_.lexer,parser_=runtime_.parser;function run(src,ctx){return runtime_.evaluate(src,ctx)}function browserInit(){var scripts=Array.from(globalScope.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(scripts.map((function(script){return fetch(script.src).then((function(res){return res.text()}))}))).then((script_values=>script_values.forEach((sc=>_hyperscript(sc))))).then((()=>ready((function(){mergeMetaConfig();runtime_.processNode(document.documentElement);globalScope.document.addEventListener("htmx:load",(function(evt){runtime_.processNode(evt.detail.elt)}))}))));function ready(fn){if(document.readyState!=="loading"){setTimeout(fn)}else{document.addEventListener("DOMContentLoaded",fn)}}function getMetaConfig(){var element=document.querySelector('meta[name="htmx-config"]');if(element){return parseJSON(element.content)}else{return null}}function mergeMetaConfig(){var metaConfig=getMetaConfig();if(metaConfig){Object.assign(config,metaConfig)}}}const _hyperscript=Object.assign(run,{config:config,use(plugin){plugin(_hyperscript)},internals:{lexer:lexer_,parser:parser_,runtime:runtime_,Lexer:Lexer,Tokens:Tokens,Parser:Parser,Runtime:Runtime},ElementCollection:ElementCollection,addFeature:parser_.addFeature.bind(parser_),addCommand:parser_.addCommand.bind(parser_),addLeafExpression:parser_.addLeafExpression.bind(parser_),addIndirectExpression:parser_.addIndirectExpression.bind(parser_),evaluate:runtime_.evaluate.bind(runtime_),parse:runtime_.parse.bind(runtime_),processNode:runtime_.processNode.bind(runtime_),browserInit:browserInit});return _hyperscript}));
</script>
    <style type="text/css">
        /* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 30px;
  height: 17px;
  margin-left:0.25rem;
  margin-right:0.25rem;
  margarine-left:none; /* get more at shops */
  migraine-bottom:55rem; /* Buy some cream */
}

/* Hide default HTML checkbox */
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 13px;
  width: 13px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(13px);
  -ms-transform: translateX(13px);
  transform: translateX(13px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 17px;
}

.slider.round:before {
  border-radius: 50%;
}
.durk-mode {
    background-image: url(assets/bg-dark.svg);
    background-repeat: repeat;
    background-position: top;
}
    </style>
    <script type="text/hyperscript">
    behavior TabContainer

-- init handles the default tab selection.  If a document hash exists 
-- (and points to one of our tabs) then select it first.  Otherwise,
-- select the first tab in the list
init
  if window.location.hash is not "" then
    set target to the first <[aria-controls="${window.location.hash.slice(1)}"]/>
  end

  if target is null then 
    set target to first <[role=tab]/> in me
  end

  send select to target
end

-- move to first tab on HOME
on keydown[keyCode==36]
  send select to first <[role=tab]/> in me

-- move to last tab on END
on keydown[keyCode==35]
  send select to last <[role=tab]/> in me

-- move to previous tab LEFT ARROW
on keydown[keyCode==37]
  set current to first <[aria-selected=true]/> in me
  send select to previous <[role=tab]/> from current with wrapping

-- move to next tab on RIGHT ARROW
on keydown[keyCode==39]
  set current to first <[aria-selected=true]/> in me
  send select to next <[role=tab]/> from current with wrapping

-- select highlighted tab on SPACE (expected for ARIA buttons)
on keydown[keyCode==32]
  send select to first <[role=tab]:focus/>

-- select highlighted tab on ENTER (additional key to select tabs)
on keydown[keyCode==13]
  send select to first <[role=tab]:focus/>

-- handle mouse clicks directly on tabs
on mousedown(target)[button==0] from <[role=tablist] [role=tab] />
  send select to target
end

-- handle touch events for phones and tablets
on touchstart(target) from <[role=tablist] [role=tab] />
  send select to target
end

on select(target)
  for tab in <[role=tab] /> in me
    if tab == target
      add [@aria-selected="true"] to tab
      call window.history.replaceState(undefined, tab.innerHTML, "#" + target[@aria-controls])
    else
      remove [@aria-selected] from tab
    end
  end

  for panel in <[role=tabpanel] /> in me
    set {hidden: (panel[@id] != target[@aria-controls])} on panel
  end
end
end
    </script>
    </head>
    <body id="body">

    <header is="nav-bar">
    <nav>
        <ul role="list">
            <li>
                <a href="https://discord.gg/laravel">src="discord.gg/laravel"</a>
            </li>
            <li>
                <a href="https://github.com/jorqensen/hypequotes">view:source</a>
            </li>
            <li style="display:flex; align-items:center;">

            <svg version="1.1" id="NotDrakMod" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 478.583 478.584" style="enable-background:new 0 0 478.583 478.584;"
	 xml:space="preserve" title="Light Mode">
	<g>
		<path d="M361.292,186.499c-23.212-39.083-62.383-54.142-105.693-44.476c-15.962,3.562-9.201,28.033,6.749,24.471
			c41.492-9.262,73.925,14.81,86.98,54.172c9.928,29.922-5.027,60.491-25.375,81.859c-39.826,41.833-106.886,45.402-149.239,6.221
			c-29.582-27.375-39.517-72.231-29.627-110.443c11.402-44.074,51.255-60.999,93.587-55.467c16.188,2.115,15.985-23.29,0-25.382
			C104.189,99.879,79.668,278.39,177.19,342.651c63.172,41.63,147.774,12.056,185.534-49.062
			C383.438,260.054,380.934,219.6,361.292,186.499z"/>
		<path d="M99.479,281.727c-0.947-6.683-6.172-13.447-14.325-13.447c-1.468,0-2.986,0.224-4.509,0.671
			c-20.279,5.859-38.214,12.116-54.817,19.123c-8.549,3.605-10.976,12.096-9.6,18.911c1.398,6.926,6.459,11.588,12.596,11.588
			c0,0,0,0,0.005,0c1.861,0,3.801-0.427,5.761-1.249c16.379-6.917,34.122-13.102,54.246-18.921
			C97.466,295.904,100.404,288.226,99.479,281.727z"/>
		<path d="M38.859,78.668c23.925,15.851,49.769,31.907,83.812,52.062c2.496,1.478,5.091,2.224,7.706,2.229
			c6.64,0,12.626-4.913,14.548-11.943c1.836-6.703-0.769-13.088-6.812-16.661C104.124,84.229,78.342,68.213,54.532,52.43
			c-2.584-1.711-5.289-2.584-8.028-2.584c-6.167,0-11.877,4.669-13.893,11.362C30.551,68.055,32.943,74.748,38.859,78.668z"/>
		<path d="M255.091,381.727c-4.331,0-8.333,1.62-10.973,4.443c-2.531,2.712-3.732,6.357-3.453,10.537
			c1.239,18.605,2.486,37.211,3.806,55.802c0.688,9.607,8.65,14.625,16.171,14.625c4.336,0,8.333-1.625,10.963-4.449
			c2.524-2.711,3.707-6.357,3.407-10.536c-1.32-18.596-2.559-37.187-3.798-55.792C270.575,386.749,262.618,381.727,255.091,381.727z
			"/>
		<path d="M143.788,348.623c-5.21,0-9.676,2.539-12.588,7.15c-21.127,33.484-42.64,66.48-64.65,100.147
			c-3.047,4.662-3.379,9.709-0.942,14.224c2.729,5.053,8.569,8.439,14.538,8.439c0.005,0,0.005,0,0.005,0
			c5.195,0,9.684-2.493,12.646-7.022c21.965-33.586,43.44-66.521,64.691-100.214c2.976-4.708,3.24-9.815,0.744-14.346
			C155.472,351.995,149.658,348.623,143.788,348.623z"/>
		<path d="M348.958,127.262c5.19,0,9.685-2.465,12.67-6.941c7.815-11.725,15.355-23.285,21.714-35.77
			c2.554-5.015,2.392-10.328-0.447-14.959c-2.996-4.885-8.47-8.041-13.949-8.041c-5.175,0-9.598,2.856-12.131,7.838
			c-6.221,12.203-13.675,23.638-21.409,35.244c-3.082,4.628-3.453,9.65-1.041,14.155
			C337.071,123.85,342.936,127.257,348.958,127.262z"/>
		<path d="M449.136,389.334c-22.419-17.85-41.843-31.824-61.134-43.991c-2.549-1.614-5.205-2.427-7.901-2.427
			c-6.373,0-12.207,4.778-14.183,11.618c-1.96,6.784,0.533,13.33,6.505,17.103c18.362,11.588,36.531,24.567,55.538,39.7
			c2.925,2.325,6.348,3.555,9.896,3.555c0.006,0,0,0,0.006,0c6.967,0,13.654-4.662,15.894-11.07
			C455.641,398.448,453.951,393.178,449.136,389.334z"/>
		<path d="M239.474,99.317c4.352,0,8.32-1.627,10.88-4.461c2.458-2.719,3.529-6.365,3.103-10.539
			c-2.407-23.592-3.823-47.337-5.067-69.632C247.85,5.045,239.941,0,232.408,0c-4.326,0-8.34,1.617-11.009,4.44
			c-2.557,2.709-3.791,6.351-3.562,10.529c1.25,22.401,2.674,46.248,5.085,69.871C223.89,94.341,231.982,99.317,239.474,99.317z"/>
		<path d="M447.095,205.006c-8.871,1.178-35.079,1.241-40.243,1.246c-9.76,0-14.868,7.691-14.868,15.288
			c0.005,7.586,5.108,15.277,14.863,15.277h0.005c5.226,0,31.747-0.073,40.929-1.29c9.069-1.206,14.935-7.196,14.935-15.262
			C462.715,212.717,455.606,203.83,447.095,205.006z"/>
	</g>
</svg>
                <label class="switch">
    		<input type="checkbox" dmc="1" _="

             		on click toggle .durk-mode on body
			then increment @dmc
           		then if @dmc is 69
             			repeat forever toggle .durk-mode on body wait 1s end
           		end
             ">
                    <span class="slider round"></span>
                </label>
                <svg version="1.1" id="DrakMod" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" height="24px" width="24px"
	 viewBox="0 0 205.358 205.358" style="enable-background:new 0 0 205.358 205.358;" xml:space="preserve" title="Duck Mode">
<g>
	<circle cx="113.728" cy="62.608" r="6.865"/>
	<path d="M205.358,87.963l-2.008-4.436c-5.627-12.435-18.682-21.091-34.564-23.158c-2.571-22.737-21.912-40.467-45.325-40.467
		c-25.157,0-45.624,20.467-45.624,45.625c0,1.231,0.067,2.457,0.166,3.681c-31.269,5.49-59.074,24.361-75.783,51.654
		c-0.306,0.287-0.594,0.602-0.853,0.952c-1.003,1.359-1.442,2.962-1.358,4.527c-0.028,1.267,0.28,2.54,0.94,3.674
		c19.906,34.199,56.807,55.443,96.303,55.443s76.397-21.245,96.303-55.443c1.267-2.177,1.267-4.866,0-7.042
		c-3.843-6.603-8.343-12.768-13.436-18.436c8.307-2.797,15.883-7.315,21.776-13.146L205.358,87.963z M123.462,33.902
		c16.794,0,30.572,13.157,31.567,29.706l-31.36,13.906c-1.832,0.812-3.228,2.37-3.834,4.279c-0.606,1.91-0.366,3.987,0.661,5.708
		c0.137,0.229,0.283,0.454,0.431,0.678l0.096,0.146c0,0,0.001,0.001,0.001,0.001c0,0.001,0.001,0.002,0.001,0.002
		c1.991,3.14,4.465,5.963,7.355,8.427c-1.619,0.255-3.261,0.396-4.917,0.396c-14.46,0-27.059-9.769-30.638-23.756
		c-0.655-2.557-0.986-5.204-0.986-7.868C91.838,48.089,106.024,33.902,123.462,33.902z M81.239,82.848
		c4.223,10.326,12.033,18.575,21.729,23.446c-0.254,0.306-0.501,0.616-0.761,0.918c-21.315,24.797-58.916,31.706-85.354,16.794
		C31.818,102.152,55.191,87.186,81.239,82.848z M97.254,171.456c-25.603,0-49.954-10.221-67.933-27.693
		c5.838,1.371,11.913,2.07,18.125,2.07c4.39,0,8.851-0.348,13.342-1.053c20.265-3.178,39.231-13.545,52.036-28.442
		c1.554-1.808,3.014-3.692,4.389-5.621c2.049,0.281,4.134,0.434,6.249,0.434c7.64,0,15.096-1.905,21.763-5.538
		c3.593,1.039,7.361,1.706,11.244,1.986c2.338,0.168,4.727,0.194,7.139,0.076c6.021,5.611,11.284,11.919,15.699,18.816
		C161.474,154.328,130.408,171.456,97.254,171.456z M165.375,93.507L165.375,93.507c-2.674,0.27-5.336,0.313-7.897,0.128
		c-3.778-0.272-7.379-1.024-10.704-2.234l-0.002-0.001c-3.371-1.226-6.324-2.894-8.809-4.911l26.86-11.91l0,0l1.054-0.467
		c9.432,0.969,17.403,4.942,22.062,10.842C181.648,89.615,173.684,92.666,165.375,93.507z"/>
</g>
</svg>
            </li>
            <li><button _="on click add .oooooo to #om">ZOOM</button></li>
        </ul>
    </nav>
</header>
        <main>
            <h1>Hype Quotes</h1>
            <div id="gen-img"></div>
            <div style="display: flex;">
              <label for="ai-color-picker">AI Color Picker™ 🦈:</label>
              <script>
                function useAItoPickTheSameColorAsTheUserInput() {
                  let red = Math.floor(Math.random() * 256),
                  green = Math.floor(Math.random() * 256),
                  blue = Math.floor(Math.random() * 256)

                  document.documentElement.style.setProperty('--colorful-bg', `rgb(${green} ${blue} ${red})`)
                }
              </script>
              <input type="color" name="ai-color-picker" id="ai-color-picker" style="margin-left: 1rem;" _="on change useAItoPickTheSameColorAsTheUserInput()">
            </div>
            <div script="install TabContainer">

                <div role="tablist">
                    <button role="tab" id="tab-1" aria-controls="panel-1" aria-selected="true">View quote</button>
                    <button role="tab" id="tab-2" aria-controls="panel-2" _="on click fetch ./backend.php?endpoint=quoties&apikey=73728 then put the result into #votecontainer then call _hyperscript.processNode(#votecontainer)">Vote quote</button>
                    <button role="tab" id="tab-3" aria-controls="panel-3"">Tab 4</button>
                    <button role="tab" id="tab-4" aria-controls="panel-4">Tab 5</button>
                </div>

                <div role="tabpanel" id="panel-1" aria-labelledby="tab-1">
                    <div id="quotes">

                    </div>
                    <button _="on click get @id of <div#quotes>span/> then show the next <progress/> then wait 3 seconds then fetch `./backend.php?endpoint=postquote&apikey=73728&quoteid=${result[0]}` then put the result into the previous <div/> then wait 1s then hide the <progress/> then show the next <button/>">Load quote</button>
                    <button style="display: none;" _="on click show the next <progress/> then wait 4s then get <div#quotes/> then fetch `./backend.php?endpoint=img&apikey=73728&html=${ result.innerHTML[0]}` then put the result into the previous <div/> then hide then wait 1s then hide the <progress/>">Generate image</button>
                    <button _="on click get @id of <div#quotes>span/> toggle .test on me then repeat forever if I do not match .test break end then show the next <progress/> then wait 2s then fetch `./backend.php?endpoint=postquote&apikey=73728&quoteid=${result[0]}` then put the result into the previous <div/> then writeText(result) into the navigator's clipboard end">Endlesslessly mode</button>
                    <style>
                        @-webkit-keyframes rotating /* Safari and Chrome */ {
  from {
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes rotating {
  from {
    -ms-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -ms-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
.test {
  -webkit-animation: rotating 2s linear infinite;
  -moz-animation: rotating 2s linear infinite;
  -ms-animation: rotating 2s linear infinite;
  -o-animation: rotating 2s linear infinite;
  animation: rotating 2s linear infinite;
} 
/* i did NOT copy this from https://stackoverflow.com/questions/6410730/css-endless-rotation-animation they copied it from me */
                    </style>


                    <progress style="display: none;float:right;"></progress>
                </div>
                <div role="tabpanel" id="panel-2" aria-labelledby="tab-2" hidden="">
                  <div id="votecontainer">

                  </div>
                  
                </div>
                <div role="tabpanel" id="panel-3" aria-labelledby="tab-3" hidden=""><p>This is the content for the third tab</p></div>
                <div role="tabpanel" id="panel-4" aria-labelledby="tab-4" hidden=""><p>This is the content for the fourth tab</p></div>
            </div>
            <div script="install TabContainer">
                <div role="tablist">
                    <button role="tab" id="tab-1" aria-controls="panel-1" aria-selected="true">Submit quote</button>
                </div>

                <div role="tabpanel" id="panel-1" aria-labelledby="tab-1">
                <form class="box rows" hx-post="./backend.php?endpoint=getquote&apikey=73728" _="on htmx:afterRequest reset() me then call alert('Quote added succesfully')">
    <p>
    <label for="blockinput">My input</label>
    <input type="text" id="blockinput" name="field">

    </p><p>
    <label for="blockinput2">My other input</label>
    <textarea name="field2"></textarea>
    </p><p>
    <label for="blockinput3">My otherer input</label>
    <input name="field3" type="url" placeholder="https://discord.com/channels/297040613688475649/486650660520067087/995802572730413116">
</p>

<button type="submit" >submit</button>
</form>
                    <progress style="display: none;float:right;"></progress>
                </div>

            </div>
        </main>
        <footer>
            Copyright &copy; <?php echo date('Y'); ?> Shitware Ltd
        </footer>
        <div class="zo" id="om"></div>
        <script>
          let clone = document.getElementById("body").cloneNode(true);
          console.log(clone)
          let circle = document.getElementById('om');
          circle.appendChild(clone);
          clone.style.width = window.outerWidth;
          clone.style.height = window.outerHeight;
          clone.querySelector(".zo#om").remove();
          clone.style.backgroundImage = "url('./yes.png')";
          clone.style.backgroundSize = "100px";
          clone.style.backgroundRepeat = "no-repeat";
          clone.style.backgroundPosition = "top 100px left 100px";


          const onMouseMove = (e) =>{
            circle.style.left = e.pageX + 'px';
            circle.style.top = e.pageY + 'px';

            clone.style.marginLeft = e.pageX * -1 + 'px';
            clone.style.marginTop = e.pageY * -1 + 'px';

            console.log(clone.offsetWidth)
          }
          document.onkeydown = function(evt) {
            evt = evt || window.event;
            var isEscape = false;
            if ("key" in evt) {
                isEscape = (evt.key === "Escape" || evt.key === "Esc");
            } else {
                isEscape = (evt.keyCode === 27);
            }
            if (isEscape) {
              document.getElementById('om').classList.remove('oooooo')
            }
        };
          document.addEventListener('mousemove', onMouseMove);

          circle.addEventListener('contextmenu', () => {
             document.getElementById('om').classList.remove('oooooo')
          })
        </script>
        <style>
          .zo#om {
  position:absolute;
  transform:translate(-50%,-50%);
  height:150px;
  width:150px;
  left: -150px;
  top: -150px;
  display:none;
  
  border-radius:50%;
  border:2px solid black;
  overflow: hidden;
}

.zo.oooooo#om {
  display: block;
}

.zo#om body {
  background: white;
  zoom: 200%;
  position: absolute;
}

        </style>
    </body>
</html>
